function getScrollBarWidth(){var inner=document.createElement("p");inner.style.width="100%",inner.style.height="200px";var outer=document.createElement("div");outer.style.position="absolute",outer.style.top="0px",outer.style.left="0px",outer.style.visibility="hidden",outer.style.width="200px",outer.style.height="150px",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;return w1==w2&&(w2=outer.clientWidth),document.body.removeChild(outer),w1-w2}function FB_share(url){return dataLayer.push({event:"customEvent",category:"Share",action:"click",label:"Facebook",value:1}),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(url),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600"),!1}function TW_share(url,text){return dataLayer.push({event:"customEvent",category:"Share",action:"click",label:"Twitter",value:1}),_.isUndefined(text)&&(text=""),window.open("http://twitter.com/share?url="+encodeURIComponent(url)+"&text="+encodeURIComponent(text),"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0"),!1}function GP_share(url){return dataLayer.push({event:"customEvent",category:"Share",action:"click",label:"Google Plus",value:1}),window.open("https://plus.google.com/share?url="+url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}function GTM_map_cart_products(cart){return _.map(cart.items,function(item){return{name:item.productDTO.title,id:item.productDTO.id,price:item.productDTO.price,quantity:item.quantity}})}function GTM_log_funnel_step(options,cb){dataLayer.push({event:"GTM_ECOM_FUNNEL_STEP",category:"Ecommerce",action:options.action,ecommerce:options.ecommerce,eventCallback:function(){cb&&cb()}})}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(function(){function t(t,n){return t.set(n[0],n[1]),t}function n(t,n){return t.add(n),t}function r(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function e(t,n,r,e){for(var u=-1,o=t?t.length:0;++u<o;){var i=t[u];n(e,i,r(i),t)}return e}function u(t,n){for(var r=-1,e=t?t.length:0;++r<e&&!1!==n(t[r],r,t););return t}function o(t,n){for(var r=t?t.length:0;r--&&!1!==n(t[r],r,t););return t}function i(t,n){for(var r=-1,e=t?t.length:0;++r<e;)if(!n(t[r],r,t))return!1;return!0}function f(t,n){for(var r=-1,e=t?t.length:0,u=0,o=[];++r<e;){var i=t[r];n(i,r,t)&&(o[u++]=i)}return o}function c(t,n){return!(!t||!t.length)&&-1<d(t,n,0)}function a(t,n,r){for(var e=-1,u=t?t.length:0;++e<u;)if(r(n,t[e]))return!0;return!1}function l(t,n){for(var r=-1,e=t?t.length:0,u=Array(e);++r<e;)u[r]=n(t[r],r,t);return u}function s(t,n){for(var r=-1,e=n.length,u=t.length;++r<e;)t[u+r]=n[r];return t}function h(t,n,r,e){var u=-1,o=t?t.length:0;for(e&&o&&(r=t[++u]);++u<o;)r=n(r,t[u],u,t);return r}function p(t,n,r,e){var u=t?t.length:0;for(e&&u&&(r=t[--u]);u--;)r=n(r,t[u],u,t);return r}function _(t,n){for(var r=-1,e=t?t.length:0;++r<e;)if(n(t[r],r,t))return!0;return!1}function v(t,n,r){var e;return r(t,function(t,r,u){return n(t,r,u)?(e=r,!1):void 0}),e}function g(t,n,r,e){var u=t.length;for(r+=e?1:-1;e?r--:++r<u;)if(n(t[r],r,t))return r;return-1}function d(t,n,r){if(n!==n)return M(t,r);--r;for(var e=t.length;++r<e;)if(t[r]===n)return r;return-1}function y(t,n,r,e){--r;for(var u=t.length;++r<u;)if(e(t[r],n))return r;return-1}function b(t,n){var r=t?t.length:0;return r?w(t,n)/r:V}function x(t,n,r,e,u){return u(t,function(t,u,o){r=e?(e=!1,t):n(r,t,u,o)}),r}function j(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].c;return t}function w(t,n){for(var r,e=-1,u=t.length;++e<u;){var o=n(t[e]);o!==T&&(r=r===T?o:r+o)}return r}function m(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}function A(t,n){return l(n,function(n){return[n,t[n]]})}function O(t){return function(n){return t(n)}}function k(t,n){return l(n,function(n){return t[n]})}function E(t,n){return t.has(n)}function S(t,n){for(var r=-1,e=t.length;++r<e&&-1<d(n,t[r],0););return r}function I(t,n){for(var r=t.length;r--&&-1<d(n,t[r],0););return r}function R(t){return t&&t.Object===Object?t:null}function W(t){return zt[t]}function B(t){return Ut[t]}function L(t){return"\\"+Dt[t]}function M(t,n,r){var e=t.length;for(n+=r?1:-1;r?n--:++n<e;){var u=t[n];if(u!==u)return n}return-1}function C(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(r){}return n}function z(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}function U(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function $(t,n){for(var r=-1,e=t.length,u=0,o=[];++r<e;){var i=t[r];i!==n&&"__lodash_placeholder__"!==i||(t[r]="__lodash_placeholder__",o[u++]=r)}return o}function D(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function F(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=[t,t]}),r}function N(t){if(!t||!Wt.test(t))return t.length;for(var n=It.lastIndex=0;It.test(t);)n++;return n}function P(t){return $t[t]}function Z(R){function At(t,n){return R.setTimeout.call(Kt,t,n)}function Ot(t){if(Te(t)&&!yi(t)&&!(t instanceof Ut)){if(t instanceof zt)return t;if(Wu.call(t,"__wrapped__"))return ae(t)}return new zt(t)}function kt(){}function zt(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=T}function Ut(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function $t(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Dt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Pt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Zt(t){var n=-1,r=t?t.length:0;for(this.__data__=new Pt;++n<r;)this.add(t[n])}function qt(t){this.__data__=new Dt(t)}function Vt(t,n,r,e){return t===T||Ce(t,ku[r])&&!Wu.call(e,r)?n:t}function Jt(t,n,r){(r===T||Ce(t[n],r))&&("number"!=typeof n||r!==T||n in t)||(t[n]=r)}function Yt(t,n,r){var e=t[n];Wu.call(t,n)&&Ce(e,r)&&(r!==T||n in t)||(t[n]=r)}function Ht(t,n){for(var r=t.length;r--;)if(Ce(t[r][0],n))return r;return-1}function Qt(t,n,r,e){return Ao(t,function(t,u,o){n(e,t,r(t),o)}),e}function Xt(t,n){return t&&sr(n,iu(n),t)}function tn(t,n){for(var r=-1,e=null==t,u=n.length,o=Array(u);++r<u;)o[r]=e?T:uu(t,n[r]);return o}function nn(t,n,r){return t===t&&(r!==T&&(t=r>=t?t:r),n!==T&&(t=t>=n?t:n)),t}function rn(t,n,r,e,o,i,f){var c;if(e&&(c=i?e(t,o,i,f):e(t)),c!==T)return c;if(!Ze(t))return t;if(o=yi(t)){if(c=Kr(t),!n)return lr(t,c)}else{var a=qr(t),l="[object Function]"==a||"[object GeneratorFunction]"==a;if(bi(t))return or(t,n);if("[object Object]"==a||"[object Arguments]"==a||l&&!i){if(C(t))return i?t:{};if(c=Gr(l?{}:t),!n)return hr(t,Xt(c,t))}else{if(!Ct[a])return i?t:{};c=Jr(t,a,rn,n)}}if(f||(f=new qt),i=f.get(t))return i;if(f.set(t,c),!o)var s=r?gn(t,iu,Tr):iu(t);return u(s||t,function(u,o){s&&(o=u,u=t[o]),Yt(c,o,rn(u,n,r,e,o,t,f))}),c}function en(t){var n=iu(t),r=n.length;return function(e){if(null==e)return!r;for(var u=r;u--;){var o=n[u],i=t[o],f=e[o];if(f===T&&!(o in Object(e))||!i(f))return!1}return!0}}function un(t){return Ze(t)?Tu(t):{}}function on(t,n,r){if("function"!=typeof t)throw new Au("Expected a function");return At(function(){t.apply(T,r)},n)}function fn(t,n,r,e){var u=-1,o=c,i=!0,f=t.length,s=[],h=n.length;if(!f)return s;r&&(n=l(n,O(r))),e?(o=a,i=!1):n.length>=200&&(o=E,i=!1,n=new Zt(n));t:for(;++u<f;){var p=t[u],_=r?r(p):p,p=e||0!==p?p:0;if(i&&_===_){for(var v=h;v--;)if(n[v]===_)continue t;s.push(p)}else o(n,_,e)||s.push(p)}return s}function cn(t,n){var r=!0;return Ao(t,function(t,e,u){return r=!!n(t,e,u)}),r}function an(t,n,r){for(var e=-1,u=t.length;++e<u;){var o=t[e],i=n(o);if(null!=i&&(f===T?i===i&&!Je(i):r(i,f)))var f=i,c=o}return c}function ln(t,n){var r=[];return Ao(t,function(t,e,u){n(t,e,u)&&r.push(t)}),r}function sn(t,n,r,e,u){var o=-1,i=t.length;for(r||(r=Hr),u||(u=[]);++o<i;){var f=t[o];n>0&&r(f)?n>1?sn(f,n-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function hn(t,n){return t&&ko(t,n,iu)}function pn(t,n){return t&&Eo(t,n,iu)}function _n(t,n){return f(n,function(n){return Fe(t[n])})}function vn(t,n){n=ne(n,t)?[n]:er(n);for(var r=0,e=n.length;null!=t&&e>r;)t=t[fe(n[r++])];return r&&r==e?t:T}function gn(t,n,r){return n=n(t),yi(t)?n:s(n,r(t))}function dn(t,n){return t>n}function yn(t,n){return null!=t&&(Wu.call(t,n)||"object"==typeof t&&n in t&&null===Ju(Object(t)))}function bn(t,n){return null!=t&&n in Object(t)}function xn(t,n,r){for(var e=r?a:c,u=t[0].length,o=t.length,i=o,f=Array(o),s=1/0,h=[];i--;){var p=t[i];i&&n&&(p=l(p,O(n))),s=to(p.length,s),f[i]=!r&&(n||u>=120&&p.length>=120)?new Zt(i&&p):T}var p=t[0],_=-1,v=f[0];t:for(;++_<u&&s>h.length;){var g=p[_],d=n?n(g):g,g=r||0!==g?g:0;if(v?!E(v,d):!e(h,d,r)){for(i=o;--i;){var y=f[i];if(y?!E(y,d):!e(t[i],d,r))continue t}v&&v.push(d),h.push(g)}}return h}function jn(t,n,r){var e={};return hn(t,function(t,u,o){n(e,r(t),u,o)}),e}function wn(t,n,e){return ne(n,t)||(n=er(n),t=ie(t,n),n=ve(n)),n=null==t?t:t[fe(n)],null==n?T:r(n,t,e)}function mn(t,n,r,e,u){if(t===n)n=!0;else if(null==t||null==n||!Ze(t)&&!Te(n))n=t!==t&&n!==n;else t:{var o=yi(t),i=yi(n),f="[object Array]",c="[object Array]";o||(f=qr(t),f="[object Arguments]"==f?"[object Object]":f),i||(c=qr(n),c="[object Arguments]"==c?"[object Object]":c);var a="[object Object]"==f&&!C(t),i="[object Object]"==c&&!C(n);if((c=f==c)&&!a)u||(u=new qt),n=o||Ye(t)?zr(t,n,mn,r,e,u):Ur(t,n,f,mn,r,e,u);else{if(!(2&e)&&(o=a&&Wu.call(t,"__wrapped__"),f=i&&Wu.call(n,"__wrapped__"),o||f)){t=o?t.value():t,n=f?n.value():n,u||(u=new qt),n=mn(t,n,r,e,u);break t}if(c)n:if(u||(u=new qt),o=2&e,f=iu(t),i=f.length,c=iu(n).length,i==c||o){for(a=i;a--;){var l=f[a];if(!(o?l in n:yn(n,l))){n=!1;break n}}if(c=u.get(t))n=c==n;else{c=!0,u.set(t,n);for(var s=o;++a<i;){var l=f[a],h=t[l],p=n[l];if(r)var _=o?r(p,h,l,n,t,u):r(h,p,l,t,n,u);if(_===T?h!==p&&!mn(h,p,r,e,u):!_){c=!1;break}s||(s="constructor"==l)}c&&!s&&(r=t.constructor,e=n.constructor,r!=e&&"constructor"in t&&"constructor"in n&&!("function"==typeof r&&r instanceof r&&"function"==typeof e&&e instanceof e)&&(c=!1)),u.delete(t),n=c}}else n=!1;else n=!1}}return n}function An(t,n,r,e){var u=r.length,o=u,i=!e;if(null==t)return!o;for(t=Object(t);u--;){var f=r[u];if(i&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<o;){var f=r[u],c=f[0],a=t[c],l=f[1];if(i&&f[2]){if(a===T&&!(c in t))return!1}else{if(f=new qt,e)var s=e(a,l,c,t,n,f);if(s===T?!mn(l,a,e,3,f):!s)return!1}}return!0}function On(t){return!(!Ze(t)||Iu&&Iu in t)&&(Fe(t)||C(t)?zu:yt).test(ce(t))}function kn(t){return"function"==typeof t?t:null==t?pu:"object"==typeof t?yi(t)?Wn(t[0],t[1]):Rn(t):du(t)}function En(t){t=null==t?t:Object(t);var n,r=[];for(n in t)r.push(n);return r}function Sn(t,n){return n>t}function In(t,n){var r=-1,e=Ue(t)?Array(t.length):[];return Ao(t,function(t,u,o){e[++r]=n(t,u,o)}),e}function Rn(t){var n=Pr(t);return 1==n.length&&n[0][2]?ue(n[0][0],n[0][1]):function(r){return r===t||An(r,t,n)}}function Wn(t,n){return ne(t)&&n===n&&!Ze(n)?ue(fe(t),n):function(r){var e=uu(r,t);return e===T&&e===n?ou(r,t):mn(n,e,T,3)}}function Bn(t,n,r,e,o){if(t!==n){if(!yi(n)&&!Ye(n))var i=fu(n);u(i||n,function(u,f){if(i&&(f=u,u=n[f]),Ze(u)){o||(o=new qt);var c=f,a=o,l=t[c],s=n[c],h=a.get(s);if(h)Jt(t,c,h);else{var h=e?e(l,s,c+"",t,n,a):T,p=h===T;p&&(h=s,yi(s)||Ye(s)?yi(l)?h=l:$e(l)?h=lr(l):(p=!1,h=rn(s,!0)):Ve(s)||ze(s)?ze(l)?h=ru(l):!Ze(l)||r&&Fe(l)?(p=!1,h=rn(s,!0)):h=l:p=!1),a.set(s,h),p&&Bn(h,s,r,e,a),a.delete(s),Jt(t,c,h)}}else c=e?e(t[f],u,f+"",t,n,o):T,c===T&&(c=u),Jt(t,f,c)})}}function Ln(t,n){var r=t.length;return r?(n+=0>n?r:0,Xr(n,r)?t[n]:T):void 0}function Mn(t,n,r){var e=-1;return n=l(n.length?n:[pu],O(Fr())),t=In(t,function(t){return{a:l(n,function(n){return n(t)}),b:++e,c:t}}),j(t,function(t,n){var e;t:{e=-1;for(var u=t.a,o=n.a,i=u.length,f=r.length;++e<i;){var c=fr(u[e],o[e]);if(c){e=e>=f?c:c*("desc"==r[e]?-1:1);break t}}e=t.b-n.b}return e})}function Cn(t,n){return t=Object(t),h(n,function(n,r){return r in t&&(n[r]=t[r]),n},{})}function zn(t,n){for(var r=-1,e=gn(t,fu,Bo),u=e.length,o={};++r<u;){var i=e[r],f=t[i];n(f,i)&&(o[i]=f)}return o}function Un(t){return function(n){return null==n?T:n[t]}}function $n(t){return function(n){return vn(n,t)}}function Dn(t,n,r,e){var u=e?y:d,o=-1,i=n.length,f=t;for(t===n&&(n=lr(n)),r&&(f=l(t,O(r)));++o<i;)for(var c=0,a=n[o],a=r?r(a):a;-1<(c=u(f,a,c,e));)f!==t&&Vu.call(f,c,1),Vu.call(t,c,1);return t}function Fn(t,n){for(var r=t?n.length:0,e=r-1;r--;){var u=n[r];if(r==e||u!==o){var o=u;if(Xr(u))Vu.call(t,u,1);else if(ne(u,t))delete t[fe(u)];else{var u=er(u),i=ie(t,u);null!=i&&delete i[fe(ve(u))]}}}}function Nn(t,n){return t+Gu(ro()*(n-t+1))}function Pn(t,n){var r="";if(!t||1>n||n>9007199254740991)return r;do n%2&&(r+=t),(n=Gu(n/2))&&(t+=t);while(n);return r}function Zn(t,n,r,e){n=ne(n,t)?[n]:er(n);for(var u=-1,o=n.length,i=o-1,f=t;null!=f&&++u<o;){var c=fe(n[u]);if(Ze(f)){var a=r;if(u!=i){var l=f[c],a=e?e(l,c,f):T;a===T&&(a=null==l?Xr(n[u+1])?[]:{}:l)}Yt(f,c,a)}f=f[c]}return t}function Tn(t,n,r){var e=-1,u=t.length;for(0>n&&(n=-n>u?0:u+n),r=r>u?u:r,0>r&&(r+=u),u=n>r?0:r-n>>>0,n>>>=0,r=Array(u);++e<u;)r[e]=t[e+n];return r}function qn(t,n){var r;return Ao(t,function(t,e,u){return r=n(t,e,u),!r}),!!r}function Vn(t,n,r){var e=0,u=t?t.length:e;if("number"==typeof n&&n===n&&2147483647>=u){for(;u>e;){var o=e+u>>>1,i=t[o];null!==i&&!Je(i)&&(r?n>=i:n>i)?e=o+1:u=o}return u}return Kn(t,n,pu,r)}function Kn(t,n,r,e){n=r(n);for(var u=0,o=t?t.length:0,i=n!==n,f=null===n,c=Je(n),a=n===T;o>u;){var l=Gu((u+o)/2),s=r(t[l]),h=s!==T,p=null===s,_=s===s,v=Je(s);(i?e||_:a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):p||v?0:e?n>=s:n>s)?u=l+1:o=l}return to(o,4294967294)}function Gn(t,n){for(var r=-1,e=t.length,u=0,o=[];++r<e;){var i=t[r],f=n?n(i):i;if(!r||!Ce(f,c)){var c=f;o[u++]=0===i?0:i}}return o}function Jn(t){return"number"==typeof t?t:Je(t)?V:+t}function Yn(t){if("string"==typeof t)return t;if(Je(t))return mo?mo.call(t):"";var n=t+"";return"0"==n&&1/t==-q?"-0":n}function Hn(t,n,r){var e=-1,u=c,o=t.length,i=!0,f=[],l=f;if(r)i=!1,u=a;else if(o>=200){if(u=n?null:Io(t))return D(u);i=!1,u=E,l=new Zt}else l=n?[]:f;t:for(;++e<o;){var s=t[e],h=n?n(s):s,s=r||0!==s?s:0;if(i&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue t;n&&l.push(h),f.push(s)}else u(l,h,r)||(l!==f&&l.push(h),f.push(s))}return f}function Qn(t,n,r,e){for(var u=t.length,o=e?u:-1;(e?o--:++o<u)&&n(t[o],o,t););return r?Tn(t,e?0:o,e?o+1:u):Tn(t,e?o+1:0,e?u:o)}function Xn(t,n){var r=t;return r instanceof Ut&&(r=r.value()),h(n,function(t,n){return n.func.apply(n.thisArg,s([t],n.args))},r)}function tr(t,n,r){for(var e=-1,u=t.length;++e<u;)var o=o?s(fn(o,t[e],n,r),fn(t[e],o,n,r)):t[e];return o&&o.length?Hn(o,n,r):[]}function nr(t,n,r){for(var e=-1,u=t.length,o=n.length,i={};++e<u;)r(i,t[e],o>e?n[e]:T);return i}function rr(t){return $e(t)?t:[]}function er(t){return yi(t)?t:Co(t)}function ur(t,n,r){var e=t.length;return r=r===T?e:r,!n&&r>=e?t:Tn(t,n,r)}function or(t,n){if(n)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function ir(t){var n=new t.constructor(t.byteLength);return new Fu(n).set(new Fu(t)),n}function fr(t,n){if(t!==n){var r=t!==T,e=null===t,u=t===t,o=Je(t),i=n!==T,f=null===n,c=n===n,a=Je(n);if(!f&&!a&&!o&&t>n||o&&i&&c&&!f&&!a||e&&i&&c||!r&&c||!u)return 1;if(!e&&!o&&!a&&n>t||a&&r&&u&&!e&&!o||f&&r&&u||!i&&u||!c)return-1}return 0}function cr(t,n,r,e){var u=-1,o=t.length,i=r.length,f=-1,c=n.length,a=Xu(o-i,0),l=Array(c+a);for(e=!e;++f<c;)l[f]=n[f];for(;++u<i;)(e||o>u)&&(l[r[u]]=t[u]);for(;a--;)l[f++]=t[u++];return l}function ar(t,n,r,e){var u=-1,o=t.length,i=-1,f=r.length,c=-1,a=n.length,l=Xu(o-f,0),s=Array(l+a);for(e=!e;++u<l;)s[u]=t[u];for(l=u;++c<a;)s[l+c]=n[c];for(;++i<f;)(e||o>u)&&(s[l+r[i]]=t[u++]);return s}function lr(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}function sr(t,n,r,e){r||(r={});for(var u=-1,o=n.length;++u<o;){var i=n[u],f=e?e(r[i],t[i],i,r,t):t[i];Yt(r,i,f)}return r}function hr(t,n){return sr(t,Tr(t),n)}function pr(t,n){return function(r,u){var o=yi(r)?e:Qt,i=n?n():{};return o(r,t,Fr(u),i)}}function _r(t){return Me(function(n,r){var e=-1,u=r.length,o=u>1?r[u-1]:T,i=u>2?r[2]:T,o=t.length>3&&"function"==typeof o?(u--,o):T;for(i&&te(r[0],r[1],i)&&(o=3>u?T:o,u=1),n=Object(n);++e<u;)(i=r[e])&&t(n,i,e,o);return n})}function vr(t,n){return function(r,e){if(null==r)return r;if(!Ue(r))return t(r,e);for(var u=r.length,o=n?u:-1,i=Object(r);(n?o--:++o<u)&&!1!==e(i[o],o,i););return r}}function gr(t){return function(n,r,e){var u=-1,o=Object(n);e=e(n);for(var i=e.length;i--;){var f=e[t?i:++u];if(!1===r(o[f],f,o))break}return n}}function dr(t,n,r){function e(){return(this&&this!==Kt&&this instanceof e?o:t).apply(u?r:this,arguments)}var u=1&n,o=xr(t);return e}function yr(t){return function(n){n=eu(n);var r=Wt.test(n)?n.match(It):T,e=r?r[0]:n.charAt(0);return n=r?ur(r,1).join(""):n.slice(1),e[t]()+n}}function br(t){return function(n){return h(su(lu(n).replace(Et,"")),t,"")}}function xr(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=un(t.prototype),n=t.apply(r,n);return Ze(n)?n:r}}function jr(t,n,e){function u(){for(var i=arguments.length,f=Array(i),c=i,a=Dr(u);c--;)f[c]=arguments[c];return c=3>i&&f[0]!==a&&f[i-1]!==a?[]:$(f,a),i-=c.length,e>i?Br(t,n,Ar,u.placeholder,T,f,c,T,T,e-i):r(this&&this!==Kt&&this instanceof u?o:t,this,f)}var o=xr(t);return u}function wr(t){return function(n,r,e){var u=Object(n);if(r=Fr(r,3),!Ue(n))var o=iu(n);return e=t(o||n,function(t,n){return o&&(n=t,t=u[n]),r(t,n,u)},e),e>-1?n[o?o[e]:e]:T}}function mr(t){return Me(function(n){n=sn(n,1);var r=n.length,e=r,u=zt.prototype.thru;for(t&&n.reverse();e--;){var o=n[e];if("function"!=typeof o)throw new Au("Expected a function");if(u&&!i&&"wrapper"==$r(o))var i=new zt([],!0)}for(e=i?e:r;++e<r;)var o=n[e],u=$r(o),f="wrapper"==u?Ro(o):T,i=f&&re(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?i[$r(f[0])].apply(i,f[3]):1==o.length&&re(o)?i[u]():i.thru(o);return function(){var t=arguments,e=t[0];if(i&&1==t.length&&yi(e)&&e.length>=200)return i.plant(e).value();for(var u=0,t=r?n[u].apply(this,t):e;++u<r;)t=n[u].call(this,t);return t}})}function Ar(t,n,r,e,u,o,i,f,c,a){function l(){for(var d=arguments.length,y=Array(d),b=d;b--;)y[b]=arguments[b];if(_){var x,j=Dr(l),b=y.length;for(x=0;b--;)y[b]===j&&x++}if(e&&(y=cr(y,e,u,_)),o&&(y=ar(y,o,i,_)),d-=x,_&&a>d)return j=$(y,j),Br(t,n,Ar,l.placeholder,r,y,j,f,c,a-d);if(j=h?r:this,b=p?j[t]:t,d=y.length,f){x=y.length;for(var w=to(f.length,x),m=lr(y);w--;){var A=f[w];y[w]=Xr(A,x)?m[A]:T}}else v&&d>1&&y.reverse();return s&&d>c&&(y.length=c),this&&this!==Kt&&this instanceof l&&(b=g||xr(b)),b.apply(j,y)}var s=128&n,h=1&n,p=2&n,_=24&n,v=512&n,g=p?T:xr(t);return l}function Or(t,n){return function(r,e){return jn(r,t,n(e))}}function kr(t){return function(n,r){var e;if(n===T&&r===T)return 0;if(n!==T&&(e=n),r!==T){if(e===T)return r;"string"==typeof n||"string"==typeof r?(n=Yn(n),r=Yn(r)):(n=Jn(n),r=Jn(r)),e=t(n,r)}return e}}function Er(t){return Me(function(n){return n=1==n.length&&yi(n[0])?l(n[0],O(Fr())):l(sn(n,1,Qr),O(Fr())),Me(function(e){var u=this;return t(n,function(t){return r(t,u,e)})})})}function Sr(t,n){n=n===T?" ":Yn(n);var r=n.length;return 2>r?r?Pn(n,t):n:(r=Pn(n,Ku(t/N(n))),Wt.test(n)?ur(r.match(It),0,t).join(""):r.slice(0,t))}function Ir(t,n,e,u){function o(){for(var n=-1,c=arguments.length,a=-1,l=u.length,s=Array(l+c),h=this&&this!==Kt&&this instanceof o?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++n];return r(h,i?e:this,s)}var i=1&n,f=xr(t);return o}function Rr(t){return function(n,r,e){e&&"number"!=typeof e&&te(n,r,e)&&(r=e=T),n=nu(n),n=n===n?n:0,r===T?(r=n,n=0):r=nu(r)||0,e=e===T?r>n?1:-1:nu(e)||0;var u=-1;r=Xu(Ku((r-n)/(e||1)),0);for(var o=Array(r);r--;)o[t?r:++u]=n,n+=e;return o}}function Wr(t){return function(n,r){return"string"==typeof n&&"string"==typeof r||(n=nu(n),r=nu(r)),t(n,r)}}function Br(t,n,r,e,u,o,i,f,c,a){var l=8&n,s=l?i:T;i=l?T:i;var h=l?o:T;return o=l?T:o,n=(n|(l?32:64))&~(l?64:32),4&n||(n&=-4),n=[t,n,u,h,s,o,i,f,c,a],r=r.apply(T,n),re(t)&&Mo(r,n),r.placeholder=e,r}function Lr(t){var n=wu[t];return function(t,r){if(t=nu(t),r=to(Xe(r),292)){var e=(eu(t)+"e").split("e"),e=n(e[0]+"e"+(+e[1]+r)),e=(eu(e)+"e").split("e");return+(e[0]+"e"+(+e[1]-r))}return n(t)}}function Mr(t){return function(n){var r=qr(n);return"[object Map]"==r?U(n):"[object Set]"==r?F(n):A(n,t(n))}}function Cr(t,n,r,e,u,o,i,f){var c=2&n;if(!c&&"function"!=typeof t)throw new Au("Expected a function");var a=e?e.length:0;if(a||(n&=-97,e=u=T),i=i===T?i:Xu(Xe(i),0),f=f===T?f:Xe(f),a-=u?u.length:0,64&n){var l=e,s=u;e=u=T}var h=c?T:Ro(t);return o=[t,n,r,e,u,l,s,o,i,f],h&&(r=o[1],t=h[1],n=r|t,e=128==t&&8==r||128==t&&256==r&&h[8]>=o[7].length||384==t&&h[8]>=h[7].length&&8==r,131>n||e)&&(1&t&&(o[2]=h[2],n|=1&r?0:4),(r=h[3])&&(e=o[3],o[3]=e?cr(e,r,h[4]):r,o[4]=e?$(o[3],"__lodash_placeholder__"):h[4]),(r=h[5])&&(e=o[5],o[5]=e?ar(e,r,h[6]):r,o[6]=e?$(o[5],"__lodash_placeholder__"):h[6]),(r=h[7])&&(o[7]=r),128&t&&(o[8]=null==o[8]?h[8]:to(o[8],h[8])),null==o[9]&&(o[9]=h[9]),o[0]=h[0],o[1]=n),t=o[0],n=o[1],r=o[2],e=o[3],u=o[4],f=o[9]=null==o[9]?c?0:t.length:Xu(o[9]-a,0),!f&&24&n&&(n&=-25),(h?So:Mo)(n&&1!=n?8==n||16==n?jr(t,n,f):32!=n&&33!=n||u.length?Ar.apply(T,o):Ir(t,n,r,e):dr(t,n,r),o)}function zr(t,n,r,e,u,o){var i=2&u,f=t.length,c=n.length;if(f!=c&&!(i&&c>f))return!1;if(c=o.get(t))return c==n;var c=-1,a=!0,l=1&u?new Zt:T;for(o.set(t,n);++c<f;){var s=t[c],h=n[c];if(e)var p=i?e(h,s,c,n,t,o):e(s,h,c,t,n,o);if(p!==T){if(p)continue;a=!1;break}if(l){if(!_(n,function(t,n){return l.has(n)||s!==t&&!r(s,t,e,u,o)?void 0:l.add(n)})){a=!1;break}}else if(s!==h&&!r(s,h,e,u,o)){a=!1;break}}return o.delete(t),a}function Ur(t,n,r,e,u,o,i){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":if(t.byteLength!=n.byteLength||!e(new Fu(t),new Fu(n)))break;return!0;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object Number]":return t!=+t?n!=+n:t==+n;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var f=U;case"[object Set]":if(f||(f=D),t.size!=n.size&&!(2&o))break;return(r=i.get(t))?r==n:(o|=1,i.set(t,n),zr(f(t),f(n),e,u,o,i));case"[object Symbol]":if(wo)return wo.call(t)==wo.call(n)}return!1}function $r(t){for(var n=t.name+"",r=_o[n],e=Wu.call(_o,n)?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==t)return u.name}return n}function Dr(t){return(Wu.call(Ot,"placeholder")?Ot:t).placeholder}function Fr(){var t=Ot.iteratee||_u,t=t===_u?kn:t;return arguments.length?t(arguments[0],arguments[1]):t}function Nr(t,n){var r=t.__data__,e=typeof n;return("string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?r["string"==typeof n?"string":"hash"]:r.map}function Pr(t){for(var n=iu(t),r=n.length;r--;){var e=n[r],u=t[e];n[r]=[e,u,u===u&&!Ze(u)]}return n}function Zr(t,n){var r=null==t?T:t[n];return On(r)?r:T}function Tr(t){return Pu(Object(t))}function qr(t){return Mu.call(t)}function Vr(t,n,r){n=ne(n,t)?[n]:er(n);for(var e,u=-1,o=n.length;++u<o;){var i=fe(n[u]);if(!(e=null!=t&&r(t,i)))break;t=t[i]}return e?e:(o=t?t.length:0,!!o&&Pe(o)&&Xr(i,o)&&(yi(t)||Ge(t)||ze(t)))}function Kr(t){var n=t.length,r=t.constructor(n);return n&&"string"==typeof t[0]&&Wu.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Gr(t){return"function"!=typeof t.constructor||ee(t)?{}:un(Ju(Object(t)))}function Jr(r,e,u,o){var i=r.constructor;switch(e){case"[object ArrayBuffer]":return ir(r);case"[object Boolean]":case"[object Date]":return new i(+r);case"[object DataView]":return e=o?ir(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return e=o?ir(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.length);case"[object Map]":return e=o?u(U(r),!0):U(r),h(e,t,new r.constructor);case"[object Number]":case"[object String]":return new i(r);case"[object RegExp]":return e=new r.constructor(r.source,_t.exec(r)),e.lastIndex=r.lastIndex,e;case"[object Set]":return e=o?u(D(r),!0):D(r),h(e,n,new r.constructor);case"[object Symbol]":return wo?Object(wo.call(r)):{}}}function Yr(t){var n=t?t.length:T;return Pe(n)&&(yi(t)||Ge(t)||ze(t))?m(n,String):null}function Hr(t){return yi(t)||ze(t)}function Qr(t){return yi(t)&&!(2==t.length&&!Fe(t[0]))}function Xr(t,n){return n=null==n?9007199254740991:n,!!n&&("number"==typeof t||xt.test(t))&&t>-1&&0==t%1&&n>t}function te(t,n,r){if(!Ze(r))return!1;var e=typeof n;return!!("number"==e?Ue(r)&&Xr(n,r.length):"string"==e&&n in r)&&Ce(r[n],t)}function ne(t,n){if(yi(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Je(t))||(ut.test(t)||!et.test(t)||null!=n&&t in Object(n))}function re(t){var n=$r(t),r=Ot[n];return"function"==typeof r&&n in Ut.prototype&&(t===r||(n=Ro(r),!!n&&t===n[0]))}function ee(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||ku)}function ue(t,n){return function(r){return null!=r&&(r[t]===n&&(n!==T||t in Object(r)))}}function oe(t,n,r,e,u,o){return Ze(t)&&Ze(n)&&Bn(t,n,T,oe,o.set(n,t)),t}function ie(t,n){return 1==n.length?t:vn(t,Tn(n,0,-1))}function fe(t){if("string"==typeof t||Je(t))return t;var n=t+"";return"0"==n&&1/t==-q?"-0":n}function ce(t){if(null!=t){try{return Ru.call(t)}catch(n){}return t+""}return""}function ae(t){if(t instanceof Ut)return t.clone();var n=new zt(t.__wrapped__,t.__chain__);return n.__actions__=lr(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function le(t,n,r){var e=t?t.length:0;return e?(n=r||n===T?1:Xe(n),Tn(t,0>n?0:n,e)):[]}function se(t,n,r){var e=t?t.length:0;return e?(n=r||n===T?1:Xe(n),n=e-n,Tn(t,0,0>n?0:n)):[]}function he(t,n,r){var e=t?t.length:0;return e?(r=null==r?0:Xe(r),0>r&&(r=Xu(e+r,0)),g(t,Fr(n,3),r)):-1}function pe(t,n,r){var e=t?t.length:0;if(!e)return-1;var u=e-1;return r!==T&&(u=Xe(r),u=0>r?Xu(e+u,0):to(u,e-1)),g(t,Fr(n,3),u,!0)}function _e(t){return t&&t.length?t[0]:T}function ve(t){var n=t?t.length:0;return n?t[n-1]:T}function ge(t,n){return t&&t.length&&n&&n.length?Dn(t,n):t}function de(t){return t?uo.call(t):t}function ye(t){if(!t||!t.length)return[];var n=0;return t=f(t,function(t){return $e(t)?(n=Xu(t.length,n),!0):void 0}),m(n,function(n){return l(t,Un(n))})}function be(t,n){if(!t||!t.length)return[];var e=ye(t);return null==n?e:l(e,function(t){return r(n,T,t)})}function xe(t){return t=Ot(t),t.__chain__=!0,t}function je(t,n){return n(t)}function we(){return this}function me(t,n){return(yi(t)?u:Ao)(t,Fr(n,3))}function Ae(t,n){return(yi(t)?o:Oo)(t,Fr(n,3))}function Oe(t,n){return(yi(t)?l:In)(t,Fr(n,3))}function ke(t,n,r){var e=-1,u=He(t),o=u.length,i=o-1;for(n=(r?te(t,n,r):n===T)?1:nn(Xe(n),0,o);++e<n;)t=Nn(e,i),r=u[t],u[t]=u[e],u[e]=r;return u.length=n,u}function Ee(){return xu.now()}function Se(t,n,r){return n=r?T:n,n=t&&null==n?t.length:n,Cr(t,128,T,T,T,T,n)}function Ie(t,n){var r;if("function"!=typeof n)throw new Au("Expected a function");return t=Xe(t),function(){return 0<--t&&(r=n.apply(this,arguments)),1>=t&&(n=T),r}}function Re(t,n,r){return n=r?T:n,t=Cr(t,8,T,T,T,T,T,n),t.placeholder=Re.placeholder,t}function We(t,n,r){return n=r?T:n,t=Cr(t,16,T,T,T,T,T,n),t.placeholder=We.placeholder,t}function Be(t,n,r){function e(n){var r=c,e=a;return c=a=T,_=n,s=t.apply(e,r)}function u(t){var r=t-p;return t-=_,p===T||r>=n||0>r||g&&t>=l}function o(){var t=Ee();if(u(t))return i(t);var r;r=t-_,t=n-(t-p),r=g?to(t,l-r):t,h=At(o,r)}function i(t){return h=T,d&&c?e(t):(c=a=T,s)}function f(){var t=Ee(),r=u(t);if(c=arguments,a=this,p=t,r){if(h===T)return _=t=p,h=At(o,n),v?e(t):s;if(g)return h=At(o,n),e(p)}return h===T&&(h=At(o,n)),s}var c,a,l,s,h,p,_=0,v=!1,g=!1,d=!0;if("function"!=typeof t)throw new Au("Expected a function");return n=nu(n)||0,Ze(r)&&(v=!!r.leading,l=(g="maxWait"in r)?Xu(nu(r.maxWait)||0,n):l,d="trailing"in r?!!r.trailing:d),f.cancel=function(){_=0,c=p=a=h=T},f.flush=function(){return h===T?s:i(Ee())},f}function Le(t,n){function r(){var e=arguments,u=n?n.apply(this,e):e[0],o=r.cache;return o.has(u)?o.get(u):(e=t.apply(this,e),r.cache=o.set(u,e),e)}if("function"!=typeof t||n&&"function"!=typeof n)throw new Au("Expected a function");return r.cache=new(Le.Cache||Pt),r}function Me(t,n){if("function"!=typeof t)throw new Au("Expected a function");return n=Xu(n===T?t.length-1:Xe(n),0),function(){for(var e=arguments,u=-1,o=Xu(e.length-n,0),i=Array(o);++u<o;)i[u]=e[n+u];switch(n){case 0:return t.call(this,i);case 1:return t.call(this,e[0],i);case 2:return t.call(this,e[0],e[1],i)}for(o=Array(n+1),u=-1;++u<n;)o[u]=e[u];return o[n]=i,r(t,this,o)}}function Ce(t,n){return t===n||t!==t&&n!==n}function ze(t){return $e(t)&&Wu.call(t,"callee")&&(!qu.call(t,"callee")||"[object Arguments]"==Mu.call(t))}function Ue(t){return null!=t&&Pe(Wo(t))&&!Fe(t)}function $e(t){return Te(t)&&Ue(t)}function De(t){return!!Te(t)&&("[object Error]"==Mu.call(t)||"string"==typeof t.message&&"string"==typeof t.name)}function Fe(t){return t=Ze(t)?Mu.call(t):"","[object Function]"==t||"[object GeneratorFunction]"==t}function Ne(t){return"number"==typeof t&&t==Xe(t)}function Pe(t){return"number"==typeof t&&t>-1&&0==t%1&&9007199254740991>=t}function Ze(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Te(t){return!!t&&"object"==typeof t}function qe(t){return"number"==typeof t||Te(t)&&"[object Number]"==Mu.call(t)}function Ve(t){return!(!Te(t)||"[object Object]"!=Mu.call(t)||C(t))&&(t=Ju(Object(t)),null===t||(t=Wu.call(t,"constructor")&&t.constructor,"function"==typeof t&&t instanceof t&&Ru.call(t)==Lu))}function Ke(t){return Ze(t)&&"[object RegExp]"==Mu.call(t)}function Ge(t){return"string"==typeof t||!yi(t)&&Te(t)&&"[object String]"==Mu.call(t)}function Je(t){return"symbol"==typeof t||Te(t)&&"[object Symbol]"==Mu.call(t)}function Ye(t){return Te(t)&&Pe(t.length)&&!!Mt[Mu.call(t)]}function He(t){if(!t)return[];if(Ue(t))return Ge(t)?t.match(It):lr(t);if(Zu&&t[Zu])return z(t[Zu]());var n=qr(t);return("[object Map]"==n?U:"[object Set]"==n?D:cu)(t)}function Qe(t){return t?(t=nu(t),t===q||t===-q?1.7976931348623157e308*(0>t?-1:1):t===t?t:0):0===t?t:0}function Xe(t){t=Qe(t);var n=t%1;return t===t?n?t-n:t:0}function tu(t){return t?nn(Xe(t),0,4294967295):0}function nu(t){if("number"==typeof t)return t;if(Je(t))return V;if(Ze(t)&&(t=Fe(t.valueOf)?t.valueOf():t,t=Ze(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ct,"");var n=dt.test(t);return n||bt.test(t)?Nt(t.slice(2),n?2:8):gt.test(t)?V:+t}function ru(t){return sr(t,fu(t))}function eu(t){return null==t?"":Yn(t)}function uu(t,n,r){return t=null==t?T:vn(t,n),t===T?r:t}function ou(t,n){return null!=t&&Vr(t,n,bn)}function iu(t){var n=ee(t);if(!n&&!Ue(t))return Qu(Object(t));var r,e=Yr(t),u=!!e,e=e||[],o=e.length;for(r in t)!yn(t,r)||u&&("length"==r||Xr(r,o))||n&&"constructor"==r||e.push(r);return e}function fu(t){for(var n=-1,r=ee(t),e=En(t),u=e.length,o=Yr(t),i=!!o,o=o||[],f=o.length;++n<u;){var c=e[n];i&&("length"==c||Xr(c,f))||"constructor"==c&&(r||!Wu.call(t,c))||o.push(c);
}return o}function cu(t){return t?k(t,iu(t)):[]}function au(t){return qi(eu(t).toLowerCase())}function lu(t){return(t=eu(t))&&t.replace(jt,W).replace(St,"")}function su(t,n,r){return t=eu(t),n=r?T:n,n===T&&(n=Bt.test(t)?Rt:st),t.match(n)||[]}function hu(t){return function(){return t}}function pu(t){return t}function _u(t){return kn("function"==typeof t?t:rn(t,!0))}function vu(t,n,r){var e=iu(n),o=_n(n,e);null!=r||Ze(n)&&(o.length||!e.length)||(r=n,n=t,t=this,o=_n(n,iu(n)));var i=!(Ze(r)&&"chain"in r&&!r.chain),f=Fe(t);return u(o,function(r){var e=n[r];t[r]=e,f&&(t.prototype[r]=function(){var n=this.__chain__;if(i||n){var r=t(this.__wrapped__);return(r.__actions__=lr(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,s([this.value()],arguments))})}),t}function gu(){}function du(t){return ne(t)?Un(fe(t)):$n(t)}function yu(){return[]}function bu(){return!1}R=R?Gt.defaults({},R,Gt.pick(Kt,Lt)):Kt;var xu=R.Date,ju=R.Error,wu=R.Math,mu=R.RegExp,Au=R.TypeError,Ou=R.Array.prototype,ku=R.Object.prototype,Eu=R.String.prototype,Su=R["__core-js_shared__"],Iu=function(){var t=/[^.]+$/.exec(Su&&Su.keys&&Su.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ru=R.Function.prototype.toString,Wu=ku.hasOwnProperty,Bu=0,Lu=Ru.call(Object),Mu=ku.toString,Cu=Kt._,zu=mu("^"+Ru.call(Wu).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uu=Tt?R.Buffer:T,$u=R.Reflect,Du=R.Symbol,Fu=R.Uint8Array,Nu=$u?$u.f:T,Pu=Object.getOwnPropertySymbols,Zu="symbol"==typeof(Zu=Du&&Du.iterator)?Zu:T,Tu=Object.create,qu=ku.propertyIsEnumerable,Vu=Ou.splice,Ku=wu.ceil,Gu=wu.floor,Ju=Object.getPrototypeOf,Yu=R.isFinite,Hu=Ou.join,Qu=Object.keys,Xu=wu.max,to=wu.min,no=R.parseInt,ro=wu.random,eo=Eu.replace,uo=Ou.reverse,oo=Eu.split,io=Zr(R,"DataView"),fo=Zr(R,"Map"),co=Zr(R,"Promise"),ao=Zr(R,"Set"),lo=Zr(R,"WeakMap"),so=Zr(Object,"create"),ho=lo&&new lo,po=!qu.call({valueOf:1},"valueOf"),_o={},vo=ce(io),go=ce(fo),yo=ce(co),bo=ce(ao),xo=ce(lo),jo=Du?Du.prototype:T,wo=jo?jo.valueOf:T,mo=jo?jo.toString:T;Ot.templateSettings={escape:tt,evaluate:nt,interpolate:rt,variable:"",imports:{_:Ot}},Ot.prototype=kt.prototype,Ot.prototype.constructor=Ot,zt.prototype=un(kt.prototype),zt.prototype.constructor=zt,Ut.prototype=un(kt.prototype),Ut.prototype.constructor=Ut,$t.prototype.clear=function(){this.__data__=so?so(null):{}},$t.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},$t.prototype.get=function(t){var n=this.__data__;return so?(t=n[t],"__lodash_hash_undefined__"===t?T:t):Wu.call(n,t)?n[t]:T},$t.prototype.has=function(t){var n=this.__data__;return so?n[t]!==T:Wu.call(n,t)},$t.prototype.set=function(t,n){return this.__data__[t]=so&&n===T?"__lodash_hash_undefined__":n,this},Dt.prototype.clear=function(){this.__data__=[]},Dt.prototype.delete=function(t){var n=this.__data__;return t=Ht(n,t),!(0>t)&&(t==n.length-1?n.pop():Vu.call(n,t,1),!0)},Dt.prototype.get=function(t){var n=this.__data__;return t=Ht(n,t),0>t?T:n[t][1]},Dt.prototype.has=function(t){return-1<Ht(this.__data__,t)},Dt.prototype.set=function(t,n){var r=this.__data__,e=Ht(r,t);return 0>e?r.push([t,n]):r[e][1]=n,this},Pt.prototype.clear=function(){this.__data__={hash:new $t,map:new(fo||Dt),string:new $t}},Pt.prototype.delete=function(t){return Nr(this,t).delete(t)},Pt.prototype.get=function(t){return Nr(this,t).get(t)},Pt.prototype.has=function(t){return Nr(this,t).has(t)},Pt.prototype.set=function(t,n){return Nr(this,t).set(t,n),this},Zt.prototype.add=Zt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Zt.prototype.has=function(t){return this.__data__.has(t)},qt.prototype.clear=function(){this.__data__=new Dt},qt.prototype.delete=function(t){return this.__data__.delete(t)},qt.prototype.get=function(t){return this.__data__.get(t)},qt.prototype.has=function(t){return this.__data__.has(t)},qt.prototype.set=function(t,n){var r=this.__data__;return r instanceof Dt&&200==r.__data__.length&&(r=this.__data__=new Pt(r.__data__)),r.set(t,n),this};var Ao=vr(hn),Oo=vr(pn,!0),ko=gr(),Eo=gr(!0);Nu&&!qu.call({valueOf:1},"valueOf")&&(En=function(t){return z(Nu(t))});var So=ho?function(t,n){return ho.set(t,n),t}:pu,Io=ao&&1/D(new ao([,-0]))[1]==q?function(t){return new ao(t)}:gu,Ro=ho?function(t){return ho.get(t)}:gu,Wo=Un("length");Pu||(Tr=yu);var Bo=Pu?function(t){for(var n=[];t;)s(n,Tr(t)),t=Ju(Object(t));return n}:Tr;(io&&"[object DataView]"!=qr(new io(new ArrayBuffer(1)))||fo&&"[object Map]"!=qr(new fo)||co&&"[object Promise]"!=qr(co.resolve())||ao&&"[object Set]"!=qr(new ao)||lo&&"[object WeakMap]"!=qr(new lo))&&(qr=function(t){var n=Mu.call(t);if(t=(t="[object Object]"==n?t.constructor:T)?ce(t):T)switch(t){case vo:return"[object DataView]";case go:return"[object Map]";case yo:return"[object Promise]";case bo:return"[object Set]";case xo:return"[object WeakMap]"}return n});var Lo=Su?Fe:bu,Mo=function(){var t=0,n=0;return function(r,e){var u=Ee(),o=16-(u-n);if(n=u,o>0){if(150<=++t)return r}else t=0;return So(r,e)}}(),Co=Le(function(t){var n=[];return eu(t).replace(ot,function(t,r,e,u){n.push(e?u.replace(ht,"$1"):r||t)}),n}),zo=Me(function(t,n){return $e(t)?fn(t,sn(n,1,$e,!0)):[]}),Uo=Me(function(t,n){var r=ve(n);return $e(r)&&(r=T),$e(t)?fn(t,sn(n,1,$e,!0),Fr(r)):[]}),$o=Me(function(t,n){var r=ve(n);return $e(r)&&(r=T),$e(t)?fn(t,sn(n,1,$e,!0),T,r):[]}),Do=Me(function(t){var n=l(t,rr);return n.length&&n[0]===t[0]?xn(n):[]}),Fo=Me(function(t){var n=ve(t),r=l(t,rr);return n===ve(r)?n=T:r.pop(),r.length&&r[0]===t[0]?xn(r,Fr(n)):[]}),No=Me(function(t){var n=ve(t),r=l(t,rr);return n===ve(r)?n=T:r.pop(),r.length&&r[0]===t[0]?xn(r,T,n):[]}),Po=Me(ge),Zo=Me(function(t,n){n=sn(n,1);var r=t?t.length:0,e=tn(t,n);return Fn(t,l(n,function(t){return Xr(t,r)?+t:t}).sort(fr)),e}),To=Me(function(t){return Hn(sn(t,1,$e,!0))}),qo=Me(function(t){var n=ve(t);return $e(n)&&(n=T),Hn(sn(t,1,$e,!0),Fr(n))}),Vo=Me(function(t){var n=ve(t);return $e(n)&&(n=T),Hn(sn(t,1,$e,!0),T,n)}),Ko=Me(function(t,n){return $e(t)?fn(t,n):[]}),Go=Me(function(t){return tr(f(t,$e))}),Jo=Me(function(t){var n=ve(t);return $e(n)&&(n=T),tr(f(t,$e),Fr(n))}),Yo=Me(function(t){var n=ve(t);return $e(n)&&(n=T),tr(f(t,$e),T,n)}),Ho=Me(ye),Qo=Me(function(t){var n=t.length,n=n>1?t[n-1]:T,n="function"==typeof n?(t.pop(),n):T;return be(t,n)}),Xo=Me(function(t){function n(n){return tn(n,t)}t=sn(t,1);var r=t.length,e=r?t[0]:0,u=this.__wrapped__;return!(r>1||this.__actions__.length)&&u instanceof Ut&&Xr(e)?(u=u.slice(e,+e+(r?1:0)),u.__actions__.push({func:je,args:[n],thisArg:T}),new zt(u,this.__chain__).thru(function(t){return r&&!t.length&&t.push(T),t})):this.thru(n)}),ti=pr(function(t,n,r){Wu.call(t,r)?++t[r]:t[r]=1}),ni=wr(he),ri=wr(pe),ei=pr(function(t,n,r){Wu.call(t,r)?t[r].push(n):t[r]=[n]}),ui=Me(function(t,n,e){var u=-1,o="function"==typeof n,i=ne(n),f=Ue(t)?Array(t.length):[];return Ao(t,function(t){var c=o?n:i&&null!=t?t[n]:T;f[++u]=c?r(c,t,e):wn(t,n,e)}),f}),oi=pr(function(t,n,r){t[r]=n}),ii=pr(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),fi=Me(function(t,n){if(null==t)return[];var r=n.length;return r>1&&te(t,n[0],n[1])?n=[]:r>2&&te(n[0],n[1],n[2])&&(n=[n[0]]),n=1==n.length&&yi(n[0])?n[0]:sn(n,1,Qr),Mn(t,n,[])}),ci=Me(function(t,n,r){var e=1;if(r.length)var u=$(r,Dr(ci)),e=32|e;return Cr(t,e,n,r,u)}),ai=Me(function(t,n,r){var e=3;if(r.length)var u=$(r,Dr(ai)),e=32|e;return Cr(n,e,t,r,u)}),li=Me(function(t,n){return on(t,1,n)}),si=Me(function(t,n,r){return on(t,nu(n)||0,r)});Le.Cache=Pt;var hi=Me(function(t,n){n=1==n.length&&yi(n[0])?l(n[0],O(Fr())):l(sn(n,1,Qr),O(Fr()));var e=n.length;return Me(function(u){for(var o=-1,i=to(u.length,e);++o<i;)u[o]=n[o].call(this,u[o]);return r(t,this,u)})}),pi=Me(function(t,n){var r=$(n,Dr(pi));return Cr(t,32,T,n,r)}),_i=Me(function(t,n){var r=$(n,Dr(_i));return Cr(t,64,T,n,r)}),vi=Me(function(t,n){return Cr(t,256,T,T,T,sn(n,1))}),gi=Wr(dn),di=Wr(function(t,n){return t>=n}),yi=Array.isArray,bi=Uu?function(t){return t instanceof Uu}:bu,xi=Wr(Sn),ji=Wr(function(t,n){return n>=t}),wi=_r(function(t,n){if(po||ee(n)||Ue(n))sr(n,iu(n),t);else for(var r in n)Wu.call(n,r)&&Yt(t,r,n[r])}),mi=_r(function(t,n){if(po||ee(n)||Ue(n))sr(n,fu(n),t);else for(var r in n)Yt(t,r,n[r])}),Ai=_r(function(t,n,r,e){sr(n,fu(n),t,e)}),Oi=_r(function(t,n,r,e){sr(n,iu(n),t,e)}),ki=Me(function(t,n){return tn(t,sn(n,1))}),Ei=Me(function(t){return t.push(T,Vt),r(Ai,T,t)}),Si=Me(function(t){return t.push(T,oe),r(Li,T,t)}),Ii=Or(function(t,n,r){t[n]=r},hu(pu)),Ri=Or(function(t,n,r){Wu.call(t,n)?t[n].push(r):t[n]=[r]},Fr),Wi=Me(wn),Bi=_r(function(t,n,r){Bn(t,n,r)}),Li=_r(function(t,n,r,e){Bn(t,n,r,e)}),Mi=Me(function(t,n){return null==t?{}:(n=l(sn(n,1),fe),Cn(t,fn(gn(t,fu,Bo),n)))}),Ci=Me(function(t,n){return null==t?{}:Cn(t,l(sn(n,1),fe))}),zi=Mr(iu),Ui=Mr(fu),$i=br(function(t,n,r){return n=n.toLowerCase(),t+(r?au(n):n)}),Di=br(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),Fi=br(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),Ni=yr("toLowerCase"),Pi=br(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),Zi=br(function(t,n,r){return t+(r?" ":"")+qi(n)}),Ti=br(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),qi=yr("toUpperCase"),Vi=Me(function(t,n){try{return r(t,T,n)}catch(e){return De(e)?e:new ju(e)}}),Ki=Me(function(t,n){return u(sn(n,1),function(n){n=fe(n),t[n]=ci(t[n],t)}),t}),Gi=mr(),Ji=mr(!0),Yi=Me(function(t,n){return function(r){return wn(r,t,n)}}),Hi=Me(function(t,n){return function(r){return wn(t,r,n)}}),Qi=Er(l),Xi=Er(i),tf=Er(_),nf=Rr(),rf=Rr(!0),ef=kr(function(t,n){return t+n}),uf=Lr("ceil"),of=kr(function(t,n){return t/n}),ff=Lr("floor"),cf=kr(function(t,n){return t*n}),af=Lr("round"),lf=kr(function(t,n){return t-n});return Ot.after=function(t,n){if("function"!=typeof n)throw new Au("Expected a function");return t=Xe(t),function(){return 1>--t?n.apply(this,arguments):void 0}},Ot.ary=Se,Ot.assign=wi,Ot.assignIn=mi,Ot.assignInWith=Ai,Ot.assignWith=Oi,Ot.at=ki,Ot.before=Ie,Ot.bind=ci,Ot.bindAll=Ki,Ot.bindKey=ai,Ot.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return yi(t)?t:[t]},Ot.chain=xe,Ot.chunk=function(t,n,r){if(n=(r?te(t,n,r):n===T)?1:Xu(Xe(n),0),r=t?t.length:0,!r||1>n)return[];for(var e=0,u=0,o=Array(Ku(r/n));r>e;)o[u++]=Tn(t,e,e+=n);return o},Ot.compact=function(t){for(var n=-1,r=t?t.length:0,e=0,u=[];++n<r;){var o=t[n];o&&(u[e++]=o)}return u},Ot.concat=function(){for(var t=arguments.length,n=Array(t?t-1:0),r=arguments[0],e=t;e--;)n[e-1]=arguments[e];return t?s(yi(r)?lr(r):[r],sn(n,1)):[]},Ot.cond=function(t){var n=t?t.length:0,e=Fr();return t=n?l(t,function(t){if("function"!=typeof t[1])throw new Au("Expected a function");return[e(t[0]),t[1]]}):[],Me(function(e){for(var u=-1;++u<n;){var o=t[u];if(r(o[0],this,e))return r(o[1],this,e)}})},Ot.conforms=function(t){return en(rn(t,!0))},Ot.constant=hu,Ot.countBy=ti,Ot.create=function(t,n){var r=un(t);return n?Xt(r,n):r},Ot.curry=Re,Ot.curryRight=We,Ot.debounce=Be,Ot.defaults=Ei,Ot.defaultsDeep=Si,Ot.defer=li,Ot.delay=si,Ot.difference=zo,Ot.differenceBy=Uo,Ot.differenceWith=$o,Ot.drop=le,Ot.dropRight=se,Ot.dropRightWhile=function(t,n){return t&&t.length?Qn(t,Fr(n,3),!0,!0):[]},Ot.dropWhile=function(t,n){return t&&t.length?Qn(t,Fr(n,3),!0):[]},Ot.fill=function(t,n,r,e){var u=t?t.length:0;if(!u)return[];for(r&&"number"!=typeof r&&te(t,n,r)&&(r=0,e=u),u=t.length,r=Xe(r),0>r&&(r=-r>u?0:u+r),e=e===T||e>u?u:Xe(e),0>e&&(e+=u),e=r>e?0:tu(e);e>r;)t[r++]=n;return t},Ot.filter=function(t,n){return(yi(t)?f:ln)(t,Fr(n,3))},Ot.flatMap=function(t,n){return sn(Oe(t,n),1)},Ot.flatMapDeep=function(t,n){return sn(Oe(t,n),q)},Ot.flatMapDepth=function(t,n,r){return r=r===T?1:Xe(r),sn(Oe(t,n),r)},Ot.flatten=function(t){return t&&t.length?sn(t,1):[]},Ot.flattenDeep=function(t){return t&&t.length?sn(t,q):[]},Ot.flattenDepth=function(t,n){return t&&t.length?(n=n===T?1:Xe(n),sn(t,n)):[]},Ot.flip=function(t){return Cr(t,512)},Ot.flow=Gi,Ot.flowRight=Ji,Ot.fromPairs=function(t){for(var n=-1,r=t?t.length:0,e={};++n<r;){var u=t[n];e[u[0]]=u[1]}return e},Ot.functions=function(t){return null==t?[]:_n(t,iu(t))},Ot.functionsIn=function(t){return null==t?[]:_n(t,fu(t))},Ot.groupBy=ei,Ot.initial=function(t){return se(t,1)},Ot.intersection=Do,Ot.intersectionBy=Fo,Ot.intersectionWith=No,Ot.invert=Ii,Ot.invertBy=Ri,Ot.invokeMap=ui,Ot.iteratee=_u,Ot.keyBy=oi,Ot.keys=iu,Ot.keysIn=fu,Ot.map=Oe,Ot.mapKeys=function(t,n){var r={};return n=Fr(n,3),hn(t,function(t,e,u){r[n(t,e,u)]=t}),r},Ot.mapValues=function(t,n){var r={};return n=Fr(n,3),hn(t,function(t,e,u){r[e]=n(t,e,u)}),r},Ot.matches=function(t){return Rn(rn(t,!0))},Ot.matchesProperty=function(t,n){return Wn(t,rn(n,!0))},Ot.memoize=Le,Ot.merge=Bi,Ot.mergeWith=Li,Ot.method=Yi,Ot.methodOf=Hi,Ot.mixin=vu,Ot.negate=function(t){if("function"!=typeof t)throw new Au("Expected a function");return function(){return!t.apply(this,arguments)}},Ot.nthArg=function(t){return t=Xe(t),Me(function(n){return Ln(n,t)})},Ot.omit=Mi,Ot.omitBy=function(t,n){return n=Fr(n),zn(t,function(t,r){return!n(t,r)})},Ot.once=function(t){return Ie(2,t)},Ot.orderBy=function(t,n,r,e){return null==t?[]:(yi(n)||(n=null==n?[]:[n]),r=e?T:r,yi(r)||(r=null==r?[]:[r]),Mn(t,n,r))},Ot.over=Qi,Ot.overArgs=hi,Ot.overEvery=Xi,Ot.overSome=tf,Ot.partial=pi,Ot.partialRight=_i,Ot.partition=ii,Ot.pick=Ci,Ot.pickBy=function(t,n){return null==t?{}:zn(t,Fr(n))},Ot.property=du,Ot.propertyOf=function(t){return function(n){return null==t?T:vn(t,n)}},Ot.pull=Po,Ot.pullAll=ge,Ot.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?Dn(t,n,Fr(r)):t},Ot.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Dn(t,n,T,r):t},Ot.pullAt=Zo,Ot.range=nf,Ot.rangeRight=rf,Ot.rearg=vi,Ot.reject=function(t,n){var r=yi(t)?f:ln;return n=Fr(n,3),r(t,function(t,r,e){return!n(t,r,e)})},Ot.remove=function(t,n){var r=[];if(!t||!t.length)return r;var e=-1,u=[],o=t.length;for(n=Fr(n,3);++e<o;){var i=t[e];n(i,e,t)&&(r.push(i),u.push(e))}return Fn(t,u),r},Ot.rest=Me,Ot.reverse=de,Ot.sampleSize=ke,Ot.set=function(t,n,r){return null==t?t:Zn(t,n,r)},Ot.setWith=function(t,n,r,e){return e="function"==typeof e?e:T,null==t?t:Zn(t,n,r,e)},Ot.shuffle=function(t){return ke(t,4294967295)},Ot.slice=function(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&te(t,n,r)?(n=0,r=e):(n=null==n?0:Xe(n),r=r===T?e:Xe(r)),Tn(t,n,r)):[]},Ot.sortBy=fi,Ot.sortedUniq=function(t){return t&&t.length?Gn(t):[]},Ot.sortedUniqBy=function(t,n){return t&&t.length?Gn(t,Fr(n)):[]},Ot.split=function(t,n,r){return r&&"number"!=typeof r&&te(t,n,r)&&(n=r=T),r=r===T?4294967295:r>>>0,r?(t=eu(t))&&("string"==typeof n||null!=n&&!Ke(n))&&(n=Yn(n),""==n&&Wt.test(t))?ur(t.match(It),0,r):oo.call(t,n,r):[]},Ot.spread=function(t,n){if("function"!=typeof t)throw new Au("Expected a function");return n=n===T?0:Xu(Xe(n),0),Me(function(e){var u=e[n];return e=ur(e,0,n),u&&s(e,u),r(t,this,e)})},Ot.tail=function(t){return le(t,1)},Ot.take=function(t,n,r){return t&&t.length?(n=r||n===T?1:Xe(n),Tn(t,0,0>n?0:n)):[]},Ot.takeRight=function(t,n,r){var e=t?t.length:0;return e?(n=r||n===T?1:Xe(n),n=e-n,Tn(t,0>n?0:n,e)):[]},Ot.takeRightWhile=function(t,n){return t&&t.length?Qn(t,Fr(n,3),!1,!0):[]},Ot.takeWhile=function(t,n){return t&&t.length?Qn(t,Fr(n,3)):[]},Ot.tap=function(t,n){return n(t),t},Ot.throttle=function(t,n,r){var e=!0,u=!0;if("function"!=typeof t)throw new Au("Expected a function");return Ze(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Be(t,n,{leading:e,maxWait:n,trailing:u})},Ot.thru=je,Ot.toArray=He,Ot.toPairs=zi,Ot.toPairsIn=Ui,Ot.toPath=function(t){return yi(t)?l(t,fe):Je(t)?[t]:lr(Co(t))},Ot.toPlainObject=ru,Ot.transform=function(t,n,r){var e=yi(t)||Ye(t);if(n=Fr(n,4),null==r)if(e||Ze(t)){var o=t.constructor;r=e?yi(t)?new o:[]:Fe(o)?un(Ju(Object(t))):{}}else r={};return(e?u:hn)(t,function(t,e,u){return n(r,t,e,u)}),r},Ot.unary=function(t){return Se(t,1)},Ot.union=To,Ot.unionBy=qo,Ot.unionWith=Vo,Ot.uniq=function(t){return t&&t.length?Hn(t):[]},Ot.uniqBy=function(t,n){return t&&t.length?Hn(t,Fr(n)):[]},Ot.uniqWith=function(t,n){return t&&t.length?Hn(t,T,n):[]},Ot.unset=function(t,n){var r;if(null==t)r=!0;else{r=t;var e=n,e=ne(e,r)?[e]:er(e);r=ie(r,e),e=fe(ve(e)),r=!(null!=r&&yn(r,e))||delete r[e]}return r},Ot.unzip=ye,Ot.unzipWith=be,Ot.update=function(t,n,r){return null==t?t:Zn(t,n,("function"==typeof r?r:pu)(vn(t,n)),void 0)},Ot.updateWith=function(t,n,r,e){return e="function"==typeof e?e:T,null!=t&&(t=Zn(t,n,("function"==typeof r?r:pu)(vn(t,n)),e)),t},Ot.values=cu,Ot.valuesIn=function(t){return null==t?[]:k(t,fu(t))},Ot.without=Ko,Ot.words=su,Ot.wrap=function(t,n){return n=null==n?pu:n,pi(n,t)},Ot.xor=Go,Ot.xorBy=Jo,Ot.xorWith=Yo,Ot.zip=Ho,Ot.zipObject=function(t,n){return nr(t||[],n||[],Yt)},Ot.zipObjectDeep=function(t,n){return nr(t||[],n||[],Zn)},Ot.zipWith=Qo,Ot.entries=zi,Ot.entriesIn=Ui,Ot.extend=mi,Ot.extendWith=Ai,vu(Ot,Ot),Ot.add=ef,Ot.attempt=Vi,Ot.camelCase=$i,Ot.capitalize=au,Ot.ceil=uf,Ot.clamp=function(t,n,r){return r===T&&(r=n,n=T),r!==T&&(r=nu(r),r=r===r?r:0),n!==T&&(n=nu(n),n=n===n?n:0),nn(nu(t),n,r)},Ot.clone=function(t){return rn(t,!1,!0)},Ot.cloneDeep=function(t){return rn(t,!0,!0)},Ot.cloneDeepWith=function(t,n){return rn(t,!0,!0,n)},Ot.cloneWith=function(t,n){return rn(t,!1,!0,n)},Ot.deburr=lu,Ot.divide=of,Ot.endsWith=function(t,n,r){t=eu(t),n=Yn(n);var e=t.length;return r=r===T?e:nn(Xe(r),0,e),r-=n.length,r>=0&&t.indexOf(n,r)==r},Ot.eq=Ce,Ot.escape=function(t){return(t=eu(t))&&X.test(t)?t.replace(H,B):t},Ot.escapeRegExp=function(t){return(t=eu(t))&&ft.test(t)?t.replace(it,"\\$&"):t},Ot.every=function(t,n,r){var e=yi(t)?i:cn;return r&&te(t,n,r)&&(n=T),e(t,Fr(n,3))},Ot.find=ni,Ot.findIndex=he,Ot.findKey=function(t,n){return v(t,Fr(n,3),hn)},Ot.findLast=ri,Ot.findLastIndex=pe,Ot.findLastKey=function(t,n){return v(t,Fr(n,3),pn)},Ot.floor=ff,Ot.forEach=me,Ot.forEachRight=Ae,Ot.forIn=function(t,n){return null==t?t:ko(t,Fr(n,3),fu)},Ot.forInRight=function(t,n){return null==t?t:Eo(t,Fr(n,3),fu)},Ot.forOwn=function(t,n){return t&&hn(t,Fr(n,3))},Ot.forOwnRight=function(t,n){return t&&pn(t,Fr(n,3))},Ot.get=uu,Ot.gt=gi,Ot.gte=di,Ot.has=function(t,n){return null!=t&&Vr(t,n,yn)},Ot.hasIn=ou,Ot.head=_e,Ot.identity=pu,Ot.includes=function(t,n,r,e){return t=Ue(t)?t:cu(t),r=r&&!e?Xe(r):0,e=t.length,0>r&&(r=Xu(e+r,0)),Ge(t)?e>=r&&-1<t.indexOf(n,r):!!e&&-1<d(t,n,r)},Ot.indexOf=function(t,n,r){var e=t?t.length:0;return e?(r=null==r?0:Xe(r),0>r&&(r=Xu(e+r,0)),d(t,n,r)):-1},Ot.inRange=function(t,n,r){return n=nu(n)||0,r===T?(r=n,n=0):r=nu(r)||0,t=nu(t),t>=to(n,r)&&t<Xu(n,r)},Ot.invoke=Wi,Ot.isArguments=ze,Ot.isArray=yi,Ot.isArrayBuffer=function(t){return Te(t)&&"[object ArrayBuffer]"==Mu.call(t)},Ot.isArrayLike=Ue,Ot.isArrayLikeObject=$e,Ot.isBoolean=function(t){return!0===t||!1===t||Te(t)&&"[object Boolean]"==Mu.call(t)},Ot.isBuffer=bi,Ot.isDate=function(t){return Te(t)&&"[object Date]"==Mu.call(t)},Ot.isElement=function(t){return!!t&&1===t.nodeType&&Te(t)&&!Ve(t)},Ot.isEmpty=function(t){if(Ue(t)&&(yi(t)||Ge(t)||Fe(t.splice)||ze(t)||bi(t)))return!t.length;if(Te(t)){var n=qr(t);if("[object Map]"==n||"[object Set]"==n)return!t.size}for(var r in t)if(Wu.call(t,r))return!1;return!(po&&iu(t).length)},Ot.isEqual=function(t,n){return mn(t,n)},Ot.isEqualWith=function(t,n,r){var e=(r="function"==typeof r?r:T)?r(t,n):T;return e===T?mn(t,n,r):!!e},Ot.isError=De,Ot.isFinite=function(t){return"number"==typeof t&&Yu(t)},Ot.isFunction=Fe,Ot.isInteger=Ne,Ot.isLength=Pe,Ot.isMap=function(t){return Te(t)&&"[object Map]"==qr(t)},Ot.isMatch=function(t,n){return t===n||An(t,n,Pr(n))},Ot.isMatchWith=function(t,n,r){return r="function"==typeof r?r:T,An(t,n,Pr(n),r)},Ot.isNaN=function(t){return qe(t)&&t!=+t},Ot.isNative=function(t){if(Lo(t))throw new ju("This method is not supported with `core-js`. Try https://github.com/es-shims.");return On(t)},Ot.isNil=function(t){return null==t},Ot.isNull=function(t){return null===t},Ot.isNumber=qe,Ot.isObject=Ze,Ot.isObjectLike=Te,Ot.isPlainObject=Ve,Ot.isRegExp=Ke,Ot.isSafeInteger=function(t){return Ne(t)&&t>=-9007199254740991&&9007199254740991>=t},Ot.isSet=function(t){return Te(t)&&"[object Set]"==qr(t)},Ot.isString=Ge,Ot.isSymbol=Je,Ot.isTypedArray=Ye,Ot.isUndefined=function(t){return t===T},Ot.isWeakMap=function(t){return Te(t)&&"[object WeakMap]"==qr(t)},Ot.isWeakSet=function(t){return Te(t)&&"[object WeakSet]"==Mu.call(t)},Ot.join=function(t,n){return t?Hu.call(t,n):""},Ot.kebabCase=Di,Ot.last=ve,Ot.lastIndexOf=function(t,n,r){var e=t?t.length:0;if(!e)return-1;var u=e;if(r!==T&&(u=Xe(r),u=(0>u?Xu(e+u,0):to(u,e-1))+1),n!==n)return M(t,u-1,!0);for(;u--;)if(t[u]===n)return u;return-1},Ot.lowerCase=Fi,Ot.lowerFirst=Ni,Ot.lt=xi,Ot.lte=ji,Ot.max=function(t){return t&&t.length?an(t,pu,dn):T},Ot.maxBy=function(t,n){return t&&t.length?an(t,Fr(n),dn):T},Ot.mean=function(t){return b(t,pu)},Ot.meanBy=function(t,n){return b(t,Fr(n))},Ot.min=function(t){return t&&t.length?an(t,pu,Sn):T},Ot.minBy=function(t,n){return t&&t.length?an(t,Fr(n),Sn):T},Ot.stubArray=yu,Ot.stubFalse=bu,Ot.stubObject=function(){return{}},Ot.stubString=function(){return""},Ot.stubTrue=function(){return!0},Ot.multiply=cf,Ot.nth=function(t,n){return t&&t.length?Ln(t,Xe(n)):T},Ot.noConflict=function(){return Kt._===this&&(Kt._=Cu),this},Ot.noop=gu,Ot.now=Ee,Ot.pad=function(t,n,r){t=eu(t);var e=(n=Xe(n))?N(t):0;return!n||e>=n?t:(n=(n-e)/2,Sr(Gu(n),r)+t+Sr(Ku(n),r))},Ot.padEnd=function(t,n,r){t=eu(t);var e=(n=Xe(n))?N(t):0;return n&&n>e?t+Sr(n-e,r):t},Ot.padStart=function(t,n,r){t=eu(t);var e=(n=Xe(n))?N(t):0;return n&&n>e?Sr(n-e,r)+t:t},Ot.parseInt=function(t,n,r){return r||null==n?n=0:n&&(n=+n),t=eu(t).replace(ct,""),no(t,n||(vt.test(t)?16:10))},Ot.random=function(t,n,r){if(r&&"boolean"!=typeof r&&te(t,n,r)&&(n=r=T),r===T&&("boolean"==typeof n?(r=n,n=T):"boolean"==typeof t&&(r=t,t=T)),t===T&&n===T?(t=0,n=1):(t=nu(t)||0,n===T?(n=t,t=0):n=nu(n)||0),t>n){var e=t;t=n,n=e}return r||t%1||n%1?(r=ro(),to(t+r*(n-t+Ft("1e-"+((r+"").length-1))),n)):Nn(t,n)},Ot.reduce=function(t,n,r){var e=yi(t)?h:x,u=3>arguments.length;return e(t,Fr(n,4),r,u,Ao)},Ot.reduceRight=function(t,n,r){var e=yi(t)?p:x,u=3>arguments.length;return e(t,Fr(n,4),r,u,Oo)},Ot.repeat=function(t,n,r){return n=(r?te(t,n,r):n===T)?1:Xe(n),Pn(eu(t),n)},Ot.replace=function(){var t=arguments,n=eu(t[0]);return 3>t.length?n:eo.call(n,t[1],t[2])},Ot.result=function(t,n,r){n=ne(n,t)?[n]:er(n);var e=-1,u=n.length;for(u||(t=T,u=1);++e<u;){var o=null==t?T:t[fe(n[e])];o===T&&(e=u,o=r),t=Fe(o)?o.call(t):o}return t},Ot.round=af,Ot.runInContext=Z,Ot.sample=function(t){t=Ue(t)?t:cu(t);var n=t.length;return n>0?t[Nn(0,n-1)]:T},Ot.size=function(t){if(null==t)return 0;if(Ue(t)){var n=t.length;return n&&Ge(t)?N(t):n}return Te(t)&&(n=qr(t),"[object Map]"==n||"[object Set]"==n)?t.size:iu(t).length},Ot.snakeCase=Pi,Ot.some=function(t,n,r){var e=yi(t)?_:qn;return r&&te(t,n,r)&&(n=T),e(t,Fr(n,3))},Ot.sortedIndex=function(t,n){return Vn(t,n)},Ot.sortedIndexBy=function(t,n,r){return Kn(t,n,Fr(r))},Ot.sortedIndexOf=function(t,n){var r=t?t.length:0;if(r){var e=Vn(t,n);if(r>e&&Ce(t[e],n))return e}return-1},Ot.sortedLastIndex=function(t,n){return Vn(t,n,!0)},Ot.sortedLastIndexBy=function(t,n,r){return Kn(t,n,Fr(r),!0)},Ot.sortedLastIndexOf=function(t,n){if(t&&t.length){var r=Vn(t,n,!0)-1;if(Ce(t[r],n))return r}return-1},Ot.startCase=Zi,Ot.startsWith=function(t,n,r){return t=eu(t),r=nn(Xe(r),0,t.length),t.lastIndexOf(Yn(n),r)==r},Ot.subtract=lf,Ot.sum=function(t){return t&&t.length?w(t,pu):0},Ot.sumBy=function(t,n){return t&&t.length?w(t,Fr(n)):0},Ot.template=function(t,n,r){var e=Ot.templateSettings;r&&te(t,n,r)&&(n=T),t=eu(t),n=Ai({},n,e,Vt),r=Ai({},n.imports,e.imports,Vt);var u,o,i=iu(r),f=k(r,i),c=0;r=n.interpolate||wt;var a="__p+='";r=mu((n.escape||wt).source+"|"+r.source+"|"+(r===rt?pt:wt).source+"|"+(n.evaluate||wt).source+"|$","g");var l="sourceURL"in n?"//# sourceURL="+n.sourceURL+"\n":"";if(t.replace(r,function(n,r,e,i,f,l){return e||(e=i),a+=t.slice(c,l).replace(mt,L),r&&(u=!0,a+="'+__e("+r+")+'"),f&&(o=!0,a+="';"+f+";\n__p+='"),e&&(a+="'+((__t=("+e+"))==null?'':__t)+'"),c=l+n.length,n}),a+="';",(n=n.variable)||(a="with(obj){"+a+"}"),a=(o?a.replace(K,""):a).replace(G,"$1").replace(J,"$1;"),a="function("+(n||"obj")+"){"+(n?"":"obj||(obj={});")+"var __t,__p=''"+(u?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+a+"return __p}",n=Vi(function(){return Function(i,l+"return "+a).apply(T,f)}),n.source=a,De(n))throw n;return n},Ot.times=function(t,n){if(t=Xe(t),1>t||t>9007199254740991)return[];var r=4294967295,e=to(t,4294967295);for(n=Fr(n),t-=4294967295,e=m(e,n);++r<t;)n(r);return e},Ot.toFinite=Qe,Ot.toInteger=Xe,Ot.toLength=tu,Ot.toLower=function(t){return eu(t).toLowerCase()},Ot.toNumber=nu,Ot.toSafeInteger=function(t){return nn(Xe(t),-9007199254740991,9007199254740991)},Ot.toString=eu,Ot.toUpper=function(t){return eu(t).toUpperCase()},Ot.trim=function(t,n,r){return(t=eu(t))&&(r||n===T)?t.replace(ct,""):t&&(n=Yn(n))?(t=t.match(It),n=n.match(It),ur(t,S(t,n),I(t,n)+1).join("")):t},Ot.trimEnd=function(t,n,r){return(t=eu(t))&&(r||n===T)?t.replace(lt,""):t&&(n=Yn(n))?(t=t.match(It),n=I(t,n.match(It))+1,ur(t,0,n).join("")):t},Ot.trimStart=function(t,n,r){return(t=eu(t))&&(r||n===T)?t.replace(at,""):t&&(n=Yn(n))?(t=t.match(It),n=S(t,n.match(It)),ur(t,n).join("")):t},Ot.truncate=function(t,n){var r=30,e="...";if(Ze(n))var u="separator"in n?n.separator:u,r="length"in n?Xe(n.length):r,e="omission"in n?Yn(n.omission):e;t=eu(t);var o=t.length;if(Wt.test(t))var i=t.match(It),o=i.length;if(r>=o)return t;if(o=r-N(e),1>o)return e;if(r=i?ur(i,0,o).join(""):t.slice(0,o),u===T)return r+e;if(i&&(o+=r.length-o),Ke(u)){if(t.slice(o).search(u)){var f=r;for(u.global||(u=mu(u.source,eu(_t.exec(u))+"g")),u.lastIndex=0;i=u.exec(f);)var c=i.index;r=r.slice(0,c===T?o:c)}}else t.indexOf(Yn(u),o)!=o&&(u=r.lastIndexOf(u),u>-1&&(r=r.slice(0,u)));return r+e},Ot.unescape=function(t){return(t=eu(t))&&Q.test(t)?t.replace(Y,P):t},Ot.uniqueId=function(t){var n=++Bu;return eu(t)+n},Ot.upperCase=Ti,Ot.upperFirst=qi,Ot.each=me,Ot.eachRight=Ae,Ot.first=_e,vu(Ot,function(){var t={};return hn(Ot,function(n,r){Wu.call(Ot.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),Ot.VERSION="4.13.1",u("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Ot[t].placeholder=Ot}),u(["drop","take"],function(t,n){Ut.prototype[t]=function(r){var e=this.__filtered__;if(e&&!n)return new Ut(this);r=r===T?1:Xu(Xe(r),0);var u=this.clone();return e?u.__takeCount__=to(r,u.__takeCount__):u.__views__.push({size:to(r,4294967295),type:t+(0>u.__dir__?"Right":"")}),u},Ut.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),u(["filter","map","takeWhile"],function(t,n){var r=n+1,e=1==r||3==r;Ut.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Fr(t,3),type:r}),n.__filtered__=n.__filtered__||e,n}}),u(["head","last"],function(t,n){var r="take"+(n?"Right":"");Ut.prototype[t]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");Ut.prototype[t]=function(){return this.__filtered__?new Ut(this):this[r](1)}}),Ut.prototype.compact=function(){return this.filter(pu)},Ut.prototype.find=function(t){return this.filter(t).head()},Ut.prototype.findLast=function(t){return this.reverse().find(t)},Ut.prototype.invokeMap=Me(function(t,n){return"function"==typeof t?new Ut(this):this.map(function(r){return wn(r,t,n)})}),Ut.prototype.reject=function(t){return t=Fr(t,3),this.filter(function(n){return!t(n)})},Ut.prototype.slice=function(t,n){t=Xe(t);var r=this;return r.__filtered__&&(t>0||0>n)?new Ut(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==T&&(n=Xe(n),r=0>n?r.dropRight(-n):r.take(n-t)),r)},Ut.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ut.prototype.toArray=function(){return this.take(4294967295)},hn(Ut.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),e=/^(?:head|last)$/.test(n),u=Ot[e?"take"+("last"==n?"Right":""):n],o=e||/^find/.test(n);u&&(Ot.prototype[n]=function(){function n(t){return t=u.apply(Ot,s([t],f)),e&&h?t[0]:t}var i=this.__wrapped__,f=e?[1]:arguments,c=i instanceof Ut,a=f[0],l=c||yi(i);l&&r&&"function"==typeof a&&1!=a.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,a=o&&!h,c=c&&!p;return!o&&l?(i=c?i:new Ut(this),i=t.apply(i,f),i.__actions__.push({func:je,args:[n],thisArg:T}),new zt(i,h)):a&&c?t.apply(this,f):(i=this.thru(n),a?e?i.value()[0]:i.value():i)})}),u("pop push shift sort splice unshift".split(" "),function(t){var n=Ou[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:pop|shift)$/.test(t);Ot.prototype[t]=function(){var t=arguments;if(e&&!this.__chain__){var u=this.value();return n.apply(yi(u)?u:[],t)}return this[r](function(r){return n.apply(yi(r)?r:[],t)})}}),hn(Ut.prototype,function(t,n){var r=Ot[n];if(r){var e=r.name+"";(_o[e]||(_o[e]=[])).push({name:n,func:r})}}),_o[Ar(T,2).name]=[{name:"wrapper",func:T}],Ut.prototype.clone=function(){var t=new Ut(this.__wrapped__);return t.__actions__=lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=lr(this.__views__),t},Ut.prototype.reverse=function(){if(this.__filtered__){var t=new Ut(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Ut.prototype.value=function(){var t,n=this.__wrapped__.value(),r=this.__dir__,e=yi(n),u=0>r,o=e?n.length:0;t=o;for(var i=this.__views__,f=0,c=-1,a=i.length;++c<a;){var l=i[c],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":t-=s;break;case"take":t=to(t,f+s);break;case"takeRight":f=Xu(f,t-s)}}if(t={start:f,end:t},i=t.start,f=t.end,t=f-i,u=u?f:i-1,i=this.__iteratees__,f=i.length,c=0,a=to(t,this.__takeCount__),!e||200>o||o==t&&a==t)return Xn(n,this.__actions__);e=[];t:for(;t--&&a>c;){for(u+=r,o=-1,l=n[u];++o<f;){var h=i[o],s=h.type,h=(0,h.iteratee)(l);if(2==s)l=h;else if(!h){if(1==s)continue t;break t}}e[c++]=l}return e},Ot.prototype.at=Xo,Ot.prototype.chain=function(){return xe(this)},Ot.prototype.commit=function(){return new zt(this.value(),this.__chain__)},Ot.prototype.next=function(){this.__values__===T&&(this.__values__=He(this.value()));var t=this.__index__>=this.__values__.length,n=t?T:this.__values__[this.__index__++];return{done:t,value:n}},Ot.prototype.plant=function(t){for(var n,r=this;r instanceof kt;){var e=ae(r);e.__index__=0,e.__values__=T,n?u.__wrapped__=e:n=e;var u=e,r=r.__wrapped__}return u.__wrapped__=t,n},Ot.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Ut?(this.__actions__.length&&(t=new Ut(this)),t=t.reverse(),t.__actions__.push({func:je,args:[de],thisArg:T}),new zt(t,this.__chain__)):this.thru(de)},Ot.prototype.toJSON=Ot.prototype.valueOf=Ot.prototype.value=function(){return Xn(this.__wrapped__,this.__actions__)},Zu&&(Ot.prototype[Zu]=we),Ot}var T,q=1/0,V=NaN,K=/\b__p\+='';/g,G=/\b(__p\+=)''\+/g,J=/(__e\(.*?\)|\b__t\))\+'';/g,Y=/&(?:amp|lt|gt|quot|#39|#96);/g,H=/[&<>"'`]/g,Q=RegExp(Y.source),X=RegExp(H.source),tt=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ft=RegExp(it.source),ct=/^\s+|\s+$/g,at=/^\s+/,lt=/\s+$/,st=/[a-zA-Z0-9]+/g,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,vt=/^0x/i,gt=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,wt=/($^)/,mt=/['\n\r\u2028\u2029\\]/g,At="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",Ot="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+At,kt="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Et=RegExp("['’]","g"),St=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),It=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+kt+At,"g"),Rt=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d+",Ot].join("|"),"g"),Wt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Bt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ isFinite parseInt setTimeout".split(" "),Mt={};
Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt["[object Arguments]"]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object Boolean]"]=Mt["[object DataView]"]=Mt["[object Date]"]=Mt["[object Error]"]=Mt["[object Function]"]=Mt["[object Map]"]=Mt["[object Number]"]=Mt["[object Object]"]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object WeakMap]"]=!1;var Ct={};Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object DataView]"]=Ct["[object Boolean]"]=Ct["[object Date]"]=Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object Symbol]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object WeakMap]"]=!1;var zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},$t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=parseFloat,Nt=parseInt,Pt="object"==typeof exports&&exports,Zt=Pt&&"object"==typeof module&&module,Tt=Zt&&Zt.exports===Pt,qt=R("object"==typeof self&&self),Vt=R("object"==typeof this&&this),Kt=R("object"==typeof global&&global)||qt||Vt||Function("return this")(),Gt=Z();(qt||{})._=Gt,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Gt}):Zt?((Zt.exports=Gt)._=Gt,Pt._=Gt):Kt._=Gt}).call(this),!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}function F(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}function M(){this.expando=n.expando+M.uid++}function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c)}catch(e){}O.set(a,b,c)}else c=void 0;return c}function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",o=0;f=m[o++];)if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c)for(k=0;f=g[k++];)Z.test(f.type||"")&&c.push(f);return l}function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ma(a){if(a in La)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;c--;)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function fb(a){return a.getAttribute&&a.getAttribute("class")||""}function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===tb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a))for(c=a.length;c>d&&b.call(a[d],d,a[d])!==!1;d++);else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){for((k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";h--;)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){for(var c=a.split("|"),e=c.length;e--;)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function pa(){}function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ua(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){for(o=0,g||l.ownerDocument===n||(m(l),h=!p);q=a[o++];)if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){for(o=0;q=b[o++];)q(t,u,g,h);if(f){if(r>0)for(;s--;)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);for(c=a;c=c.parentNode;)g.unshift(c);for(c=b;c=c.parentNode;)h.unshift(c);for(;g[d]===h[d];)d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),
m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);return pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)},h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=W.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1)for(c=g.shift();++h<f.length;)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,f,c))>-1;)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}}),n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;var ba=/<|&#?\w+;/;!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;j--;)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){for(b=(b||"").match(G)||[""],j=b.length;j--;)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];for(h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;b--;)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"},Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}}))}();var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),void(null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b
};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=n(this),f=a.match(G)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=p[g++])&&!b.isPropagationStopped();)b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href,n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h)for(h={};b=ob.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length},n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n}),function(F){"use strict";function O(a){return function(){var d,b=arguments[0];for(d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.6/"+(a?a+"/":"")+b,b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var e,c=encodeURIComponent;e=arguments[b],e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e,d+=c(e)}return Error(d)}}function xa(a){if(null==a||Wa(a))return!1;if(K(a)||I(a)||G&&a instanceof G)return!0;var b="length"in Object(a)&&a.length;return Q(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(E(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(K(a)||xa(a)){var f="object"!=typeof a;for(c=0,e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(rc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function sc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function tc(a){return function(b,d){a(d,b)}}function Yd(){return++pb}function Qb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(J(g)||E(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&J(n)?ha(n)?a[m]=new Date(n.valueOf()):Xa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Rb(n)?a[m]=n.clone():(J(a[m])||(a[m]=K(n)?[]:{}),Qb(a[m],[n],!0)):a[m]=n}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function P(a){return Qb(a,ya.call(arguments,1),!1)}function Zd(a){return Qb(a,ya.call(arguments,1),!0)}function $(a){return parseInt(a,10)}function Sb(a,b){return P(Object.create(a),b)}function C(){}function Ya(a){return a}function ca(a){return function(){return a}}function uc(a){return E(a.toString)&&a.toString!==ja}function y(a){return"undefined"==typeof a}function v(a){return"undefined"!=typeof a}function J(a){return null!==a&&"object"==typeof a}function rc(a){return null!==a&&"object"==typeof a&&!vc(a)}function I(a){return"string"==typeof a}function Q(a){return"number"==typeof a}function ha(a){return"[object Date]"===ja.call(a)}function E(a){return"function"==typeof a}function Xa(a){return"[object RegExp]"===ja.call(a)}function Wa(a){return a&&a.window===a}function Za(a){return a&&a.$evalAsync&&a.$watch}function Ea(a){return"boolean"==typeof a}function $d(a){return a&&Q(a.length)&&ae.test(ja.call(a))}function Rb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function be(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ta(a){return L(a.nodeName||a[0]&&a[0].nodeName)}function $a(a,b){var d=a.indexOf(b);return 0<=d&&a.splice(d,1),d}function oa(a,b){function d(a,b){var e,d=b.$$hashKey;if(K(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(rc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"==typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));return d?b.$$hashKey=d:delete b.$$hashKey,b}function c(a){if(!J(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Wa(a)||Za(a))throw za("cpws");var b=!1,c=e(a);return void 0===c&&(c=K(a)?[]:Object.create(vc(a)),b=!0),f.push(a),g.push(c),b?d(a,c):c}function e(a){switch(ja.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(c(a.buffer));case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(E(a.cloneNode))return a.cloneNode(!0)}var f=[],g=[];if(b){if($d(b)||"[object ArrayBuffer]"===ja.call(b))throw za("cpta");if(a===b)throw za("cpi");return K(b)?b.length=0:q(b,function(a,d){"$$hashKey"!==d&&delete b[d]}),f.push(a),g.push(b),d(a,b)}return c(a)}function fa(a,b){if(K(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(J(a))for(d in b=b||{},a)"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d]);return b||a}function na(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d=typeof a;if(d==typeof b&&"object"==d){if(!K(a)){if(ha(a))return!!ha(b)&&na(a.getTime(),b.getTime());if(Xa(a))return!!Xa(b)&&a.toString()==b.toString();if(Za(a)||Za(b)||Wa(a)||Wa(b)||K(b)||ha(b)||Xa(b))return!1;d=S();for(c in a)if("$"!==c.charAt(0)&&!E(a[c])){if(!na(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&v(b[c])&&!E(b[c]))return!1;return!0}if(!K(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!na(a[c],b[c]))return!1;return!0}}return!1}function ab(a,b,d){return a.concat(ya.call(b,d))}function bb(a,b){var d=2<arguments.length?ya.call(arguments,2):[];return!E(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,ab(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ce(a,b){var d=b;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Wa(b)?d="$WINDOW":b&&F.document===b?d="$DOCUMENT":Za(b)&&(d="$SCOPE"),d}function cb(a,b){if(!y(a))return Q(b)||(b=b?2:null),JSON.stringify(a,ce,b)}function wc(a){return I(a)?JSON.parse(a):a}function xc(a,b){a=a.replace(de,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(d)?b:d}function Tb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return b=xc(b,c),d*=b-c,a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+d),a}function ua(a){a=G(a).clone();try{a.empty()}catch(b){}var d=G("<div>").append(a).html();try{return a[0].nodeType===Na?L(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+L(b)})}catch(c){return L(d)}}function yc(a){try{return decodeURIComponent(a)}catch(b){}}function zc(a){var b={};return q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=yc(e),v(e)&&(f=!v(f)||yc(f),sa.call(b,e)?K(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function Ub(a){var b=[];return q(a,function(a,c){K(a)?q(a,function(a){b.push(ia(c,!0)+(!0===a?"":"="+ia(a,!0)))}):b.push(ia(c,!0)+(!0===a?"":"="+ia(a,!0)))}),b.length?b.join("&"):""}function qb(a){return ia(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ia(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ee(a,b){var d,c,e=Oa.length;for(c=0;c<e;++c)if(d=Oa[c]+b,I(d=a.getAttribute(d)))return d;return null}function fe(a,b){var d,c,e={};q(Oa,function(b){b+="app",!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))}),q(Oa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))}),d&&(e.strictDi=null!==ee(d,"strict-di"),b(d,c?[c]:[],e))}function Ac(a,b,d){J(d)||(d={}),d=P({strictDi:!1},d);var c=function(){if(a=G(a),a.injector()){var c=a[0]===F.document?"document":ua(a);throw za("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"))}return b=b||[],b.unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),c=db(b,d.strictDi),c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;return F&&e.test(F.name)&&(d.debugInfoEnabled=!0,F.name=F.name.replace(e,"")),F&&!f.test(F.name)?c():(F.name=F.name.replace(f,""),da.resumeBootstrap=function(a){return q(a,function(a){b.push(a)}),c()},void(E(da.resumeDeferredBootstrap)&&da.resumeDeferredBootstrap()));
}function ge(){F.name="NG_ENABLE_DEBUG_INFO!"+F.name,F.location.reload()}function he(a){if(a=da.element(a).injector(),!a)throw za("test");return a.get("$$testability")}function Bc(a,b){return b=b||"_",a.replace(ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function je(){var a;if(!Cc){var b=rb();(Y=y(b)?F.jQuery:b?F[b]:void 0)&&Y.fn.on?(G=Y,P(Y.fn,{scope:Pa.scope,isolateScope:Pa.isolateScope,controller:Pa.controller,injector:Pa.injector,inheritedData:Pa.inheritedData}),a=Y.cleanData,Y.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=Y._data(f,"events"))&&c.$destroy&&Y(f).triggerHandler("$destroy");a(b)}):G=T,da.element=G,Cc=!0}}function sb(a,b,d){if(!a)throw za("areq",b||"?",d||"required");return a}function Qa(a,b,d){return d&&K(a)&&(a=a[a.length-1]),sb(E(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ra(a,b){if("hasOwnProperty"===a)throw za("badname",b)}function Dc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&E(a)?bb(e,a):a}function tb(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&&(b=b.nextSibling);e++)(c||a[e]!==b)&&(c||(c=G(ya.call(a,0,e))),c.push(b));return c||a}function S(){return Object.create(null)}function ke(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=O("$injector"),c=O("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||O,b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");return g&&a.hasOwnProperty(f)&&(a[f]=null),b(a,f,function(){function a(b,d,e,f){return f||(f=c),function(){return f[e||"push"]([b,d,arguments]),U}}function b(a,d){return function(b,e){return e&&E(e)&&(e.$$moduleName=f),c.push([a,d,arguments]),U}}if(!g)throw d("nomod",f);var c=[],e=[],p=[],x=a("$injector","invoke","push",e),U={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:x,run:function(a){return p.push(a),this}};return h&&x(h),U})}})}function le(a){P(a,{bootstrap:Ac,copy:oa,extend:P,merge:Zd,equals:na,element:G,forEach:q,injector:db,noop:C,bind:bb,toJson:cb,fromJson:wc,identity:Ya,isUndefined:y,isDefined:v,isString:I,isFunction:E,isObject:J,isNumber:Q,isElement:Rb,isArray:K,version:me,isDate:ha,lowercase:L,uppercase:ub,callbacks:{counter:0},getTestability:he,$$minErr:O,$$csp:Fa,reloadWithDebugInfo:ge}),(Vb=ke(F))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:ne}),a.provider("$compile",Ec).directive({a:oe,input:Fc,textarea:Fc,form:pe,script:qe,select:re,style:se,option:te,ngBind:ue,ngBindHtml:ve,ngBindTemplate:we,ngClass:xe,ngClassEven:ye,ngClassOdd:ze,ngCloak:Ae,ngController:Be,ngForm:Ce,ngHide:De,ngIf:Ee,ngInclude:Fe,ngInit:Ge,ngNonBindable:He,ngPluralize:Ie,ngRepeat:Je,ngShow:Ke,ngStyle:Le,ngSwitch:Me,ngSwitchWhen:Ne,ngSwitchDefault:Oe,ngOptions:Pe,ngTransclude:Qe,ngModel:Re,ngList:Se,ngChange:Te,pattern:Gc,ngPattern:Gc,required:Hc,ngRequired:Hc,minlength:Ic,ngMinlength:Ic,maxlength:Jc,ngMaxlength:Jc,ngValue:Ue,ngModelOptions:Ve}).directive({ngInclude:We}).directive(vb).directive(Kc),a.provider({$anchorScroll:Xe,$animate:Ye,$animateCss:Ze,$$animateJs:$e,$$animateQueue:af,$$AnimateRunner:bf,$$animateAsyncRun:cf,$browser:df,$cacheFactory:ef,$controller:ff,$document:gf,$exceptionHandler:hf,$filter:Lc,$$forceReflow:jf,$interpolate:kf,$interval:lf,$http:mf,$httpParamSerializer:nf,$httpParamSerializerJQLike:of,$httpBackend:pf,$xhrFactory:qf,$location:rf,$log:sf,$parse:tf,$rootScope:uf,$q:vf,$$q:wf,$sce:xf,$sceDelegate:yf,$sniffer:zf,$templateCache:Af,$templateRequest:Bf,$$testability:Cf,$timeout:Df,$window:Ef,$$rAF:Ff,$$jqLite:Gf,$$HashMap:Hf,$$cookieReader:If})}])}function eb(a){return a.replace(Jf,function(a,d,c,e){return e?c.toUpperCase():c}).replace(Kf,"Moz$1")}function Mc(a){return a=a.nodeType,1===a||!a||9===a}function Nc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Wb.test(a)){for(d=d||e.appendChild(b.createElement("div")),c=(Lf.exec(a)||["",""])[1].toLowerCase(),c=ga[c]||ga._default,d.innerHTML=c[1]+a.replace(Mf,"<$1></$2>")+c[2],c=c[0];c--;)d=d.lastChild;f=ab(f,d.childNodes),d=e.firstChild,d.textContent=""}else f.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",q(f,function(a){e.appendChild(a)}),e}function Oc(a,b){var d=a.parentNode;d&&d.replaceChild(b,a),b.appendChild(a)}function T(a){if(a instanceof T)return a;var b;if(I(a)&&(a=V(a),b=!0),!(this instanceof T)){if(b&&"<"!=a.charAt(0))throw Xb("nosel");return new T(a)}if(b){b=F.document;var d;a=(d=Nf.exec(a))?[b.createElement(d[1])]:(d=Nc(a,b))?d.childNodes:[]}Pc(this,a)}function Yb(a){return a.cloneNode(!0)}function wb(a,b){if(b||fb(a),a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)fb(d[c])}function Qc(a,b,d,c){if(v(c))throw Xb("offargs");var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];v(d)&&$a(c||[],d),v(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};q(b.split(" "),function(a){g(a),yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function fb(a,b){var d=a.ng339,c=d&&gb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Qc(a)),delete gb[d],a.ng339=void 0))}function xb(a,b){var d=a.ng339,d=d&&gb[d];return b&&!d&&(a.ng339=d=++Of,d=gb[d]={events:{},data:{},handle:void 0}),d}function Zb(a,b,d){if(Mc(a)){var c=v(d),e=!c&&b&&!J(b),f=!b;if(a=(a=xb(a,!e))&&a.data,c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];P(a,b)}}}function zb(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Ab(a,b){b&&a.setAttribute&&q(b.split(" "),function(b){a.setAttribute("class",V((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+V(b)+" "," ")))})}function Bb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=V(a),-1===d.indexOf(" "+a+" ")&&(d+=a+" ")}),a.setAttribute("class",V(d))}}function Pc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Rc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){for(9==a.nodeType&&(a=a.documentElement),b=K(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(v(d=G.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Sc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Db(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Pf(a,b){b=b||F,"complete"===b.document.readyState?b.setTimeout(a):G(b).on("load",a)}function Tc(a,b){var d=Eb[b.toLowerCase()];return d&&Uc[ta(a)]&&d}function Qf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(y(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Rf;1<g&&(f=fa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};return d.elem=a,d}function Rf(a,b,d){d.call(a,b)}function Sf(a,b,d){var c=b.relatedTarget;c&&(c===a||Tf.call(a,c))||d.call(a,b)}function Gf(){this.$get=function(){return P(T,{hasClass:function(a,b){return a.attr&&(a=a[0]),zb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Bb(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ab(a,b)}})}}function Ga(a,b){var d=a&&a.$$hashKey;return d?("function"==typeof d&&(d=a.$$hashKey()),d):(d=typeof a,d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Yd)():d+":"+a)}function Sa(a,b){if(b){var d=0;this.nextUid=function(){return++d}}q(a,this.put,this)}function Vc(a){return a=(Function.prototype.toString.call(a)+" ").replace(Uf,""),a.match(Vf)||a.match(Wf)}function Xf(a){return(a=Vc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b){function d(a){return function(b,c){return J(b)?void q(b,tc(a)):a(b,c)}}function c(a,b){if(Ra(a,"service"),(E(b)||K(b))&&(b=p.instantiate(b)),!b.$get)throw Ha("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=z.invoke(b,this);if(y(c))throw Ha("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(y(a)||K(a),"modulesToLoad","not an array");var c,b=[];return q(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{I(a)?(c=Vb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):E(a)?b.push(p.invoke(a)):K(a)?b.push(p.invoke(a)):Qa(a,"module")}catch(e){throw K(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ha("modulerr",a,e.stack||e.message||e)}}}),b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ha("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f}finally{l.shift()}}function e(a,c,f){var g=[];a=db.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!=typeof l)throw Ha("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){return"string"==typeof c&&(d=c,c=null),c=e(a,c,d),K(a)&&(a=a[a.length-1]),d=!(11>=Ba)&&("function"==typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a)+" ")),d?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=K(a)?a[a.length-1]:a;return a=e(a,b,c),a.unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:db.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Sa([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ca(b),!1)}),constant:d(function(a,b){Ra(a,"constant"),n[a]=b,x[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=z.invoke(d,c);return z.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){throw da.isString(b)&&l.push(b),Ha("unpr",l.join(" <- "))}),x={},U=h(x,function(a,b){var c=p.get(a+"Provider",b);return z.invoke(c.$get,c,void 0,a)}),z=U;n.$injectorProvider={$get:ca(U)};var r=g(a),z=U.get("$injector");return z.strictDi=b,q(r,function(a){a&&z.invoke(a)}),z}function Xe(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===ta(a))return b=a,!0}),b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset,E(c)?c=c():Rb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Q(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=I(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Pf(function(){c.$evalAsync(g)})}),g}]}function hb(a,b){return a||b?a?b?(K(a)&&(a=a.join(" ")),K(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Yf(a){I(a)&&(a=a.split(" "));var b=S();return q(a,function(a){a.length&&(b[a]=!0)}),b}function Ia(a){return J(a)?a:{}}function Zf(a,b,d,c){function e(a){try{a.apply(null,ya.call(arguments,1))}finally{if(U--,0===U)for(;z.length;)try{z.pop()()}catch(b){d.error(b)}}}function f(){w=null,g(),h()}function g(){r=ka(),r=y(r)?null:r,na(r,H)&&(r=H),H=r}function h(){u===k.url()&&D===r||(u=k.url(),D=r,q(B,function(a){a(k.url(),r)}))}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,x={};k.isMock=!1;var U=0,z=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){U++},k.notifyWhenNoOutstandingRequests=function(a){0===U?a():z.push(a)};var r,D,u=l.href,t=b.find("base"),w=null,ka=c.history?function(){try{return m.state}catch(a){}}:C;g(),D=r,k.url=function(b,d,e){if(y(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=D===e;if(u===b&&(!c.history||f))return k;var h=u&&Ja(u)===Ja(b);return u=b,D=e,!c.history||h&&f?(h||(w=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(w=b)):(m[d?"replaceState":"pushState"](e,"",b),g(),D=r),w&&(w=b),k}return w||l.href.replace(/%27/g,"'")},k.state=function(){return r};var B=[],A=!1,H=null;k.onUrlChange=function(b){return A||(c.history&&G(a).on("popstate",f),G(a).on("hashchange",f),A=!0),B.push(b),b},k.$$applicationDestroyed=function(){G(a).off("hashchange popstate",f)},k.$$checkUrlChange=h,k.baseHref=function(){var a=t.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return U++,c=n(function(){delete x[c],e(a)},b||0),x[c]=!0,c},k.defer.cancel=function(a){return!!x[a]&&(delete x[a],p(a),e(C),!0)}}function df(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new Zf(a,c,b,d)}]}function ef(){this.$get=function(){function a(a,c){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw O("$cacheFactory")("iid",a);var g=0,h=P({},c,{id:a}),k=S(),l=c&&c.capacity||Number.MAX_VALUE,m=S(),n=null,p=null;return b[a]={put:function(a,b){if(!y(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}return a in k||g++,k[a]=b,g>l&&this.remove(p.key),b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p),b==p&&(p=b.n),f(b.n,b.p),delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=S(),g=0,m=S(),n=p=null},destroy:function(){m=h=k=null,delete b[a]},info:function(){return P({},h,{size:g})}}}var b={};return a.info=function(){var a={};return q(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function Af(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ec(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e=S();return q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw ea("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(n[a]=e[f])}}),e}function c(a){var b=a.charAt(0);if(!b||b!==L(b))throw ea("baddir",a);if(a!==a.trim())throw ea("baddir",a)}function e(a){var b=a.require||a.controller&&a.name;return!K(b)&&J(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var f={},g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,k=be("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=S();this.directive=function z(b,d){return Ra(b,"directive"),I(b)?(c(b),sb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return q(f[b],function(f,g){try{var h=a.invoke(f);E(h)?h={compile:ca(h)}:!h.compile&&h.link&&(h.compile=ca(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=e(h),h.restrict=h.restrict||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(k){c(k)}}),d}])),f[b].push(d)):q(b,tc(z)),this},this.component=function(a,b){function c(a){function e(b){return E(b)||K(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Wc(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var d=b.controller||function(){};return q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,E(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return v(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return v(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return v(a)?(p=a,this):p};var x=10;this.onChangesTtl=function(a){return arguments.length?(x=a,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,w,ka,B,A,H){function M(){try{if(!--oa)throw Y=void 0,ea("infchng",x);ka.$apply(function(){for(var a=0,b=Y.length;a<b;++a)Y[a]();Y=void 0})}finally{oa++}}function Aa(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function R(a,b,c){la.innerHTML="<span "+b+">",b=la.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}function N(a,b){try{a.addClass(b)}catch(c){}}function aa(a,b,c,d,e){a instanceof G||(a=G(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Na&&k.nodeValue.match(f)&&Oc(k,a[g]=F.document.createElement("span"))}var l=s(a,b,a,c,d,e);aa.$$addScopeClass(a);var m=null;return function(b,c,d){sb(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;if(d=d.futureParentElement,f&&f.$$boundTransclude&&(f=f.$$boundTransclude),m||(m=(d=d&&d[0])&&"foreignobject"!==ta(d)&&ja.call(d).match(/SVG/)?"svg":"html"),d="html"!==m?G(ba(m,G("<div>").append(a).html())):c?Pa.clone.call(a):a,g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);return aa.$$addScopeInfo(d,b),c&&c(d,b),l&&l(b,d,d,f),d}}function s(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,n,u,r;if(p)for(r=Array(c.length),m=0;m<h.length;m+=3)f=h[m],r[f]=c[f];else r=c;for(m=0,n=h.length;m<n;)k=r[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),aa.$$addScopeInfo(G(k),l)):l=a,u=c.transcludeOnThisElement?va(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?va(a,b):null,c(f,l,k,d,u)):f&&f(a,k.childNodes,void 0,e)}for(var k,l,m,n,p,h=[],u=0;u<a.length;u++)k=new Aa,l=$b(a[u],[],k,0===u?d:void 0,e),(f=l.length?Ta(l,a[u],k,b,c,null,[],[],f):null)&&f.scope&&aa.$$addScopeClass(k.$$element),k=f&&f.terminal||!(m=a[u].childNodes)||!m.length?null:s(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||k)&&(h.push(u,f,k),n=!0,p=p||f),f=null;return n?g:null}function va(a,b,c){function d(e,f,g,h,k){return e||(e=a.$new(!1,k),e.$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=S();for(f in b.$$slots)e[f]=b.$$slots[f]?va(a,b.$$slots[f],c):null;return d}function $b(a,b,c,d,e){var k,f=c.$attr;switch(a.nodeType){case 1:Da(b,wa(ta(a)),"E",d,e);for(var l,m,n,p=a.attributes,u=0,r=p&&p.length;u<r;u++){var B=!1,x=!1;l=p[u],k=l.name,m=V(l.value),l=wa(k),(n=xa.test(l))&&(k=k.replace(Xc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(l=l.match(za))&&Q(l[1])&&(B=k,x=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=wa(k.toLowerCase()),f[l]=k,!n&&c.hasOwnProperty(l)||(c[l]=m,Tc(a,l)&&(c[l]=!0)),ha(a,b,m,l,n),Da(b,l,"A",d,e,B,x)}if(a=a.className,J(a)&&(a=a.animVal),I(a)&&""!==a)for(;k=h.exec(a);)l=wa(k[2]),Da(b,l,"C",d,e)&&(c[l]=V(k[3])),a=a.substr(k.index+k[0].length);break;case Na:if(11===Ba)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Na;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);$(b,a.nodeValue);break;case 8:try{(k=g.exec(a.nodeValue))&&(l=wa(k[1]),Da(b,l,"M",d,e)&&(c[l]=V(k[2])))}catch(A){}}return b.sort(X),b}function Yc(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ea("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e)}else d.push(a);return G(d)}function O(a,b,c){return function(d,e,f,g,h){return e=Yc(e[0],b,c),a(d,e,f,g,h)}}function ac(a,b,c,d,e,f){var g;return a?aa(b,c,d,e,f):function(){return g||(g=aa(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function Ta(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){a&&(c&&(a=O(a,c,d)),a.require=t.require,a.directiveName=M,(B===t||t.$$isolateScope)&&(a=fa(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=O(b,c,d)),b.require=t.require,b.directiveName=M,(B===t||t.$$isolateScope)&&(b=fa(b,{isolateScope:!0})),k.push(b))}function n(a,c,e,f,g){function l(a,b,c,d){var e;if(Za(a)||(d=c,c=b,b=a,a=void 0),w&&(e=z),c||(c=w?D.parent():D),!d)return g(a,b,e,c,Fb);var f=g.$$slots[d];if(f)return f(a,b,e,c,Fb);if(y(f))throw ea("noslot",d,ua(D))}var m,p,A,t,H,z,N,D;b===e?(f=d,D=d.$$element):(D=G(e),f=new Aa(D,d)),H=c,B?t=c.$new(!0):u&&(H=c.$parent),g&&(N=l,N.$$boundTransclude=g,N.isSlotFilled=function(a){return!!g.$$slots[a]}),r&&(z=$f(D,f,N,r,t,c,B)),B&&(aa.$$addScopeInfo(D,t,!0,!(x&&(x===B||x===B.$$originalDirective))),aa.$$addScopeClass(D,!0),t.$$isolateBindings=B.$$isolateBindings,p=ga(c,f,t,t.$$isolateBindings,B),p.removeWatches&&t.$on("$destroy",p.removeWatches));for(m in z){p=r[m],A=z[m];var R=p.$$bindings.bindToController;A.bindingInfo=A.identifier&&R?ga(H,f,A.instance,R,p):{};var M=A();M!==A.instance&&(A.instance=M,D.data("$"+p.name+"Controller",M),A.bindingInfo.removeWatches&&A.bindingInfo.removeWatches(),A.bindingInfo=ga(H,f,A.instance,R,p))}for(q(r,function(a,b){var c=a.require;a.bindToController&&!K(c)&&J(c)&&P(z[b].instance,ib(b,c,D,z))}),q(z,function(a){var b=a.instance;E(b.$onChanges)&&b.$onChanges(a.bindingInfo.initialChanges),E(b.$onInit)&&b.$onInit(),E(b.$onDestroy)&&H.$on("$destroy",function(){b.$onDestroy()})}),m=0,p=h.length;m<p;m++)A=h[m],ia(A,A.isolateScope?t:c,D,f,A.require&&ib(A.directiveName,A.require,D,z),N);var Fb=c;for(B&&(B.template||null===B.templateUrl)&&(Fb=t),a&&a(Fb,e.childNodes,void 0,g),m=k.length-1;0<=m;m--)A=k[m],ia(A,A.isolateScope?t:c,D,f,A.require&&ib(A.directiveName,A.require,D,z),N);q(z,function(a){a=a.instance,E(a.$postLink)&&a.$postLink()})}l=l||{};for(var t,M,R,s,v,p=-Number.MAX_VALUE,u=l.newScopeDirective,r=l.controllerDirectives,B=l.newIsolateScopeDirective,x=l.templateDirective,A=l.nonTlbTranscludeDirective,H=!1,z=!1,w=l.hasElementTranscludeDirective,N=d.$$element=G(b),ka=e,Ca=!1,va=!1,C=0,F=a.length;C<F;C++){t=a[C];var I=t.$$start,Ta=t.$$end;if(I&&(N=Yc(b,I,Ta)),R=void 0,p>t.priority)break;if((v=t.scope)&&(t.templateUrl||(J(v)?(W("new/isolated scope",B||u,t,N),B=t):W("new/isolated scope",B,t,N)),u=u||t),M=t.name,!Ca&&(t.replace&&(t.templateUrl||t.template)||t.transclude&&!t.$$tlb)){for(v=C+1;Ca=a[v++];)if(Ca.transclude&&!Ca.$$tlb||Ca.replace&&(Ca.templateUrl||Ca.template)){va=!0;break}Ca=!0}if(!t.templateUrl&&t.controller&&(v=t.controller,r=r||S(),W("'"+M+"' controller",r[M],t,N),r[M]=t),v=t.transclude)if(H=!0,t.$$tlb||(W("transclusion",A,t,N),A=t),"element"==v)w=!0,p=t.priority,R=N,N=d.$$element=G(aa.$$createComment(M,d[M])),b=N[0],ca(f,ya.call(R,0),b),R[0].$$parentNode=R[0].parentNode,ka=ac(va,R,e,p,g&&g.name,{nonTlbTranscludeDirective:A});else{var L=S();if(R=G(Yb(b)).contents(),J(v)){R=[];var Q=S(),Da=S();q(v,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,Q[a]=b,L[b]=null,Da[b]=c}),q(N.contents(),function(a){var b=Q[wa(ta(a))];b?(Da[b]=!0,L[b]=L[b]||[],L[b].push(a)):R.push(a)}),q(Da,function(a,b){if(!a)throw ea("reqslot",b)});for(var X in L)L[X]&&(L[X]=ac(va,L[X],e))}N.empty(),ka=ac(va,R,e,void 0,void 0,{needsNewScope:t.$$isolateScope||t.$$newScope}),ka.$$slots=L}if(t.template)if(z=!0,W("template",x,t,N),x=t,v=E(t.template)?t.template(N,d):t.template,v=ra(v),t.replace){if(g=t,R=Wb.test(v)?Zc(ba(t.templateNamespace,V(v))):[],b=R[0],1!=R.length||1!==b.nodeType)throw ea("tplrt",M,"");ca(f,N,b),F={$attr:{}},v=$b(b,[],F);var $=a.splice(C+1,a.length-(C+1));(B||u)&&$c(v,B,u),a=a.concat(v).concat($),T(d,F),F=a.length}else N.html(v);if(t.templateUrl)z=!0,W("template",x,t,N),x=t,t.replace&&(g=t),n=Z(a.splice(C,a.length-C),N,d,f,H&&ka,h,k,{controllerDirectives:r,newScopeDirective:u!==t&&u,newIsolateScopeDirective:B,templateDirective:x,nonTlbTranscludeDirective:A}),F=a.length;else if(t.compile)try{s=t.compile(N,d,ka);var Y=t.$$originalDirective||t;E(s)?m(null,bb(Y,s),I,Ta):s&&m(bb(Y,s.pre),bb(Y,s.post),I,Ta)}catch(da){c(da,ua(N))}t.terminal&&(n.terminal=!0,p=Math.max(p,t.priority))}return n.scope=u&&!0===u.scope,n.transcludeOnThisElement=H,n.templateOnThisElement=z,n.transclude=ka,l.hasElementTranscludeDirective=w,n}function ib(a,b,c,d){var e;if(I(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw ea("ctreq",b,a)}else if(K(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=ib(a,b[g],c,d);else J(b)&&(e={},q(b,function(b,f){e[f]=ib(a,b,c,d)}));return e||null}function $f(a,b,c,d,e,f,g){var k,h=S();for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"==n&&(n=b[l.name]),m=w(n,m,!0,l.controllerAs),h[l.name]=m,a.data("$"+l.name+"Controller",m.instance)}return h}function $c(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Sb(a[d],{$$isolateScope:b,$$newScope:c})}function Da(b,e,g,h,k,l,m){if(e===k)return null;if(k=null,f.hasOwnProperty(e)){var n;e=a.get(e+"Directive");for(var p=0,u=e.length;p<u;p++)try{if(n=e[p],(y(h)||h>n.priority)&&-1!=n.restrict.indexOf(g)){if(l&&(n=Sb(n,{$$start:l,$$end:m})),!n.$$bindings){var r=n,B=n,A=n.name,x={isolateScope:null,bindToController:null};if(J(B.scope)&&(!0===B.bindToController?(x.bindToController=d(B.scope,A,!0),x.isolateScope={}):x.isolateScope=d(B.scope,A,!1)),J(B.bindToController)&&(x.bindToController=d(B.bindToController,A,!0)),J(x.bindToController)){var t=B.controller,H=B.controllerAs;if(!t)throw ea("noctrl",A);if(!Wc(t,H))throw ea("noident",A)}var N=r.$$bindings=x;J(N.isolateScope)&&(n.$$isolateBindings=N.isolateScope)}b.push(n),k=n}}catch(w){c(w)}}return k}function Q(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function T(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;q(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),q(b,function(b,f){"class"==f?(N(e,b),a.class=(a.class?a.class+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Z(a,b,c,d,f,g,h,k){var m,n,l=[],p=b[0],B=a.shift(),r=Sb(B,{templateUrl:null,transclude:null,replace:null,$$originalDirective:B}),A=E(B.templateUrl)?B.templateUrl(b,c):B.templateUrl,x=B.templateNamespace;return b.empty(),e(A).then(function(e){var u,t;if(e=ra(e),B.replace){if(e=Wb.test(e)?Zc(ba(x,V(e))):[],u=e[0],1!=e.length||1!==u.nodeType)throw ea("tplrt",B.name,A);e={$attr:{}},ca(d,b,u);var H=$b(u,[],e);J(B.scope)&&$c(H,!0),a=H.concat(a),T(c,e)}else u=p,b.html(e);for(a.unshift(r),m=Ta(a,u,c,f,b,B,g,h,k),q(d,function(a,c){a==u&&(d[c]=b[0])}),n=s(b[0].childNodes,f);l.length;){e=l.shift(),t=l.shift();var z=l.shift(),D=l.shift(),H=b[0];if(!e.$$destroyed){if(t!==p){var w=t.className;k.hasElementTranscludeDirective&&B.replace||(H=Yb(u)),ca(z,G(t),H),N(G(H),w)}t=m.transcludeOnThisElement?va(e,m.transclude,D):D,m(n,e,H,d,t)}}l=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=va(b,m.transclude,e)),m(n,b,c,d,a)))}}function X(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function W(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ea("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ua(d))}function $(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&aa.$$addBindingClass(a),function(a,c){var e=c.parent();b||aa.$$addBindingClass(e),aa.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ba(a,b){switch(a=L(a||"html")){case"svg":case"math":var c=F.document.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function da(a,b){if("srcdoc"==b)return B.HTML;var c=ta(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?B.RESOURCE_URL:void 0}function ha(a,c,d,e,f){var g=da(a,e);f=k[e]||f;var h=b(d,!0,g,f);if(h){if("multiple"===e&&"select"===ta(a))throw ea("selmulti",ua(a));c.push({priority:100,compile:function(){return{pre:function(a,c,k){if(c=k.$$observers||(k.$$observers=S()),m.test(e))throw ea("nodomevents");var l=k[e];l!==d&&(h=l&&b(l,!0,g,f),d=l),h&&(k[e]=h(a),(c[e]||(c[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?k.$updateClass(a,b):k.$set(e,a)}))}}}})}}function ca(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c,h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=F.document.createDocumentFragment(),g=0;g<e;g++)a.appendChild(b[g]);for(G.hasData(d)&&(G.data(c,G.data(d)),G(d).off("$destroy")),G.cleanData(a.querySelectorAll("*")),g=1;g<e;g++)delete b[g];b[0]=c,b.length=1}function fa(a,b){return P(function(){return a.apply(null,arguments)},a,b)}function ia(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ua(d))}}function ga(a,c,d,e,f){function g(b,c,e){E(d.$onChanges)&&c!==e&&(Y||(a.$$postDigest(M),Y=[]),m||(m={},Y.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Gb(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return q(e,function(e,h){var u,B,A,x,m=e.attrName,p=e.optional;switch(e.mode){case"@":p||sa.call(c,m)||(d[h]=c[m]=void 0),c.$observe(m,function(a){(I(a)||Ea(a))&&(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,u=c[m],I(u)?d[h]=b(u)(a):Ea(u)&&(d[h]=u),l[h]=new Gb(bc,d[h]);break;case"=":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;B=n(c[m]),x=B.literal?na:function(a,b){return a===b||a!==a&&b!==b},A=B.assign||function(){throw u=d[h]=B(a),ea("nonassign",c[m],m,f.name)},u=d[h]=B(a),p=function(b){return x(b,d[h])||(x(b,u)?A(a,b=d[h]):d[h]=b),u=b},p.$stateful=!0,p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,B.literal),k.push(p);break;case"<":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;B=n(c[m]);var H=d[h]=B(a);l[h]=new Gb(bc,d[h]),p=a.$watch(B,function(a,b){if(b===a){if(b===H)return;b=H}g(h,a,b),d[h]=a},B.literal),k.push(p);break;case"&":if(B=c.hasOwnProperty(m)?n(c[m]):C,B===C&&p)break;d[h]=function(b){return B(a,b)}}}),{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var Y,ma=/^\w/,la=F.document.createElement("div"),oa=x;Aa.prototype={$normalize:wa,$addClass:function(a){a&&0<a.length&&A.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&A.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=ad(a,b);c&&c.length&&A.addClass(this.$$element,c),(c=ad(b,a))&&c.length&&A.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Tc(this.$$element[0],a),g=bd[a],h=a;if(f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Bc(a,"-")),f=ta(this.$$element),"a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=H(b,"src"===a);else if("img"===f&&"srcset"===a&&v(b)){for(var f="",g=V(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+H(V(g[m]),!0),f=f+(" "+V(g[m+1]));
g=V(g[2*l]).split(/\s/),f+=H(V(g[0]),!0),2===g.length&&(f+=" "+V(g[1])),this[a]=b=f}!1!==d&&(null===b||y(b)?this.$$element.removeAttr(e):ma.test(e)?this.$$element.attr(e,b):R(this.$$element[0],e,b)),(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=S()),e=d[a]||(d[a]=[]);return e.push(b),ka.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||y(c[a])||b(c[a])}),function(){$a(e,b)}}};var pa=b.startSymbol(),qa=b.endSymbol(),ra="{{"==pa&&"}}"==qa?Ya:function(a){return a.replace(/\{\{/g,pa).replace(/}}/g,qa)},xa=/^ngAttr[A-Z]/,za=/^(.+)Start$/;return aa.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];K(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:C,aa.$$addBindingClass=p?function(a){N(a,"ng-binding")}:C,aa.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:C,aa.$$addScopeClass=p?function(a,b){N(a,b?"ng-isolate-scope":"ng-scope")}:C,aa.$$createComment=function(a,b){var c="";return p&&(c=" "+(a||"")+": ",b&&(c+=b+" ")),F.document.createComment(c)},aa}]}function Gb(a,b){this.previousValue=a,this.currentValue=b}function wa(a){return eb(a.replace(Xc,""))}function ad(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function Zc(a){a=G(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&ag.call(a,b,1);return a}function Wc(a,b){if(b&&I(b))return b;if(I(a)){var d=cd.exec(a);if(d)return d[3]}}function ff(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){Ra(b,"controller"),J(b)?P(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!J(a.$scope))throw O("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;if(h=!0===h,k&&I(k)&&(n=k),I(f)){if(k=f.match(cd),!k)throw bg("ctrlfmt",f);m=k[1],n=n||k[3],f=a.hasOwnProperty(m)?a[m]:Dc(g.$scope,m,!0)||(b?Dc(c,m,!0):void 0),Qa(f,m,!0)}return h?(h=(K(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),P(function(){var a=d.invoke(f,l,g,m);return a!==l&&(J(a)||E(a))&&(l=a,n&&e(g,n,l,m||f.name)),l},{instance:l,identifier:n})):(l=d.instantiate(f,g,m),n&&e(g,n,l,m||f.name),l)}}]}function gf(){this.$get=["$window",function(a){return G(a.document)}]}function hf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function cc(a){return J(a)?ha(a)?a.toISOString():cb(a):a}function nf(){this.$get=function(){return function(a){if(!a)return"";var b=[];return sc(a,function(a,c){null===a||y(a)||(K(a)?q(a,function(a){b.push(ia(c)+"="+ia(cc(a)))}):b.push(ia(c)+"="+ia(cc(a))))}),b.join("&")}}}function of(){this.$get=function(){return function(a){function b(a,e,f){null===a||y(a)||(K(a)?q(a,function(a,c){b(a,e+"["+(J(a)?c:"")+"]")}):J(a)&&!ha(a)?sc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ia(e)+"="+ia(cc(a))))}if(!a)return"";var d=[];return b(a,"",!0),d.join("&")}}}function dc(a,b){if(I(a)){var d=a.replace(cg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(dd))||(c=(c=d.match(dg))&&eg[c[0]].test(d)),c&&(a=wc(d))}}return a}function ed(a){var d,b=S();return I(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=L(V(a.substr(0,d)));a=V(a.substr(d+1)),e&&(b[e]=b[e]?b[e]+", "+a:a)}):J(a)&&q(a,function(a,d){var f=L(d),g=V(a);f&&(b[f]=b[f]?b[f]+", "+g:g)}),b}function fd(a){var b;return function(d){return b||(b=ed(a)),d?(d=b[L(d)],void 0===d&&(d=null),d):b}}function gd(a,b,d,c){return E(c)?c(a,b,d):(q(c,function(c){a=c(a,b,d)}),a)}function mf(){var a=this.defaults={transformResponse:[dc],transformRequest:[function(a){return J(a)&&"[object File]"!==ja.call(a)&&"[object Blob]"!==ja.call(a)&&"[object FormData]"!==ja.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:fa(ec),put:fa(ec),patch:fa(ec)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return v(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return v(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a){var b=P({},a);return b.data=gd(a.data,a.headers,a.status,f.transformResponse),a=a.status,200<=a&&300>a?b:k.reject(b)}function e(a,b){var c,d={};return q(a,function(a,e){E(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}if(!J(b))throw O("$http")("badreq",b);if(!I(b.url))throw O("$http")("badreq",b.url);var f=P({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);f.headers=function(b){var f,g,h,c=a.headers,d=P({},b.headers),c=P({},c.common,c[L(b.method)]);a:for(f in c){g=L(f);for(h in d)if(L(h)===g)continue a;d[f]=c[f]}return e(d,fa(b))}(b),f.method=ub(f.method),f.paramSerializer=I(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=gd(b.data,fd(d),void 0,b.transformRequest);return y(e)&&q(d,function(a,b){"content-type"===L(b)&&delete d[b]}),y(b.withCredentials)&&!y(a.withCredentials)&&(b.withCredentials=a.withCredentials),n(b,e).then(c,c)},void 0],h=k.when(f);for(q(U,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError),(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=g.shift();var m=g.shift(),h=h.then(b,m)}return d?(h.success=function(a){return Qa(a,"fn"),h.then(function(b){a(b.data,b.status,b.headers,f)}),h},h.error=function(a){return Qa(a,"fn"),h.then(null,function(b){a(b.data,b.status,b.headers,f)}),h}):(h.success=hd("success"),h.error=hd("error")),h}function n(c,d){function g(a){if(a){var c={};return q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function l(a,c,d,e){function f(){n(c,a,d,e)}H&&(200<=a&&300>a?H.put(R,[a,c,ed(d),e]):H.remove(R)),b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function n(a,b,d,e){b=-1<=b?b:0,(200<=b&&300>b?B.resolve:B.reject)({data:a,status:b,headers:fd(d),config:c,statusText:e})}function w(a){n(a.data,a.status,fa(a.headers()),a.statusText)}function U(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var H,M,B=k.defer(),A=B.promise,Aa=c.headers,R=p(c.url,c.paramSerializer(c.params));return m.pendingRequests.push(c),A.then(U,U),!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(H=J(c.cache)?c.cache:J(a.cache)?a.cache:x),H&&(M=H.get(R),v(M)?M&&E(M.then)?M.then(w,w):K(M)?n(M[1],M[0],fa(M[2]),M[3]):n(M,200,{},"OK"):H.put(R,A)),y(M)&&((M=id(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(Aa[c.xsrfHeaderName||a.xsrfHeaderName]=M),e(c.method,R,d,l,Aa,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers))),A}function p(a,b){return 0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var x=g("$http");a.paramSerializer=I(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var U=[];return q(c,function(a){U.unshift(I(a)?l.get(a):l.invoke(a))}),m.pendingRequests=[],function(a){q(arguments,function(a){m[a]=function(b,c){return m(P({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(P({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),m.defaults=a,m}]}function qf(){this.$get=function(){return function(){return new F.XMLHttpRequest}}}function pf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return fg(a,c,a.defer,b.angular.callbacks,d[0])}]}function fg(a,b,d,c,e){function f(a,b,d){var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m,!1),f.removeEventListener("error",m,!1),e.body.removeChild(f),f=null;var g=-1,x="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),x=a.type,g="error"===a.type?404:200),d&&d(g,x)},f.addEventListener("load",m,!1),f.addEventListener("error",m,!1),e.body.appendChild(f),m}return function(e,h,k,l,m,n,p,x,U,z){function r(){t&&t(),w&&w.abort()}function D(b,c,e,f,g){v(B)&&d.cancel(B),t=w=null,b(c,e,f,g),a.$$completeOutstandingRequest(C)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==L(e)){var u="_"+(c.counter++).toString(36);c[u]=function(a){c[u].data=a,c[u].called=!0};var t=f(h.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){D(l,a,c[u].data,"",b),c[u]=C})}else{var w=b(e,h);if(w.open(e,h,!0),q(m,function(a,b){v(a)&&w.setRequestHeader(b,a)}),w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"==pa(h).protocol?404:0),D(l,c,b,w.getAllResponseHeaders(),a)},e=function(){D(l,-1,null,null,"")},w.onerror=e,w.onabort=e,q(U,function(a,b){w.addEventListener(b,a)}),q(z,function(a,b){w.upload.addEventListener(b,a)}),p&&(w.withCredentials=!0),x)try{w.responseType=x}catch(ka){if("json"!==x)throw ka}w.send(y(k)?null:k)}if(0<n)var B=d(r,n);else n&&E(n.then)&&n.then(r)}}function kf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function k(f,k,n,p){function D(a){try{var b=a;a=n?e.getTrusted(n,b):e.valueOf(b);var d;if(p&&!v(a))d=a;else if(null==a)d="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=cb(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var u;return k||(k=g(f),u=ca(k),u.exp=f,u.expressions=[],u.$$watchDelegate=h),u}p=!!p;var t,w,q=0,B=[],A=[];u=f.length;for(var H=[],M=[];q<u;){if(-1==(t=f.indexOf(a,q))||-1==(w=f.indexOf(b,t+l))){q!==u&&H.push(g(f.substring(q)));break}q!==t&&H.push(g(f.substring(q,t))),q=f.substring(t+l,w),B.push(q),A.push(d(q,D)),q=w+m,M.push(H.length),H.push("")}if(n&&1<H.length&&Ka.throwNoconcat(f),!k||B.length){var Aa=function(a){for(var b=0,c=B.length;b<c;b++){if(p&&y(a[b]))return;H[M[b]]=a[b]}return H.join("")};return P(function(a){var b=0,d=B.length,e=Array(d);try{for(;b<d;b++)e[b]=A[b](a);return Aa(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:B,$$watchDelegate:function(a,b){var c;return a.$watchGroup(A,function(d,e){var f=Aa(d);E(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function lf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,x):f(r)}var p=4<arguments.length,x=p?ya.call(arguments,4):[],q=b.setInterval,z=b.clearInterval,r=0,D=v(m)&&!m,u=(D?c:d).defer(),t=u.promise;return l=v(l)?l:0,t.$$intervalId=q(function(){D?e.defer(n):a.$evalAsync(n),u.notify(r++),0<l&&r>=l&&(u.resolve(r),z(t.$$intervalId),delete g[t.$$intervalId]),D||a.$apply()},k),g[t.$$intervalId]=u,t}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function fc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function jd(a,b){var d=pa(a);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=$(d.port)||gg[d.protocol]||null}function kd(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=pa(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname),b.$$search=zc(c.search),b.$$hash=decodeURIComponent(c.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function la(a,b){if(0===b.lastIndexOf(a,0))return b.substr(a.length)}function Ja(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function jb(a){return a.replace(/(#.+)|#$/,"$1")}function gc(a,b,d){this.$$html5=!0,d=d||"",jd(a,this),this.$$parse=function(a){var d=la(b,a);if(!I(d))throw Hb("ipthprfx",a,b);kd(d,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Ub(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(a?"?"+a:"")+d,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return v(f=la(a,c))?(g=f,g=v(f=la(d,f))?b+(la("/",f)||f):a+g):v(f=la(b,c))?g=b+f:b==c+"/"&&(g=b),g&&this.$$parse(g),!!g}}function hc(a,b,d){jd(a,this),this.$$parse=function(c){var f,e=la(a,c)||la(b,c);y(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",y(e)&&(a=c,this.replace())):(f=la(d,e),y(f)&&(f=e)),kd(f,this),c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.lastIndexOf(e,0)&&(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$compose=function(){var b=Ub(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+(this.$$url?d+this.$$url:"")},this.$$parseLinkUrl=function(b,d){return Ja(a)==Ja(b)&&(this.$$parse(b),!0)}}function ld(a,b,d){this.$$html5=!0,hc.apply(this,arguments),this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Ja(c)?f=c:(g=la(b,c))?f=a+d+g:b===c+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=Ub(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+d+this.$$url}}function Ib(a){return function(){return this[a]}}function md(a,b){return function(d){return y(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function rf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return v(b)?(a=b,this):a},this.html5Mode=function(a){return Ea(a)?(b.enabled=a,this):J(a)?(Ea(a.enabled)&&(b.enabled=a.enabled),Ea(a.requireBase)&&(b.requireBase=a.requireBase),Ea(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var p,n=c.url();if(b.enabled){if(!m&&b.requireBase)throw Hb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/"),m=e.history?gc:ld}else p=Ja(n),m=hc;var x=p.substr(0,Ja(p).lastIndexOf("/")+1);l=new m(p,x,"#"+a),l.$$parseLinkUrl(n,n),l.$$state=c.state();var q=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=G(a.target);"a"!==ta(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");J(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=pa(h.animVal).href),q.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),jb(l.absUrl())!=jb(n)&&c.url(l.absUrl(),!0);var z=!0;return c.onUrlChange(function(a,b){y(la(x,a))?g.location.href=a:(d.$evalAsync(function(){var f,c=l.absUrl(),e=l.$$state;a=jb(a),l.$$parse(a),l.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(z=!1,k(c,e)))}),d.$$phase||d.$digest())}),d.$watch(function(){var a=jb(c.url()),b=jb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;(z||m)&&(z=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))})),l.$$replace=!1}),l}]}function sf(){var a=!0,b=this;this.debugEnabled=function(b){return v(b)?(a=b,this):a},this.$get=["$window",function(d){function c(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=d.console||{},e=b[a]||b.log||C;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];return q(arguments,function(b){a.push(c(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Ua(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ba("isecfld",b);return a}function hg(a){return a+""}function qa(a,b){if(a){if(a.constructor===a)throw ba("isecfn",b);if(a.window===a)throw ba("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ba("isecdom",b);if(a===Object)throw ba("isecobj",b)}return a}function nd(a,b){if(a){if(a.constructor===a)throw ba("isecfn",b);if(a===ig||a===jg||a===kg)throw ba("isecff",b)}}function Jb(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ba("isecaf",b)}function lg(a,b){return"undefined"!=typeof a?a:b}function od(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function Z(a,b){var d,c;switch(a.type){case s.Program:d=!0,q(a.body,function(a){Z(a.expression,b),d=d&&a.expression.constant}),a.constant=d;break;case s.Literal:a.constant=!0,a.toWatch=[];break;case s.UnaryExpression:Z(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:Z(a.left,b),Z(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:Z(a.left,b),Z(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:Z(a.test,b),Z(a.alternate,b),Z(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1,a.toWatch=[a];break;case s.MemberExpression:Z(a.object,b),a.computed&&Z(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case s.CallExpression:d=!!a.filter&&!b(a.callee.name).$stateful,c=[],q(a.arguments,function(a){Z(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case s.AssignmentExpression:Z(a.left,b),Z(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case s.ArrayExpression:d=!0,c=[],q(a.elements,function(a){Z(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=c;break;case s.ObjectExpression:d=!0,c=[],q(a.properties,function(a){Z(a.value,b),d=d&&a.value.constant&&!a.computed,a.value.constant||c.push.apply(c,a.value.toWatch)}),a.constant=d,a.toWatch=c;break;case s.ThisExpression:a.constant=!1,a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function pd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function qd(a){return a.type===s.Identifier||a.type===s.MemberExpression}function rd(a){if(1===a.body.length&&qd(a.body[0].expression))return{type:s.AssignmentExpression,left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function sd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression)}function td(a,b){this.astBuilder=a,this.$filter=b}function ud(a,b){this.astBuilder=a,this.$filter=b}function Kb(a){return"constructor"==a}function ic(a){return E(a.valueOf)?a.valueOf():mg.call(a)}function tf(){var c,e,a=S(),b=S(),d={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,b){d[a]=b},this.setIdentifierFns=function(a,b){return c=a,e=b,this},this.$get=["$filter",function(f){function g(c,d,e){var g,k,A;switch(e=e||D,typeof c){case"string":A=c=c.trim();var H=e?b:a;if(g=H[A],!g){":"===c.charAt(0)&&":"===c.charAt(1)&&(k=!0,c=c.substring(2)),g=e?r:z;var q=new jc(g);g=new kc(q,f,g).parse(c),g.constant?g.$$watchDelegate=p:k?g.$$watchDelegate=g.literal?n:m:g.inputs&&(g.$$watchDelegate=l),e&&(g=h(g)),H[A]=g}return x(g,d);case"function":return x(c,d);default:return x(C,d)}}function h(a){function b(c,d,e,f){var g=D;D=!0;try{return a(c,d,e,f)}finally{D=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=h(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);return b.inputs=a.inputs,b}function k(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=ic(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function l(a,b,c,d,e){var g,f=d.inputs;if(1===f.length){var h=k,f=f[0];return a.$watch(function(a){var b=f(a);return k(b,h)||(g=d(a,void 0,void 0,[b]),h=b&&ic(b)),g},b,c,e)}for(var l=[],m=[],n=0,p=f.length;n<p;n++)l[n]=k,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var h=f[c](a);(b||(b=!k(h,l[c])))&&(m[c]=h,l[c]=h&&ic(h))}return b&&(g=d(a,void 0,void 0,m)),g},b,c,e)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,E(b)&&b.apply(this,arguments),v(a)&&d.$$postDigest(function(){v(f)&&e()})},c)}function n(a,b,c,d){function e(a){var b=!0;return q(a,function(a){v(a)||(b=!1)}),b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a,E(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function p(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function x(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==n&&c!==m?function(c,e,f,g){return f=d&&g?g[0]:a(c,e,f,g),b(f,c,e)}:function(c,d,e,f){return e=a(c,d,e,f),c=b(e,c,d),v(e)?c:e};return a.$$watchDelegate&&a.$$watchDelegate!==l?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=l,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]),c}var U=Fa().noUnsafeEval,z={csp:U,expensiveChecks:!1,literals:oa(d),isIdentifierStart:E(c)&&c,isIdentifierContinue:E(e)&&e},r={csp:U,expensiveChecks:!0,literals:oa(d),isIdentifierStart:E(c)&&c,isIdentifierContinue:E(e)&&e},D=!1;return g.$$runningExpensiveChecks=function(){return D},g}]}function vf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return vd(function(b){a.$evalAsync(b)},b)}]}function wf(){this.$get=["$browser","$exceptionHandler",function(a,b){return vd(function(b){a.defer(b)},b)}]}function vd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending,c.processScheduled=!1,c.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0],a=e[f][c.status];try{E(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=O("$q",TypeError);P(d.prototype,{then:function(a,b,c){if(y(a)&&y(b)&&y(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&e(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}}),P(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{(J(a)||E(a))&&(g=a&&a.then),E(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(E(a)?a(c):c)}catch(h){b(h)}}})}});var h=function(a,b){var c=new f;return b?c.resolve(a):c.reject(a),c.promise},k=function(a,b,c){var d=null;try{E(c)&&(d=c())}catch(e){return h(e,!1)}return d&&E(d.then)?d.then(function(){return h(a,b)},function(a){return h(a,!1)}):h(a,b)},l=function(a,b,c,d){var e=new f;return e.resolve(a),e.promise.then(b,c,d)},m=function(a){if(!E(a))throw g("norslvr",a);var b=new f;return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise};return m.prototype=d.prototype,m.defer=function(){var a=new f;return a.resolve=c(a,a.resolve),a.reject=c(a,a.reject),a.notify=c(a,a.notify),a},m.reject=function(a){var b=new f;return b.reject(a),b.promise},m.when=l,m.resolve=l,m.all=function(a){var b=new f,c=0,d=K(a)?[]:{};return q(a,function(a,e){c++,l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},m}function Ff(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function uf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++pb,this.$$ChildScope=null}return b.prototype=a,b}var b=10,d=O("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Ba&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function n(a){if(D.$$phase)throw d("inprog",D.$$phase);D.$$phase=a}function p(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function x(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function s(){}function z(){for(;w.length;)try{w.shift()()}catch(a){f(a)}e=null}function r(){null===e&&(e=h.defer(function(){D.$apply(z)}))}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",k),d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:s,get:f,exp:e||a,eq:!!d};return c=null,E(b)||(l.fn=C),k||(k=h.$$watchers=[]),k.unshift(l),p(this,1),function(){0<=$a(k,l)&&p(h,-1),c=null}},$watchGroup:function(a,b){function c(){h=!1,k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a,d[b]=f,h||(h=!0,g.$evalAsync(c))});f.push(k)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!y(e)){if(J(e))if(xa(e))for(f!==n&&(f=n,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},u=0,l++),a=0;for(b in e)sa.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)sa.call(e,b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var e,f,h,d=this,k=1<b.length,l=0,m=g(a,c),n=[],p={},r=!0,u=0;return this.$watch(m,function(){if(r?(r=!1,b(e,e,d)):b(e,h,d),k)if(J(e))if(xa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,r,x,w,C,F,q=b,y=[];n("$digest"),h.$$checkUrlChange(),this===D&&null!==e&&(h.defer.cancel(e),z()),c=null;do{for(x=!1,w=this,p=0;p<u.length;p++){try{F=u[p],F.scope.$eval(F.expression,F.locals)}catch(G){f(G)}c=null}u.length=0;a:do{if(p=w.$$watchers)for(r=p.length;r--;)try{if(a=p[r])if(m=a.get,(g=m(w))===(k=a.last)||(a.eq?na(g,k):"number"==typeof g&&"number"==typeof k&&isNaN(g)&&isNaN(k))){if(a===c){x=!1;break a}}else x=!0,c=a,a.last=a.eq?oa(g,null):g,l=a.fn,l(g,k===s?g:k,w),5>q&&(C=4-q,y[C]||(y[C]=[]),y[C].push({msg:E(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}))}catch(I){f(I)}if(!(p=w.$$watchersCount&&w.$$childHead||w!==this&&w.$$nextSibling))for(;w!==this&&!(p=w.$$nextSibling);)w=w.$parent}while(w=p);if((x||u.length)&&!q--)throw D.$$phase=null,d("infdig",b,y)}while(x||u.length);for(D.$$phase=null;v<t.length;)try{t[v++]()}catch(J){f(J)}t.length=v=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===D&&h.$$applicationDestroyed(),p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)x(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=C,this.$on=this.$watch=this.$watchGroup=function(){return C},this.$$listeners={},this.$$nextSibling=null,l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){D.$$phase||u.length||h.defer(function(){u.length&&D.$digest()}),u.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){t.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{D.$$phase=null}}catch(b){f(b)}finally{try{D.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&w.push(b),a=g(a),r()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,x(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=ab([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=ab([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],h=0,k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent;
}return e.currentScope=null,e}};var D=new m,u=D.$$asyncQueue=[],t=D.$$postDigestQueue=[],w=D.$$applyAsyncQueue=[],v=0;return D}]}function ne(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return v(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return v(a)?(b=a,this):b},this.$get=function(){return function(d,c){var f,e=c?b:a;return f=pa(d).href,""===f||f.match(e)?d:"unsafe:"+f}}}function ng(a){if("self"===a)return a;if(I(a)){if(-1<a.indexOf("***"))throw ra("iwcard",a);return a=wd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(Xa(a))return new RegExp("^"+a.source+"$");throw ra("imatcher")}function xd(a){var b=[];return v(a)&&q(a,function(a){b.push(ng(a))}),b}function yf(){this.SCE_CONTEXTS=ma;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=xd(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=xd(a)),b},this.$get=["$injector",function(d){function c(a,b){return"self"===a?id(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw ra("unsafe")};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};return h[ma.HTML]=e(g),h[ma.CSS]=e(g),h[ma.URL]=e(g),h[ma.JS]=e(g),h[ma.RESOURCE_URL]=e(h[ma.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw ra("icontext",a,b);if(null===b||y(b)||""===b)return b;if("string"!=typeof b)throw ra("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||y(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===ma.RESOURCE_URL){var n,p,g=pa(e.toString()),x=!1;for(n=0,p=a.length;n<p;n++)if(c(a[n],g)){x=!0;break}if(x)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){x=!1;break}if(x)return e;throw ra("insecurl",e.toString())}if(d===ma.HTML)return f(e);throw ra("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function xf(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Ba)throw ra("iequirks");var c=fa(ma);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ya),c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return q(ma,function(a,b){var d=L(b);c[eb("parse_as_"+d)]=function(b){return e(a,b)},c[eb("get_trusted_"+d)]=function(b){return f(a,b)},c[eb("trust_as_"+d)]=function(b){return g(a,b)}}),c}]}function zf(){this.$get=["$window","$document",function(a,b){var h,d={},c=!(a.chrome&&a.chrome.app&&a.chrome.app.runtime)&&a.history&&a.history.pushState,e=$((/android (\d+)/.exec(L((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=m[0],h=h[0].toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in l&&"webkit"),m=!!("transition"in l||h+"Transition"in l),n=!!("animation"in l||h+"Animation"in l),!e||m&&n||(m=I(l.webkitTransition),n=I(l.webkitAnimation))}return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&11>=Ba)return!1;if(y(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Fa(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}function Bf(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++,I(g)&&!y(b.get(g))||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;return K(k)?k=k.filter(function(a){return a!==dc}):k===dc&&(k=null),d.get(g,P({cache:b,transformResponse:k},a)).finally(function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},function(a){if(!h)throw og("tpload",g,a.status,a.statusText);return c.reject(a)})}return f.totalPendingRequests=0,f}]}function Cf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];return q(a,function(a){var c=da.element(a).data("$binding");c&&q(c,function(c){d?new RegExp("(^|\\s)"+wd(b)+"(\\s|\\||$)").test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Df(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){E(f)||(l=k,k=f,f=C);var q,m=ya.call(arguments,3),n=v(l)&&!l,p=(n?c:d).defer(),x=p.promise;return q=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[x.$$timeoutId]}n||a.$apply()},k),x.$$timeoutId=q,g[q]=p,x}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function pa(a){return Ba&&(X.setAttribute("href",a),a=X.href),X.setAttribute("href",a),{href:X.href,protocol:X.protocol?X.protocol.replace(/:$/,""):"",host:X.host,search:X.search?X.search.replace(/^\?/,""):"",hash:X.hash?X.hash.replace(/^#/,""):"",hostname:X.hostname,port:X.port,pathname:"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname}}function id(a){return a=I(a)?pa(a):a,a.protocol===yd.protocol&&a.host===yd.host}function Ef(){this.$get=ca(F)}function zd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;if(a=d.cookie||"",a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),y(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function If(){this.$get=zd}function Lc(a){function b(d,c){if(J(d)){var e={};return q(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Ad),b("date",Bd),b("filter",pg),b("json",qg),b("limitTo",rg),b("lowercase",sg),b("number",Cd),b("orderBy",Dd),b("uppercase",tg)}function pg(){return function(a,b,d){if(!xa(a)){if(null==a)return a;throw O("filter")("notarray",a)}var c;switch(lc(b)){case"function":break;case"boolean":case"null":case"number":case"string":c=!0;case"object":b=ug(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function ug(a,b,d){var c=J(a)&&"$"in a;return!0===b?b=na:E(b)||(b=function(a,b){return!y(a)&&(null===a||null===b?a===b:!(J(b)||J(a)&&!uc(a))&&(a=L(""+a),b=L(""+b),-1!==a.indexOf(b)))}),function(e){return c&&!J(e)?La(e,a.$,b,!1):La(e,a,b,d)}}function La(a,b,d,c,e){var f=lc(a),g=lc(b);if("string"===g&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c);if(K(a))return a.some(function(a){return La(a,b,d,c)});switch(f){case"object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&La(a[h],b,d,!0))return!0;return!e&&La(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!E(e)&&!y(e)&&(f="$"===h,!La(f?a:a[h],e,d,f,f)))return!1;return!0}return d(a,b);case"function":return!1;default:return d(a,b)}}function lc(a){return null===a?"null":typeof a}function Ad(a){var b=a.NUMBER_FORMATS;return function(a,c,e){return y(c)&&(c=b.CURRENCY_SYM),y(e)&&(e=b.PATTERNS[1].maxFrac),null==a?a:Ed(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Cd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Ed(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function vg(a){var d,c,e,f,g,b=0;for(-1<(c=a.indexOf(Fd))&&(a=a.replace(Fd,"")),0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length),e=0;a.charAt(e)==mc;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==mc;)g--;for(c-=e,d=[],f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}return c>Gd&&(d=d.splice(0,Gd-1),b=c-1,c=1),{d:d,e:b,i:c}}function wg(a,b,d,c){var e=a.d,f=e.length-a.i;if(b=y(b)?Math.min(Math.max(d,f),c):+b,d=b+a.i,c=e[d],0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}function Ed(a,b,d,c,e){if(!I(a)&&!Q(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="∞";else{for(g=vg(h),wg(g,e,b.minFrac,b.maxFrac),k=g.d,h=g.i,e=g.e,f=[],g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;for(0<h?f=k.splice(h,k.length):(f=k,k=[0]),h=[],k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join("")),k=h.join(d),f.length&&(k+=c+f.join("")),e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Lb(a,b,d,c){var e="";for((0>a||c&&0>=a)&&(c?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=mc+a;return d&&(a=a.substr(a.length-b)),e+a}function W(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(0<d||f>-d)&&(f+=d),0===f&&-12==d&&(f=12),Lb(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Hd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Id(a){return function(b){var d=Hd(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,b=1+Math.round(b/6048e5),Lb(b,a)}}function nc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Bd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=$(b[9]+b[10]),g=$(b[9]+b[11])),h.call(a,$(b[1]),$(b[2])-1,$(b[3])),f=$(b[4]||0)-f,g=$(b[5]||0)-g,h=$(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var k,l,g="",h=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,I(c)&&(c=xg.test(c)?$(c):b(c)),Q(c)&&(c=new Date(c)),!ha(c)||!isFinite(c.getTime()))return c;for(;d;)(l=yg.exec(d))?(h=ab(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();return f&&(m=xc(f,m),c=Tb(c,f,!0)),q(h,function(b){k=zg[b],g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function qg(){return function(a,b){return y(b)&&(b=2),cb(a,b)}}function rg(){return function(a,b,d){return b=1/0===Math.abs(Number(b))?Number(b):$(b),isNaN(b)?a:(Q(a)&&(a=a.toString()),K(a)||I(a)?(d=!d||isNaN(d)?0:$(d),d=0>d?Math.max(0,a.length+d):d,0<=b?a.slice(d,d+b):0===d?a.slice(b,a.length):a.slice(Math.max(0,d+b),d)):a)}}function Dd(a){function b(b,d){return d=d?-1:1,b.map(function(b){var c=1,h=Ya;if(E(b))h=b;else if(I(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(c="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(h=a(b),h.constant)))var k=h(),h=function(a){return a[k]};return{get:h,descending:c*d}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}return function(a,e,f){if(null==a)return a;if(!xa(a))throw O("orderBy")("notarray",a);K(e)||(e=[e]),0===e.length&&(e=["+"]);var g=b(e,f);return g.push({get:function(){return{}},descending:f?-1:1}),a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(c){var e=c.get(a);return c=typeof e,null===e?(c="string",e="null"):"string"===c?e=e.toLowerCase():"object"===c&&("function"==typeof e.valueOf&&(e=e.valueOf(),d(e))||uc(e)&&(e=e.toString(),d(e))||(e=b)),{value:e,type:c}})}}),a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],f=b.predicateValues[d],x=0;if(c.type===f.type?c.value!==f.value&&(x=c.value<f.value?-1:1):x=c.type<f.type?-1:1,c=x*g[d].descending)break}return c}),a=a.map(function(a){return a.value})}}function Ma(a){return E(a)&&(a={link:a}),a.restrict=a.restrict||"AC",ca(a)}function Jd(a,b,d,c,e){var f=this,g=[];f.$error={},f.$$success={},f.$pending=void 0,f.$name=e(b.name||b.ngForm||"")(d),f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,f.$submitted=!1,f.$$parentForm=Mb,f.$rollbackViewValue=function(){q(g,function(a){a.$rollbackViewValue()})},f.$commitViewValue=function(){q(g,function(a){a.$commitViewValue()})},f.$addControl=function(a){Ra(a.$name,"input"),g.push(a),a.$name&&(f[a.$name]=a),a.$$parentForm=f},f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c],f[b]=a,a.$name=b},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],q(f.$pending,function(b,c){f.$setValidity(c,null,a)}),q(f.$error,function(b,c){f.$setValidity(c,null,a)}),q(f.$$success,function(b,c){f.$setValidity(c,null,a)}),$a(g,a),a.$$parentForm=Mb},Kd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&($a(d,c),0===d.length&&delete a[b])},$animate:c}),f.$setDirty=function(){c.removeClass(a,Va),c.addClass(a,Nb),f.$dirty=!0,f.$pristine=!1,f.$$parentForm.$setDirty()},f.$setPristine=function(){c.setClass(a,Va,Nb+" ng-submitted"),f.$dirty=!1,f.$pristine=!0,f.$submitted=!1,q(g,function(a){a.$setPristine()})},f.$setUntouched=function(){q(g,function(a){a.$setUntouched()})},f.$setSubmitted=function(){c.addClass(a,"ng-submitted"),f.$submitted=!0,f.$$parentForm.$setSubmitted()}}function oc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=L(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,l()})}var k,l=function(a){if(k&&(f.defer.cancel(k),k=null),!h){var e=b.val();a=a&&a.type,"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=V(e)),(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",m)}b.on("change",l),Ld[g]&&c.$$hasNativeValidators&&g===d.type&&b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null,b.badInput===c&&b.typeMismatch===d||l(a)})}}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Ob(a,b){return function(d,c){var e,f;if(ha(d))return d;if(I(d)){if('"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1)),Ag.test(d))return new Date(d);if(a.lastIndex=0,e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function p(a){return v(a)&&!ha(a)?d(a)||void 0:a}Md(e,f,g,h),lb(e,f,g,h,k,l);var s,q=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,s),q&&(a=Tb(a,q)),a):void 0}),h.$formatters.push(function(a){if(a&&!ha(a))throw nb("datefmt",a);return n(a)?((s=a)&&q&&(s=Tb(s,q,!0)),m("date")(a,c,q)):(s=null,"")}),v(g.min)||g.ngMin){var z;h.$validators.min=function(a){return!n(a)||y(z)||d(a)>=z},g.$observe("min",function(a){z=p(a),h.$validate()})}if(v(g.max)||g.ngMax){var r;h.$validators.max=function(a){return!n(a)||y(r)||d(a)<=r},g.$observe("max",function(a){r=p(a),h.$validate()})}}}function Md(a,b,d,c){(c.$$hasNativeValidators=J(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function Nd(a,b,d,c,e){if(v(c)){if(a=a(c),!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function pc(a,b){return a="ngClass"+a,["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return K(a)?(q(a,function(a){b=b.concat(e(a))}),b):I(a)?a.split(" "):J(a)?(q(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a){a=l(a,1),h.$addClass(a)}function l(a,b){var c=g.data("$classCounts")||S(),d=[];return q(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function m(a,b){var e=c(b,a),f=c(a,b),e=l(e,1),f=l(f,-1);e&&e.length&&d.addClass(g,e),f&&f.length&&d.removeClass(g,f)}function n(a){if(!0===b||(1&f.$index)===b){var c=e(a||[]);if(p){if(!na(a,p)){var d=e(p);m(d,c)}}else k(c)}p=K(a)?a.map(function(a){return fa(a)}):fa(a)}var p;f.$watch(h[a],n,!0),h.$observe("class",function(b){n(f.$eval(h[a]))}),"ngClass"!==a&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var m=e(f.$eval(h[a]));g===b?k(m):(g=l(m,-1),h.$removeClass(g))}})}}}]}function Kd(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Bc(a,"-"):"",b(ob+a,!0===c),b(Od+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Od]=!(f[ob]=e.hasClass(ob)),c.$setValidity=function(a,e,f){y(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Pd(c.$pending)&&(c.$pending=void 0)),Ea(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f)),c.$pending?(b(Qd,!0),c.$valid=c.$invalid=void 0,d("",null)):(b(Qd,!1),c.$valid=Pd(c.$error),c.$invalid=!c.$valid,d("",c.$valid)),e=c.$pending&&c.$pending[a]?void 0:!c.$error[a]&&(!!c.$$success[a]||null),d(a,e),c.$$parentForm.$setValidity(a,e,c)}}function Pd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Ba,G,Y,Vb,Bg=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,L=function(a){return I(a)?a.toLowerCase():a},ub=function(a){return I(a)?a.toUpperCase():a},ya=[].slice,ag=[].splice,Cg=[].push,ja=Object.prototype.toString,vc=Object.getPrototypeOf,za=O("ng"),da=F.angular||(F.angular={}),pb=0;Ba=F.document.documentMode,C.$inject=[],Ya.$inject=[];var K=Array.isArray,ae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,V=function(a){return I(a)?a.trim():a},wd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Fa=function(){if(!v(Fa.rules)){var a=F.document.querySelector("[ng-csp]")||F.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Fa.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Fa;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Fa.rules},rb=function(){if(v(rb.name_))return rb.name_;var a,b,c,e,d=Oa.length;for(b=0;b<d;++b)if(c=Oa[b],a=F.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},de=/:/g,Oa=["ng-","data-ng-","ng:","x-ng-"],ie=/[A-Z]/g,Cc=!1,Na=3,me={full:"1.5.6",major:1,minor:5,dot:6,codeName:"arrow-stringification"};T.expando="ng339";var gb=T.cache={},Of=1;T._data=function(a){return this.cache[a[this.expando]]||{}};var Jf=/([\:\-\_]+(.))/g,Kf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Xb=O("jqLite"),Nf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Wb=/<|&#?\w+;/,Lf=/<([\w:-]+)/,Mf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ga={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ga.optgroup=ga.option,ga.tbody=ga.tfoot=ga.colgroup=ga.caption=ga.thead,ga.th=ga.td;var Tf=F.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Pa=T.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===F.document.readyState?F.setTimeout(b):(this.on("DOMContentLoaded",b),T(F).on("load",b))},toString:function(){var a=[];return q(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return G(0<=a?this[a]:this[this.length+a])},length:0,push:Cg,sort:[].sort,splice:[].splice},Eb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Eb[L(a)]=a});var Uc={};q("input select option textarea button form details".split(" "),function(a){Uc[a]=!0});var bd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};q({data:Zb,removeData:fb,hasData:function(a){for(var b in gb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)fb(a[b])}},function(a,b){T[b]=a}),q({data:Zb,inheritedData:Cb,scope:function(a){return G.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return G.data(a,"$isolateScope")||G.data(a,"$isolateScopeNoTemplate")},controller:Rc,injector:function(a){return Cb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:zb,css:function(a,b,d){return b=eb(b),v(d)?void(a.style[b]=d):a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Na&&2!==c&&8!==c)if(c=L(b),Eb[c]){if(!v(d))return a[b]||(a.attributes.getNamedItem(b)||C).specified?c:void 0;d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c))}else if(v(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?void 0:a},prop:function(a,b,d){return v(d)?void(a[b]=d):a[b]},text:function(){function a(a,d){if(y(d)){var c=a.nodeType;return 1===c||c===Na?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(y(b)){if(a.multiple&&"select"===ta(a)){var d=[];return q(a.options,function(a){a.selected&&d.push(a.value||a.text)}),0===d.length?null:d}return a.value}a.value=b},html:function(a,b){return y(b)?a.innerHTML:(wb(a,!0),void(a.innerHTML=b))},empty:Sc},function(a,b){T.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Sc&&y(2==a.length&&a!==zb&&a!==Rc?b:c)){if(J(b)){for(e=0;e<g;e++)if(a===Zb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(e=a.$dv,g=y(e)?Math.min(g,1):g,f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}}),q({removeData:fb,on:function(a,b,d,c){if(v(c))throw Xb("onargs");if(Mc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Qf(a,e)),c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1)),h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Sf),h(b,void 0,!0)):h(b)}},off:Qc,one:function(a,b,d){a=G(a),a.on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a),q(new T(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return q(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new T(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new T(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Oc(a,G(b).eq(0).clone()[0])},remove:Db,detach:function(a){Db(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new T(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var e=d;y(e)&&(e=!zb(a,b)),(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Yb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);(g=(g=g&&g.events)&&g[f])&&(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:C,type:f,target:a},b.type&&(c=P(c,b)),b=fa(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){T.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)y(f)?(f=a(this[g],b,c,e),v(f)&&(f=G(f))):Pc(f,a(this[g],b,c,e));return v(f)?f:this},T.prototype.bind=T.prototype.on,T.prototype.unbind=T.prototype.off}),Sa.prototype={put:function(a,b){this[Ga(a,this.nextUid)]=b},get:function(a){return this[Ga(a,this.nextUid)]},remove:function(a){var b=this[a=Ga(a,this.nextUid)];return delete this[a],b}};var Hf=[function(){this.$get=[function(){return Sa}]}],Vf=/^([^\(]+?)=>/,Wf=/^[^\(]*\(\s*([^\)]*)\)/m,Dg=/,/,Eg=/^\s*(_?)(\S+?)\1\s*$/,Uf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ha=O("$injector");db.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw I(d)&&d||(d=a.name||Xf(a)),Ha("strictdi",d);b=Vc(a),q(b[1].split(Dg),function(a){a.replace(Eg,function(a,b,d){c.push(d)})})}a.$inject=c}}else K(a)?(b=a.length-1,Qa(a[b],"fn"),c=a.slice(0,b)):Qa(a,"fn",!0);return c};var Rd=O("$animate"),$e=function(){this.$get=C},af=function(){var a=new Sa,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&&(b=I(b)?b.split(" "):K(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)})),d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=Yf(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),q(b,function(a){e&&Bb(a,e),f&&Ab(a,f)}),a.remove(b)}}),b.length=0}return{enabled:C,on:C,off:C,pin:C,push:function(g,h,k,l){return l&&l(),k=k||{},k.from&&g.css(k.from),k.to&&g.css(k.to),(k.addClass||k.removeClass)&&(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),(h||l)&&(a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f))),g=new d,g.complete(),g}}}]},Ye=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Rd("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e,a.factory(e,c)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Rd("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){return f=f&&G(f),g=g&&G(g),f=f||g.parent(),b(e,f,g),a.push(e,"enter",Ia(h))},move:function(e,f,g,h){return f=f&&G(f),g=g&&G(g),f=f||g.parent(),b(e,f,g),a.push(e,"move",Ia(h))},leave:function(b,c){return a.push(b,"leave",Ia(c),function(){b.remove()})},addClass:function(b,c,g){return g=Ia(g),g.addClass=hb(g.addclass,c),a.push(b,"addClass",g)},removeClass:function(b,c,g){return g=Ia(g),g.removeClass=hb(g.removeClass,c),a.push(b,"removeClass",g)},setClass:function(b,c,g,h){return h=Ia(h),h.addClass=hb(h.addClass,c),h.removeClass=hb(h.removeClass,g),a.push(b,"setClass",h)},animate:function(b,c,g,h,k){return k=Ia(k),k.from=k.from?P(k.from,c):c,k.to=k.to?P(k.to,g):g,k.tempClasses=hb(k.tempClasses,h||"ng-inline-animate"),a.push(b,"animate",k)}}}]}],cf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]},bf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[],this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()},f.all=function(a,b){function c(f){e=e&&f,++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:C,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]},Ze=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null),h||k.complete(),h=!0}),k}var g=e||{};g.$$prepared||(g=oa(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ea=O("$compile"),bc=new function(){};Ec.$inject=["$provide","$$sanitizeUriProvider"],Gb.prototype.isFirstChange=function(){return this.previousValue===bc};var Xc=/^((?:x|data)[\:\-_])/i,bg=O("$controller"),cd=/^(\S+)(\s+as\s+([\w$]+))?$/,jf=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof G&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},dd="application/json",ec={"Content-Type":dd+";charset=utf-8"},dg=/^\[|^\{(?!\{)/,eg={"[":/]$/,"{":/}$/},cg=/^\)\]\}',?\n/,Fg=O("$http"),hd=function(a){return function(){throw Fg("legacy",a)}},Ka=da.$interpolateMinErr=O("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a)},Ka.interr=function(a,b){return Ka("interr",a,b.toString())};var Gg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,gg={http:80,https:443,ftp:21},Hb=O("$location"),Hg={$$html5:!1,$$replace:!1,absUrl:Ib("$$absUrl"),url:function(a){if(y(a))return this.$$url;var b=Gg.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Ib("$$protocol"),host:Ib("$$host"),port:Ib("$$port"),path:md("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(I(a)||Q(a))a=a.toString(),this.$$search=zc(a);else{if(!J(a))throw Hb("isrcharg");a=oa(a,{}),q(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:y(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:md("$$hash",function(a){
return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};q([ld,hc,gc],function(a){a.prototype=Object.create(Hg),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==gc||!this.$$html5)throw Hb("nostate");return this.$$state=y(b)?null:b,this}});var ba=O("$parse"),ig=Function.prototype.call,jg=Function.prototype.apply,kg=Function.prototype.bind,Pb=S();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Pb[a]=!0});var Ig={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},jc=function(a){this.options=a};jc.prototype={constructor:jc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Pb[b],e=Pb[d];Pb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=v(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,ba("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=L(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Ig[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=a,this.options=b};s.Program="Program",s.ExpressionStatement="ExpressionStatement",s.AssignmentExpression="AssignmentExpression",s.ConditionalExpression="ConditionalExpression",s.LogicalExpression="LogicalExpression",s.BinaryExpression="BinaryExpression",s.UnaryExpression="UnaryExpression",s.CallExpression="CallExpression",s.MemberExpression="MemberExpression",s.Identifier="Identifier",s.Literal="Literal",s.ArrayExpression="ArrayExpression",s.Property="Property",s.ObjectExpression="ObjectExpression",s.ThisExpression="ThisExpression",s.LocalsExpression="LocalsExpression",s.NGValueParameter="NGValueParameter",s.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:s.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=oa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:s.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:s.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b)}while(this.expect(","));return this.consume("}"),{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw ba("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ba("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ba("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return!!(a=this.peek(a,b,d,c))&&(this.tokens.shift(),a)},selfReferential:{this:{type:s.ThisExpression},$locals:{type:s.LocalsExpression}}},td.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Z(c,d.$filter);var f,e="";return this.stage="assign",(f=rd(c))&&(this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l")),f=pd(c.body),d.stage="inputs",q(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(c),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;",e=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e)(this.$filter,Ua,qa,nd,hg,Jb,lg,od,a),this.state=this.stage=void 0,e.literal=sd(c),e.constant=c.constant,e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,l,m,n,k=this;if(c=c||C,!f&&v(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a}),c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value),this.assign(b,m),c(m);break;case s.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a}),m=a.operator+"("+this.ifDefined(h,0)+")",this.assign(b,m),c(m);break;case s.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){h=a}),m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")",this.assign(b,m),c(m);break;case s.LogicalExpression:b=b||this.nextId(),k.recurse(a.left,b),k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b)),c(b);break;case s.ConditionalExpression:b=b||this.nextId(),k.recurse(a.test,b),k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b)),c(b);break;case s.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Ua(a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name))),(k.state.expensiveChecks||Kb(a.name))&&k.addEnsureSafeObject(b),c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g),a.computed?(h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h)):(Ua(a.property.name),e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}")),m=k.nonComputedMember(g,a.property.name),(k.state.expensiveChecks||Kb(a.property.name))&&(m=k.ensureSafeObject(m)),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")}),c(b)},!!e);break;case s.CallExpression:b=b||this.nextId(),a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b),l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h),q(a.arguments,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(k.ensureSafeObject(a))})}),g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=h+"("+l.join(",")+")",m=k.ensureSafeObject(m),k.assign(b,m)},function(){k.assign(b,"undefined")}),c(b)}));break;case s.AssignmentExpression:if(h=this.nextId(),g={},!qd(a.left))throw ba("lval");this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h),k.addEnsureSafeObject(k.member(g.context,g.name,g.computed)),k.addEnsureSafeAssignContext(g.context),m=k.member(g.context,g.name,g.computed)+a.operator+h,k.assign(b,m),c(b||m)})},1);break;case s.ArrayExpression:l=[],q(a.elements,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(m);break;case s.ObjectExpression:l=[],n=!1,q(a.properties,function(a){a.computed&&(n=!0)}),n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===s.Identifier?a.key.name:""+a.key.value,h=k.nextId(),k.recurse(a.value,h),k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===s.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case s.ThisExpression:this.assign(b,"s"),c("s");break;case s.LocalsExpression:this.assign(b,"l"),c("l");break;case s.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){"),b(),c.push("}"),d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(I(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(Q(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw ba("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),d},current:function(){return this.state[this.state.computing]}},ud.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,Z(c,d.$filter);var e,f;(e=rd(c))&&(f=this.recurse(e)),e=pd(c.body);var g;e&&(g=[],q(e,function(a,b){var c=d.recurse(a);a.input=c,g.push(c),a.watchId=b}));var h=[];return q(c.body,function(a){h.push(d.recurse(a.expression))}),e=0===c.body.length?C:1===c.body.length?h[0]:function(a,b){var c;return q(h,function(d){c=d(a,b)}),c},f&&(e.assign=function(a,b,c){return f(a,c,b)}),g&&(e.inputs=g),e.literal=sd(c),e.constant=c.constant,e},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return Ua(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Kb(a.name),b,d,f.expression);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Ua(a.property.name,f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));return a=e.apply(void 0,n,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,m){var p,n=e(a,c,d,m);if(null!=n.value){qa(n.context,f.expression),nd(n.value,f.expression),p=[];for(var q=0;q<g.length;++q)p.push(qa(g[q](a,c,d,m),f.expression));p=qa(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);return a=e(a,d,g,m),qa(n.value,f.expression),Jb(n.context),n.context[n.name]=a,b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=v(d)?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=v(d)?-d:0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=od(h,c),d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=(v(h)?h:0)-(v(c)?c:0),d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<b(c,e,f,g),d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>b(c,e,f,g),d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<=b(c,e,f,g),d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>=b(c,e,f,g),d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&&b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){return f=g&&a in g?g:f,c&&1!==c&&f&&!f[a]&&(f[a]={}),g=f?f[a]:void 0,b&&qa(g,e),d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var m,n,l=a(f,g,h,k);return null!=l&&(m=b(f,g,h,k),m+="",Ua(m,e),c&&1!==c&&(Jb(l),l&&!l[m]&&(l[m]={})),n=l[m],qa(n,e)),d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){return g=a(g,h,k,l),e&&1!==e&&(Jb(g),g&&!g[b]&&(g[b]={})),h=null!=g?g[b]:void 0,(d||Kb(b))&&qa(h,f),c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var kc=function(a,b,d){this.lexer=a,this.$filter=b,this.options=d,this.ast=new s(a,d),this.astCompiler=d.csp?new ud(this.ast,b):new td(this.ast,b)};kc.prototype={constructor:kc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var mg=Object.prototype.valueOf,ra=O("$sce"),ma={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},og=O("$compile"),X=F.document.createElement("a"),yd=pa(F.location.href);zd.$inject=["$document"],Lc.$inject=["$provide"];var Gd=22,Fd=".",mc="0";Ad.$inject=["$locale"],Cd.$inject=["$locale"];var zg={yyyy:W("FullYear",4,0,!1,!0),yy:W("FullYear",2,0,!0,!0),y:W("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:W("Month",2,1),M:W("Month",1,1),LLLL:kb("Month",!1,!0),dd:W("Date",2),d:W("Date",1),HH:W("Hours",2),H:W("Hours",1),hh:W("Hours",2,-12),h:W("Hours",1,-12),mm:W("Minutes",2),m:W("Minutes",1),ss:W("Seconds",2),s:W("Seconds",1),sss:W("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return a=-1*d,a=(0<=a?"+":"")+(Lb(Math[0<a?"floor":"ceil"](a/60),2)+Lb(Math.abs(a%60),2))},ww:Id(2),w:Id(1),G:nc,GG:nc,GGG:nc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},yg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,xg=/^\-?\d+$/;Bd.$inject=["$locale"];var sg=ca(L),tg=ca(ub);Dd.$inject=["$parse"];var oe=ca({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ja.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};q(Eb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=wa("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)}),vb[c]=function(){return{restrict:"A",priority:100,link:e}}}}),q(bd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){return"ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Bg))?void e.$set("ngPattern",new RegExp(c[1],c[2])):void a.$watch(e[b],function(a){e.$set(b,a)})}}}}),q(["src","srcset","href"],function(a){var b=wa("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ja.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),Ba&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Mb={$addControl:C,$$renameControl:function(a,b){a.$name=b},$removeControl:C,$setValidity:C,$setDirty:C,$setPristine:C,$setSubmitted:C};Jd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Sd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||C}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Jd,compile:function(d,f){d.addClass(Va).addClass(ob);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue(),n.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",p,!1),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):C;g&&(q(a,n),e.$observe(g,function(b){n.$name!==b&&(q(a,void 0),n.$$parentForm.$$renameControl(n,b),(q=c(n.$name))(a,n))})),d.on("$destroy",function(){n.$$parentForm.$removeControl(n),q(a,void 0),P(n,Mb)})}}}}}]},pe=Sd(),Ce=Sd(!0),Ag=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Jg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Kg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Lg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Td=/^(\d{4,})-(\d{2})-(\d{2})$/,Ud=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,qc=/^(\d{4,})-W(\d\d)$/,Vd=/^(\d{4,})-(\d\d)$/,Wd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ld=S();q(["date","datetime-local","month","time","week"],function(a){Ld[a]=!0});var Xd={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f),oc(c)},date:mb("date",Td,Ob(Td,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ud,Ob(Ud,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Wd,Ob(Wd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",qc,function(a,b){if(ha(a))return a;if(I(a)){qc.lastIndex=0;var d=qc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Hd(c),e=7*(e-1);return b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Vd,Ob(Vd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){if(Md(a,b,d,c),lb(a,b,d,c,e,f),c.$$parserName="number",c.$parsers.push(function(a){return c.$isEmpty(a)?null:Lg.test(a)?parseFloat(a):void 0}),c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!Q(a))throw nb("numfmt",a);a=a.toString()}return a}),v(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||y(g)||a>=g},d.$observe("min",function(a){v(a)&&!Q(a)&&(a=parseFloat(a,10)),g=Q(a)&&!isNaN(a)?a:void 0,c.$validate()})}if(v(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||y(h)||a<=h},d.$observe("max",function(a){v(a)&&!Q(a)&&(a=parseFloat(a,10)),h=Q(a)&&!isNaN(a)?a:void 0,c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f),oc(c),c.$$parserName="url",c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||Jg.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f),oc(c),c.$$parserName="email",c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Kg.test(d)}},radio:function(a,b,d,c){y(d.name)&&b.attr("name",++pb),b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)}),c.$render=function(){b[0].checked=d.value==c.$viewValue},d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Nd(h,a,"ngTrueValue",d.ngTrueValue,!0),l=Nd(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return na(a,k)}),c.$parsers.push(function(a){return a?k:l})},hidden:C,button:C,submit:C,reset:C,file:C},Fc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Xd[L(g.type)]||Xd.text)(e,f,g,h[0],b,a,d,c)}}}}],Mg=/^(true|false|\d+)$/,Ue=function(){return{restrict:"A",priority:100,compile:function(a,b){return Mg.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},ue=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=y(a)?"":a})}}}}],we=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=y(a)?"":a})}}}}],ve=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],Te=ca({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),xe=pc("",!0),ze=pc("Odd",0),ye=pc("Even",1),Ae=Ma({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Be=[function(){return{restrict:"A",
scope:!0,controller:"@",priority:500}}],Kc={},Ng={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=wa("ng-"+a);Kc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Ng[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ee=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:d},a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Fe=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:da.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var s,z,r,q=0,D=function(){z&&(z.remove(),z=null),s&&(s.$destroy(),s=null),r&&(d.leave(r).then(function(){z=null}),z=r,r=null)};c.$watch(f,function(f){var m=function(){!v(h)||h&&!c.$eval(h)||b()},w=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&w===q){var b=c.$new();n.template=a,a=p(b,function(a){D(),d.enter(a,null,e).then(m)}),s=b,r=a,s.$emit("$includeContentLoaded",f),c.$eval(g)}},function(){c.$$destroyed||w!==q||(D(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(D(),n.template=null)})}}}}],We=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ja.call(d[0]).match(/SVG/)?(d.empty(),a(Nc(e.template,F.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ge=Ma({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Se=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?V(e):e;c.$parsers.push(function(a){if(!y(a)){var b=[];return a&&q(a.split(g),function(a){a&&b.push(f?V(a):a)}),b}}),c.$formatters.push(function(a){if(K(a))return a.join(e)}),c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Od="ng-invalid",Va="ng-pristine",Nb="ng-dirty",Qd="ng-pending",nb=O("ngModel"),Og=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Mb;var z,m=e(d.ngModel),n=m.assign,p=m,s=n,F=null,r=this;this.$$setOptions=function(a){if((r.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");p=function(a){var c=m(a);return E(c)&&(c=b(a)),c},s=function(a,b){E(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw nb("nonassign",d.ngModel,ua(c))},this.$render=C,this.$isEmpty=function(a){return y(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){r.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var D=0;Kd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f}),this.$setPristine=function(){r.$dirty=!1,r.$pristine=!0,f.removeClass(c,Nb),f.addClass(c,Va)},this.$setDirty=function(){r.$dirty=!0,r.$pristine=!1,f.removeClass(c,Va),f.addClass(c,Nb),r.$$parentForm.$setDirty()},this.$setUntouched=function(){r.$touched=!1,r.$untouched=!0,f.setClass(c,"ng-untouched","ng-touched")},this.$setTouched=function(){r.$touched=!0,r.$untouched=!1,f.setClass(c,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){g.cancel(F),r.$viewValue=r.$$lastCommittedViewValue,r.$render()},this.$validate=function(){if(!Q(r.$modelValue)||!isNaN(r.$modelValue)){var a=r.$$rawModelValue,b=r.$valid,c=r.$modelValue,d=r.$options&&r.$options.allowInvalid;r.$$runValidators(a,r.$$lastCommittedViewValue,function(e){d||b===e||(r.$modelValue=e?a:void 0,r.$modelValue!==c&&r.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function d(){var c=!0;return q(r.$validators,function(d,e){var g=d(a,b);c=c&&g,f(e,g)}),!!c||(q(r.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;q(r.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!E(h.then))throw nb("nopromise",h);f(g,void 0),c.push(h.then(function(){f(g,!0)},function(){d=!1,f(g,!1)}))}),c.length?k.all(c).then(function(){g(d)},C):g(!0)}function f(a,b){h===D&&r.$setValidity(a,b)}function g(a){h===D&&c(a)}D++;var h=D;(function(){var a=r.$$parserName||"parse";return y(z)?(f(a,null),!0):(z||(q(r.$validators,function(a,b){f(b,null)}),q(r.$asyncValidators,function(a,b){f(b,null)})),f(a,z),z)})()&&d()?e():g(!1)},this.$commitViewValue=function(){var a=r.$viewValue;g.cancel(F),(r.$$lastCommittedViewValue!==a||""===a&&r.$$hasNativeValidators)&&(r.$$updateEmptyClasses(a),r.$$lastCommittedViewValue=a,r.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=r.$$lastCommittedViewValue;if(z=!y(b)||void 0)for(var c=0;c<r.$parsers.length;c++)if(b=r.$parsers[c](b),y(b)){z=!1;break}Q(r.$modelValue)&&isNaN(r.$modelValue)&&(r.$modelValue=p(a));var d=r.$modelValue,e=r.$options&&r.$options.allowInvalid;r.$$rawModelValue=b,e&&(r.$modelValue=b,r.$modelValue!==d&&r.$$writeModelToScope()),r.$$runValidators(b,r.$$lastCommittedViewValue,function(a){e||(r.$modelValue=a?b:void 0,r.$modelValue!==d&&r.$$writeModelToScope())})},this.$$writeModelToScope=function(){s(a,r.$modelValue),q(r.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){r.$viewValue=a,r.$options&&!r.$options.updateOnDefault||r.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=r.$options;d&&v(d.debounce)&&(d=d.debounce,Q(d)?c=d:Q(d[b])?c=d[b]:Q(d.default)&&(c=d.default)),g.cancel(F),c?F=g(function(){r.$commitViewValue()},c):h.$$phase?r.$commitViewValue():a.$apply(function(){r.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==r.$modelValue&&(r.$modelValue===r.$modelValue||b===b)){r.$modelValue=r.$$rawModelValue=b,z=void 0;for(var c=r.$formatters,d=c.length,e=b;d--;)e=c[d](e);r.$viewValue!==e&&(r.$$updateEmptyClasses(e),r.$viewValue=r.$$lastCommittedViewValue=e,r.$render(),r.$$runValidators(b,e,C))}return b})}],Re=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Og,priority:1,compile:function(b){return b.addClass(Va).addClass("ng-untouched").addClass(ob),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,g.$$setOptions(f[2]&&f[2].$options),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];g.$options&&g.$options.updateOn&&c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Pg=/(\s+|^)default(\s+|$)/,Ve=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=oa(a.$eval(b.ngModelOptions)),v(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=V(this.$options.updateOn.replace(Pg,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},He=Ma({terminal:!0,priority:1e3}),Qg=O("ngOptions"),Rg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pe=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!q&&xa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(Rg);if(!n)throw Qg("iexp",a,ua(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var s=n[9];b=d(n[2]?n[1]:p);var z=a&&d(a)||b,r=s&&d(s),v=s?function(a,b){return r(c,b)}:function(a){return Ga(a)},u=function(a,b){return v(a,H(a,b))},t=d(n[2]||n[1]),w=d(n[3]||""),y=d(n[4]||""),B=d(n[8]),A={},H=q?function(a,b){return A[q]=b,A[p]=a,A}:function(a){return A[p]=a,A};return{trackBy:s,getTrackByValue:u,getWatchables:d(B,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var h=a===d?g:d[g],l=a[h],h=H(l,h),l=v(l,h);b.push(l),(n[2]||n[1])&&(l=t(c,h),b.push(l)),n[4]&&(h=y(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=B(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=H(d[p],p),r=z(c,q),p=v(r,q),x=t(c,q),A=w(c,q),q=y(c,q),r=new e(p,r,x,A,q);a.push(r),b[p]=r}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[u(a)]},getViewValueFromOption:function(a){return s?da.copy(a.viewValue):a.viewValue}}}}}var e=F.document.createElement("option"),f=F.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=C},post:function(d,h,k,l){function m(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function n(){var a=w&&p.readValue();if(w)for(var b=w.items.length-1;0<=b;b--){var c=w.items[b];Db(c.group?c.element.parentNode:c.element)}w=C.getOptions();var d={};u&&h.prepend(z),w.items.forEach(function(a){var b;if(v(a.group)){b=d[a.group],b||(b=f.cloneNode(!1),B.appendChild(b),b.label=a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=B,c=e.cloneNode(!1);b.appendChild(c),m(a,c)}),h[0].appendChild(B),s.$render(),s.$isEmpty(a)||(b=p.readValue(),(C.trackBy||y?na(a,b):a===b)||(s.$setViewValue(b),s.$render()))}var z,p=l[0],s=l[1],y=k.multiple;l=0;for(var r=h.children(),D=r.length;l<D;l++)if(""===r[l].value){z=r.eq(l);break}var u=!!z,t=G(e.cloneNode(!1));t.val("?");var w,C=c(k.ngOptions,h,d),B=b[0].createDocumentFragment();y?(s.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){w.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){(a=w.getOptionFromViewValue(a))&&(a.element.selected=!0)})},p.readValue=function(){var a=h.val()||[],b=[];return q(a,function(a){(a=w.selectValueMap[a])&&!a.disabled&&b.push(w.getViewValueFromOption(a))}),b},C.trackBy&&d.$watchCollection(function(){if(K(s.$viewValue))return s.$viewValue.map(function(a){return C.getTrackByValue(a)})},function(){s.$render()})):(p.writeValue=function(a){var b=w.getOptionFromViewValue(a);b?(h[0].value!==b.selectValue&&(t.remove(),u||z.remove(),h[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||u?(t.remove(),u||h.prepend(z),h.val(""),z.prop("selected",!0),z.attr("selected",!0)):(u||z.remove(),h.prepend(t),h.val("?"),t.prop("selected",!0),t.attr("selected",!0))},p.readValue=function(){var a=w.selectValueMap[h.val()];return a&&!a.disabled?(u||z.remove(),t.remove(),w.getViewValueFromOption(a)):null},C.trackBy&&d.$watch(function(){return C.getTrackByValue(s.$viewValue)},function(){s.$render()})),u?(z.remove(),a(z)(d),z.removeClass("ng-scope")):z=G(e.cloneNode(!1)),h.empty(),n(),d.$watchCollection(C.getWatchables,n)}}}}],Ie=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var u,l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},s={},v=b.startSymbol(),z=b.endSymbol(),r=v+l+"-"+n+z,D=da.noop;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+L(c[2]),p[c]=g.attr(h.$attr[b]))}),q(p,function(a,d){s[d]=b(a.replace(c,r))}),f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in p||(c=a.pluralCat(c-n)),c===u||e&&Q(u)&&isNaN(u)||(D(),e=s[c],y(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),D=C,k()):D=f.$watch(e,k),u=c)})}}}],Je=["$parse","$animate","$compile",function(a,b,d){var c=O("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d,e&&(a[e]=m),a.$index=b,a.$first=0===b,a.$last=b===n-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],s=l[4],l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var v=l[3]||l[1],z=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var r,D,u,t,w={$id:Ga};return s?r=a(s):(u=function(a,b){return Ga(b)},t=function(a){return a}),function(a,d,f,g,l){r&&(D=function(b,c,d){return z&&(w[z]=b),w[v]=c,w.$index=d,r(a,w)});var m=S();a.$watchCollection(n,function(f){var g,n,s,w,y,C,A,F,E,G,r=d[0],x=S();if(p&&(a[p]=f),xa(f))F=f,n=D||u;else for(G in n=D||t,F=[],f)sa.call(f,G)&&"$"!==G.charAt(0)&&F.push(G);for(w=F.length,G=Array(w),g=0;g<w;g++)if(y=f===F?g:F[g],C=f[y],A=n(y,C,g),m[A])E=m[A],delete m[A],x[A]=E,G[g]=E;else{if(x[A])throw q(G,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,A,C);G[g]={id:A,scope:void 0,clone:void 0},x[A]=!0}for(s in m){if(E=m[s],A=tb(E.clone),b.leave(A),A[0].parentNode)for(g=0,n=A.length;g<n;g++)A[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<w;g++)if(y=f===F?g:F[g],C=f[y],E=G[g],E.scope){s=r;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);E.clone[0]!=s&&b.move(tb(E.clone),null,r),r=E.clone[E.clone.length-1],e(E.scope,g,v,C,z,y,w)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d,b.enter(a,null,r),r=d,E.clone=a,x[E.id]=E,e(E.scope,g,v,C,z,y,w)});m=x})}}}}],Ke=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],De=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Le=Ma(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Me=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=k.length;d<e;++d)a.cancel(k[d]);for(d=k.length=0,e=l.length;d<e;++d){var s=tb(h[d].clone);l[d].$destroy(),(k[d]=a.leave(s)).then(m(k,d))}h.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],Ne=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[],c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Oe=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),Sg=O("ngTransclude"),Qe=Ma({restrict:"EAC",link:function(a,b,d,c,e){if(d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude=""),!e)throw Sg("orphan",ua(b));e(function(a){a.length&&(b.empty(),b.append(a))},null,d.ngTransclude||d.ngTranscludeSlot)}}),qe=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Tg={$setViewValue:C,$render:C},Ug=["$element","$scope",function(a,b){var d=this,c=new Sa;d.ngModelCtrl=Tg,d.unknownOption=G(F.document.createElement("option")),d.renderUnknownOption=function(b){b="? "+Ga(b)+" ?",d.unknownOption.val(b),a.prepend(d.unknownOption),a.val(b)},b.$on("$destroy",function(){d.renderUnknownOption=C}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),a.val()},d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)},d.addOption=function(a,b){if(8!==b[0].nodeType){Ra(a,'"option value"'),""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1),d.ngModelCtrl.$render(),b[0].hasAttribute("selected")&&(b[0].selected=!0)}},d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=void 0)):c.put(a,b-1))},d.hasOption=function(a){return!!c.get(a)},d.registerOption=function(a,b,c,h,k){if(h){var l;c.$observe("value",function(a){v(l)&&d.removeOption(l),l=a,d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],re=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ug,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];if(f.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})}),d.multiple){f.readValue=function(){var a=[];return q(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},f.writeValue=function(a){var c=new Sa(a);q(b.find("option"),function(a){a.selected=v(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||na(g,e.$viewValue)||(g=fa(e.$viewValue),e.$render()),h=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},te=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(v(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],se=ca({restrict:"E",terminal:!1}),Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(I(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw O("ngPattern")("noregexp",f,a,ua(b));e=a||void 0,c.$validate()}),c.$validators.pattern=function(a,b){return c.$isEmpty(b)||y(e)||e.test(b)}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=$(a),e=isNaN(a)?-1:a,c.$validate()}),c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Ic=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=$(a)||0,c.$validate()}),c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};F.angular.bootstrap?F.console&&console.log("WARNING: Tried to load angular more than once."):(je(),le(da),da.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=0|a,f=c;return void 0===f&&(f=Math.min(b(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),G(F.document).ready(function(){fe(F.document,Ac)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(window,angular,undefined){"use strict";function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function packageStyles(options){var styles={};return options&&(options.to||options.from)&&(styles.to=options.to,styles.from=options.from),styles}function pendClasses(classes,fix,isPrefix){var className="";return classes=isArray(classes)?classes:classes&&isString(classes)&&classes.length?classes.split(/\s+/):[],forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=i>0?" ":"",className+=isPrefix?fix+klass:klass+fix)}),className}function removeFromArray(arr,val){var index=arr.indexOf(val);val>=0&&arr.splice(index,1)}function stripCommentsFromElement(element){if(element instanceof jqLite)switch(element.length){case 0:return[];case 1:if(element[0].nodeType===ELEMENT_NODE)return element;break;default:return jqLite(extractElementNode(element))}if(element.nodeType===ELEMENT_NODE)return jqLite(element)}function extractElementNode(element){if(!element[0])return element;for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function $$addClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.addClass(elm,className)})}function $$removeClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.removeClass(elm,className)})}function applyAnimationClassesFactory($$jqLite){return function(element,options){options.addClass&&($$addClass($$jqLite,element,options.addClass),options.addClass=null),options.removeClass&&($$removeClass($$jqLite,element,options.removeClass),options.removeClass=null)}}function prepareAnimationOptions(options){if(options=options||{},!options.$$prepared){var domOperation=options.domOperation||noop;options.domOperation=function(){options.$$domOperationFired=!0,domOperation(),domOperation=noop},options.$$prepared=!0}return options}function applyAnimationStyles(element,options){applyAnimationFromStyles(element,options),applyAnimationToStyles(element,options)}function applyAnimationFromStyles(element,options){options.from&&(element.css(options.from),options.from=null)}function applyAnimationToStyles(element,options){options.to&&(element.css(options.to),options.to=null)}function mergeAnimationOptions(element,target,newOptions){var toAdd=(target.addClass||"")+" "+(newOptions.addClass||""),toRemove=(target.removeClass||"")+" "+(newOptions.removeClass||""),classes=resolveElementClasses(element.attr("class"),toAdd,toRemove);newOptions.preparationClasses&&(target.preparationClasses=concatWithSpace(newOptions.preparationClasses,target.preparationClasses),delete newOptions.preparationClasses);var realDomOperation=target.domOperation!==noop?target.domOperation:null;return extend(target,newOptions),realDomOperation&&(target.domOperation=realDomOperation),classes.addClass?target.addClass=classes.addClass:target.addClass=null,classes.removeClass?target.removeClass=classes.removeClass:target.removeClass=null,target}function resolveElementClasses(existing,toAdd,toRemove){function splitClassesToLookup(classes){isString(classes)&&(classes=classes.split(" "));var obj={};return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}var ADD_CLASS=1,REMOVE_CLASS=-1,flags={};existing=splitClassesToLookup(existing),toAdd=splitClassesToLookup(toAdd),forEach(toAdd,function(value,key){flags[key]=ADD_CLASS}),toRemove=splitClassesToLookup(toRemove),forEach(toRemove,function(value,key){flags[key]=flags[key]===ADD_CLASS?null:REMOVE_CLASS});var classes={addClass:"",removeClass:""};return forEach(flags,function(val,klass){var prop,allow;val===ADD_CLASS?(prop="addClass",allow=!existing[klass]):val===REMOVE_CLASS&&(prop="removeClass",allow=existing[klass]),allow&&(classes[prop].length&&(classes[prop]+=" "),classes[prop]+=klass)}),classes}function getDomNode(element){return element instanceof angular.element?element[0]:element}function applyGeneratedPreparationClasses(element,event,options){var classes="";event&&(classes=pendClasses(event,EVENT_CLASS_PREFIX,!0)),options.addClass&&(classes=concatWithSpace(classes,pendClasses(options.addClass,ADD_CLASS_SUFFIX))),options.removeClass&&(classes=concatWithSpace(classes,pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX))),classes.length&&(options.preparationClasses=classes,element.addClass(classes))}function clearGeneratedClasses(element,options){options.preparationClasses&&(element.removeClass(options.preparationClasses),options.preparationClasses=null),options.activeClasses&&(element.removeClass(options.activeClasses),options.activeClasses=null)}function blockTransitions(node,duration){var value=duration?"-"+duration+"s":"";return applyInlineStyle(node,[TRANSITION_DELAY_PROP,value]),[TRANSITION_DELAY_PROP,value]}function blockKeyframeAnimations(node,applyBlock){var value=applyBlock?"paused":"",key=ANIMATION_PROP+ANIMATION_PLAYSTATE_KEY;return applyInlineStyle(node,[key,value]),[key,value]}function applyInlineStyle(node,styleTuple){var prop=styleTuple[0],value=styleTuple[1];node.style[prop]=value}function concatWithSpace(a,b){return a?b?a+" "+b:a:b}function getCssKeyframeDurationStyle(duration){return[ANIMATION_DURATION_PROP,duration+"s"]}function getCssDelayStyle(delay,isKeyframeAnimation){var prop=isKeyframeAnimation?ANIMATION_DELAY_PROP:TRANSITION_DELAY_PROP;return[prop,delay+"s"]}function computeCssStyles($window,element,properties){var styles=Object.create(null),detectedStyles=$window.getComputedStyle(element)||{};return forEach(properties,function(formalStyleName,actualStyleName){var val=detectedStyles[formalStyleName];if(val){var c=val.charAt(0);("-"===c||"+"===c||c>=0)&&(val=parseMaxTime(val)),0===val&&(val=null),styles[actualStyleName]=val}}),styles}function parseMaxTime(str){var maxValue=0,values=str.split(/\s*,\s*/);return forEach(values,function(value){"s"==value.charAt(value.length-1)&&(value=value.substring(0,value.length-1)),value=parseFloat(value)||0,maxValue=maxValue?Math.max(value,maxValue):value}),maxValue}function truthyTimingValue(val){return 0===val||null!=val}function getCssTransitionDurationStyle(duration,applyOnlyDuration){var style=TRANSITION_PROP,value=duration+"s";return applyOnlyDuration?style+=DURATION_KEY:value+=" linear all",[style,value]}function createLocalCacheLookup(){var cache=Object.create(null);return{flush:function(){cache=Object.create(null)},count:function(key){var entry=cache[key];return entry?entry.total:0},get:function(key){var entry=cache[key];return entry&&entry.value},put:function(key,value){cache[key]?cache[key].total++:cache[key]={total:1,value:value}}}}function registerRestorableStyles(backup,node,properties){forEach(properties,function(prop){backup[prop]=isDefined(backup[prop])?backup[prop]:node.style.getPropertyValue(prop)})}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,noop=angular.noop,extend=angular.extend,jqLite=angular.element,forEach=angular.forEach,isArray=angular.isArray,isString=angular.isString,isObject=angular.isObject,isUndefined=angular.isUndefined,isDefined=angular.isDefined,isFunction=angular.isFunction,isElement=angular.isElement,ELEMENT_NODE=1,ADD_CLASS_SUFFIX="-add",REMOVE_CLASS_SUFFIX="-remove",EVENT_CLASS_PREFIX="ng-",ACTIVE_CLASS_SUFFIX="-active",NG_ANIMATE_CLASSNAME="ng-animate",NG_ANIMATE_CHILDREN_DATA="$$ngAnimateChildren",CSS_PREFIX="";isUndefined(window.ontransitionend)&&isDefined(window.onwebkittransitionend)?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),isUndefined(window.onanimationend)&&isDefined(window.onwebkitanimationend)?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",TIMING_KEY="TimingFunction",ANIMATION_ITERATION_COUNT_KEY="IterationCount",ANIMATION_PLAYSTATE_KEY="PlayState",SAFE_FAST_FORWARD_DURATION_VALUE=9999,ANIMATION_DELAY_PROP=ANIMATION_PROP+DELAY_KEY,ANIMATION_DURATION_PROP=ANIMATION_PROP+DURATION_KEY,TRANSITION_DELAY_PROP=TRANSITION_PROP+DELAY_KEY,TRANSITION_DURATION_PROP=TRANSITION_PROP+DURATION_KEY,$$rAFSchedulerFactory=["$$rAF",function($$rAF){function scheduler(tasks){queue=queue.concat(tasks),nextTick()}function nextTick(){if(queue.length){for(var items=queue.shift(),i=0;i<items.length;i++)items[i]();cancelFn||$$rAF(function(){cancelFn||nextTick()})}}var queue,cancelFn;return queue=scheduler.queue=[],scheduler.waitUntilQuiet=function(fn){cancelFn&&cancelFn(),cancelFn=$$rAF(function(){cancelFn=null,fn(),nextTick()})},scheduler}],$$AnimateChildrenDirective=[function(){return function(scope,element,attrs){var val=attrs.ngAnimateChildren;angular.isString(val)&&0===val.length?element.data(NG_ANIMATE_CHILDREN_DATA,!0):attrs.$observe("ngAnimateChildren",function(value){value="on"===value||"true"===value,element.data(NG_ANIMATE_CHILDREN_DATA,value)})}}],ANIMATE_TIMER_KEY="$$animateCss",ONE_SECOND=1e3,ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,DETECT_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,transitionProperty:TRANSITION_PROP+PROPERTY_KEY,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP,animationIterationCount:ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY},DETECT_STAGGER_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP},$AnimateCssProvider=["$animateProvider",function($animateProvider){var gcsLookup=createLocalCacheLookup(),gcsStaggerLookup=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function($window,$$jqLite,$$AnimateRunner,$timeout,$$forceReflow,$sniffer,$$rAFScheduler,$animate){function gcsHashFn(node,extraClasses){var KEY="$$ngAnimateParentKey",parentNode=node.parentNode,parentID=parentNode[KEY]||(parentNode[KEY]=++parentCounter);return parentID+"-"+node.getAttribute("class")+"-"+extraClasses;
}function computeCachedCssStyles(node,className,cacheKey,properties){var timings=gcsLookup.get(cacheKey);return timings||(timings=computeCssStyles($window,node,properties),"infinite"===timings.animationIterationCount&&(timings.animationIterationCount=1)),gcsLookup.put(cacheKey,timings),timings}function computeCachedCssStaggerStyles(node,className,cacheKey,properties){var stagger;if(gcsLookup.count(cacheKey)>0&&(stagger=gcsStaggerLookup.get(cacheKey),!stagger)){var staggerClassName=pendClasses(className,"-stagger");$$jqLite.addClass(node,staggerClassName),stagger=computeCssStyles($window,node,properties),stagger.animationDuration=Math.max(stagger.animationDuration,0),stagger.transitionDuration=Math.max(stagger.transitionDuration,0),$$jqLite.removeClass(node,staggerClassName),gcsStaggerLookup.put(cacheKey,stagger)}return stagger||{}}function waitUntilQuiet(callback){rafWaitQueue.push(callback),$$rAFScheduler.waitUntilQuiet(function(){gcsLookup.flush(),gcsStaggerLookup.flush();for(var pageWidth=$$forceReflow(),i=0;i<rafWaitQueue.length;i++)rafWaitQueue[i](pageWidth);rafWaitQueue.length=0})}function computeTimings(node,className,cacheKey){var timings=computeCachedCssStyles(node,className,cacheKey,DETECT_CSS_PROPERTIES),aD=timings.animationDelay,tD=timings.transitionDelay;return timings.maxDelay=aD&&tD?Math.max(aD,tD):aD||tD,timings.maxDuration=Math.max(timings.animationDuration*timings.animationIterationCount,timings.transitionDuration),timings}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite),parentCounter=0,rafWaitQueue=[];return function(element,options){function endFn(){close()}function cancelFn(){close(!0)}function close(rejected){animationClosed||animationCompleted&&animationPaused||(animationClosed=!0,animationPaused=!1,options.$$skipPreparationClasses||$$jqLite.removeClass(element,preparationClasses),$$jqLite.removeClass(element,activeClasses),blockKeyframeAnimations(node,!1),blockTransitions(node,!1),forEach(temporaryStyles,function(entry){node.style[entry[0]]=""}),applyAnimationClasses(element,options),applyAnimationStyles(element,options),Object.keys(restoreStyles).length&&forEach(restoreStyles,function(value,prop){value?node.style.setProperty(prop,value):node.style.removeProperty(prop)}),options.onDone&&options.onDone(),runner&&runner.complete(!rejected))}function applyBlocking(duration){flags.blockTransition&&blockTransitions(node,duration),flags.blockKeyframeAnimation&&blockKeyframeAnimations(node,!!duration)}function closeAndReturnNoopAnimator(){return runner=new $$AnimateRunner({end:endFn,cancel:cancelFn}),waitUntilQuiet(noop),close(),{$$willAnimate:!1,start:function(){return runner},end:endFn}}function _start(){function triggerAnimationStart(){if(!animationClosed){if(applyBlocking(!1),forEach(temporaryStyles,function(entry){var key=entry[0],value=entry[1];node.style[key]=value}),applyAnimationClasses(element,options),$$jqLite.addClass(element,activeClasses),flags.recalculateTimingStyles){if(fullClassName=node.className+" "+preparationClasses,cacheKey=gcsHashFn(node,fullClassName),timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay,maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration,0===maxDuration)return void close();flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0}if(flags.applyAnimationDelay&&(relativeDelay="boolean"!=typeof options.delay&&truthyTimingValue(options.delay)?parseFloat(options.delay):relativeDelay,maxDelay=Math.max(relativeDelay,0),timings.animationDelay=relativeDelay,delayStyle=getCssDelayStyle(relativeDelay,!0),temporaryStyles.push(delayStyle),node.style[delayStyle[0]]=delayStyle[1]),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.easing){var easeProp,easeVal=options.easing;flags.hasTransitions&&(easeProp=TRANSITION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal),flags.hasAnimations&&(easeProp=ANIMATION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal)}timings.transitionDuration&&events.push(TRANSITIONEND_EVENT),timings.animationDuration&&events.push(ANIMATIONEND_EVENT),startTime=Date.now();var timerTime=maxDelayTime+CLOSING_TIME_BUFFER*maxDurationTime,endTime=startTime+timerTime,animationsData=element.data(ANIMATE_TIMER_KEY)||[],setupFallbackTimer=!0;if(animationsData.length){var currentTimerData=animationsData[0];setupFallbackTimer=endTime>currentTimerData.expectedEndTime,setupFallbackTimer?$timeout.cancel(currentTimerData.timer):animationsData.push(close)}if(setupFallbackTimer){var timer=$timeout(onAnimationExpired,timerTime,!1);animationsData[0]={timer:timer,expectedEndTime:endTime},animationsData.push(close),element.data(ANIMATE_TIMER_KEY,animationsData)}element.on(events.join(" "),onAnimationProgress),options.to&&(options.cleanupStyles&&registerRestorableStyles(restoreStyles,node,Object.keys(options.to)),applyAnimationToStyles(element,options))}}function onAnimationExpired(){var animationsData=element.data(ANIMATE_TIMER_KEY);if(animationsData){for(var i=1;i<animationsData.length;i++)animationsData[i]();element.removeData(ANIMATE_TIMER_KEY)}}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||ev.timeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&(animationCompleted=!0,close())}if(!animationClosed){if(!node.parentNode)return void close();var startTime,events=[],playPause=function(playAnimation){if(animationCompleted)animationPaused&&playAnimation&&(animationPaused=!1,close());else if(animationPaused=!playAnimation,timings.animationDuration){var value=blockKeyframeAnimations(node,animationPaused);animationPaused?temporaryStyles.push(value):removeFromArray(temporaryStyles,value)}},maxStagger=itemIndex>0&&(timings.transitionDuration&&0===stagger.transitionDuration||timings.animationDuration&&0===stagger.animationDuration)&&Math.max(stagger.animationDelay,stagger.transitionDelay);maxStagger?$timeout(triggerAnimationStart,Math.floor(maxStagger*itemIndex*ONE_SECOND),!1):triggerAnimationStart(),runnerHost.resume=function(){playPause(!0)},runnerHost.pause=function(){playPause(!1)}}}var restoreStyles={},node=getDomNode(element);if(!node||!node.parentNode||!$animate.enabled())return closeAndReturnNoopAnimator();options=prepareAnimationOptions(options);var animationClosed,animationPaused,animationCompleted,runner,runnerHost,maxDelay,maxDelayTime,maxDuration,maxDurationTime,temporaryStyles=[],classes=element.attr("class"),styles=packageStyles(options);if(0===options.duration||!$sniffer.animations&&!$sniffer.transitions)return closeAndReturnNoopAnimator();var method=options.event&&isArray(options.event)?options.event.join(" "):options.event,isStructural=method&&options.structural,structuralClassName="",addRemoveClassName="";isStructural?structuralClassName=pendClasses(method,EVENT_CLASS_PREFIX,!0):method&&(structuralClassName=method),options.addClass&&(addRemoveClassName+=pendClasses(options.addClass,ADD_CLASS_SUFFIX)),options.removeClass&&(addRemoveClassName.length&&(addRemoveClassName+=" "),addRemoveClassName+=pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX)),options.applyClassesEarly&&addRemoveClassName.length&&applyAnimationClasses(element,options);var preparationClasses=[structuralClassName,addRemoveClassName].join(" ").trim(),fullClassName=classes+" "+preparationClasses,activeClasses=pendClasses(preparationClasses,ACTIVE_CLASS_SUFFIX),hasToStyles=styles.to&&Object.keys(styles.to).length>0,containsKeyframeAnimation=(options.keyframeStyle||"").length>0;if(!containsKeyframeAnimation&&!hasToStyles&&!preparationClasses)return closeAndReturnNoopAnimator();var cacheKey,stagger;if(options.stagger>0){var staggerVal=parseFloat(options.stagger);stagger={transitionDelay:staggerVal,animationDelay:staggerVal,transitionDuration:0,animationDuration:0}}else cacheKey=gcsHashFn(node,fullClassName),stagger=computeCachedCssStaggerStyles(node,preparationClasses,cacheKey,DETECT_STAGGER_CSS_PROPERTIES);options.$$skipPreparationClasses||$$jqLite.addClass(element,preparationClasses);var applyOnlyDuration;if(options.transitionStyle){var transitionStyle=[TRANSITION_PROP,options.transitionStyle];applyInlineStyle(node,transitionStyle),temporaryStyles.push(transitionStyle)}if(options.duration>=0){applyOnlyDuration=node.style[TRANSITION_PROP].length>0;var durationStyle=getCssTransitionDurationStyle(options.duration,applyOnlyDuration);applyInlineStyle(node,durationStyle),temporaryStyles.push(durationStyle)}if(options.keyframeStyle){var keyframeStyle=[ANIMATION_PROP,options.keyframeStyle];applyInlineStyle(node,keyframeStyle),temporaryStyles.push(keyframeStyle)}var itemIndex=stagger?options.staggerIndex>=0?options.staggerIndex:gcsLookup.count(cacheKey):0,isFirst=0===itemIndex;isFirst&&!options.skipBlocking&&blockTransitions(node,SAFE_FAST_FORWARD_DURATION_VALUE);var timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration;var flags={};if(flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0,flags.hasTransitionAll=flags.hasTransitions&&"all"==timings.transitionProperty,flags.applyTransitionDuration=hasToStyles&&(flags.hasTransitions&&!flags.hasTransitionAll||flags.hasAnimations&&!flags.hasTransitions),flags.applyAnimationDuration=options.duration&&flags.hasAnimations,flags.applyTransitionDelay=truthyTimingValue(options.delay)&&(flags.applyTransitionDuration||flags.hasTransitions),flags.applyAnimationDelay=truthyTimingValue(options.delay)&&flags.hasAnimations,flags.recalculateTimingStyles=addRemoveClassName.length>0,(flags.applyTransitionDuration||flags.applyAnimationDuration)&&(maxDuration=options.duration?parseFloat(options.duration):maxDuration,flags.applyTransitionDuration&&(flags.hasTransitions=!0,timings.transitionDuration=maxDuration,applyOnlyDuration=node.style[TRANSITION_PROP+PROPERTY_KEY].length>0,temporaryStyles.push(getCssTransitionDurationStyle(maxDuration,applyOnlyDuration))),flags.applyAnimationDuration&&(flags.hasAnimations=!0,timings.animationDuration=maxDuration,temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration)))),0===maxDuration&&!flags.recalculateTimingStyles)return closeAndReturnNoopAnimator();if(null!=options.delay){var delayStyle=parseFloat(options.delay);flags.applyTransitionDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle)),flags.applyAnimationDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle,!0))}return null==options.duration&&timings.transitionDuration>0&&(flags.recalculateTimingStyles=flags.recalculateTimingStyles||isFirst),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.skipBlocking||(flags.blockTransition=timings.transitionDuration>0,flags.blockKeyframeAnimation=timings.animationDuration>0&&stagger.animationDelay>0&&0===stagger.animationDuration),options.from&&(options.cleanupStyles&&registerRestorableStyles(restoreStyles,node,Object.keys(options.from)),applyAnimationFromStyles(element,options)),flags.blockTransition||flags.blockKeyframeAnimation?applyBlocking(maxDuration):options.skipBlocking||blockTransitions(node,!1),{$$willAnimate:!0,end:endFn,start:function(){if(!animationClosed)return runnerHost={end:endFn,cancel:cancelFn,resume:null,pause:null},runner=new $$AnimateRunner(runnerHost),waitUntilQuiet(_start),runner}}}}]}],$$AnimateCssDriverProvider=["$$animationProvider",function($$animationProvider){function isDocumentFragment(node){return node.parentNode&&11===node.parentNode.nodeType}$$animationProvider.drivers.push("$$animateCssDriver");var NG_ANIMATE_SHIM_CLASS_NAME="ng-animate-shim",NG_ANIMATE_ANCHOR_CLASS_NAME="ng-anchor",NG_OUT_ANCHOR_CLASS_NAME="ng-anchor-out",NG_IN_ANCHOR_CLASS_NAME="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function($animateCss,$rootScope,$$AnimateRunner,$rootElement,$sniffer,$$jqLite,$document){function filterCssClasses(classes){return classes.replace(/\bng-\S+\b/g,"")}function getUniqueValues(a,b){return isString(a)&&(a=a.split(" ")),isString(b)&&(b=b.split(" ")),a.filter(function(val){return b.indexOf(val)===-1}).join(" ")}function prepareAnchoredAnimation(classes,outAnchor,inAnchor){function calculateAnchorStyles(anchor){var styles={},coords=getDomNode(anchor).getBoundingClientRect();return forEach(["width","height","top","left"],function(key){var value=coords[key];switch(key){case"top":value+=bodyNode.scrollTop;break;case"left":value+=bodyNode.scrollLeft}styles[key]=Math.floor(value)+"px"}),styles}function prepareOutAnimation(){var animator=$animateCss(clone,{addClass:NG_OUT_ANCHOR_CLASS_NAME,delay:!0,from:calculateAnchorStyles(outAnchor)});return animator.$$willAnimate?animator:null}function getClassVal(element){return element.attr("class")||""}function prepareInAnimation(){var endingClasses=filterCssClasses(getClassVal(inAnchor)),toAdd=getUniqueValues(endingClasses,startingClasses),toRemove=getUniqueValues(startingClasses,endingClasses),animator=$animateCss(clone,{to:calculateAnchorStyles(inAnchor),addClass:NG_IN_ANCHOR_CLASS_NAME+" "+toAdd,removeClass:NG_OUT_ANCHOR_CLASS_NAME+" "+toRemove,delay:!0});return animator.$$willAnimate?animator:null}function end(){clone.remove(),outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME)}var clone=jqLite(getDomNode(outAnchor).cloneNode(!0)),startingClasses=filterCssClasses(getClassVal(clone));outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME),rootBodyElement.append(clone);var animatorIn,animatorOut=prepareOutAnimation();if(!animatorOut&&(animatorIn=prepareInAnimation(),!animatorIn))return end();var startingAnimator=animatorOut||animatorIn;return{start:function(){function endFn(){currentAnimation&&currentAnimation.end()}var runner,currentAnimation=startingAnimator.start();return currentAnimation.done(function(){return currentAnimation=null,!animatorIn&&(animatorIn=prepareInAnimation())?(currentAnimation=animatorIn.start(),currentAnimation.done(function(){currentAnimation=null,end(),runner.complete()}),currentAnimation):(end(),void runner.complete())}),runner=new $$AnimateRunner({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(from,to,classes,anchors){var fromAnimation=prepareRegularAnimation(from,noop),toAnimation=prepareRegularAnimation(to,noop),anchorAnimations=[];if(forEach(anchors,function(anchor){var outElement=anchor.out,inElement=anchor.in,animator=prepareAnchoredAnimation(classes,outElement,inElement);animator&&anchorAnimations.push(animator)}),fromAnimation||toAnimation||0!==anchorAnimations.length)return{start:function(){function endFn(){forEach(animationRunners,function(runner){runner.end()})}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),forEach(anchorAnimations,function(animation){animationRunners.push(animation.start())});var runner=new $$AnimateRunner({end:endFn,cancel:endFn});return $$AnimateRunner.all(animationRunners,function(status){runner.complete(status)}),runner}}}function prepareRegularAnimation(animationDetails){var element=animationDetails.element,options=animationDetails.options||{};animationDetails.structural&&(options.event=animationDetails.event,options.structural=!0,options.applyClassesEarly=!0,"leave"===animationDetails.event&&(options.onDone=options.domOperation)),options.preparationClasses&&(options.event=concatWithSpace(options.event,options.preparationClasses));var animator=$animateCss(element,options);return animator.$$willAnimate?animator:null}if(!$sniffer.animations&&!$sniffer.transitions)return noop;var bodyNode=$document[0].body,rootNode=getDomNode($rootElement),rootBodyElement=jqLite(isDocumentFragment(rootNode)||bodyNode.contains(rootNode)?rootNode:bodyNode);applyAnimationClassesFactory($$jqLite);return function(animationDetails){return animationDetails.from&&animationDetails.to?prepareFromToAnchorAnimation(animationDetails.from,animationDetails.to,animationDetails.classes,animationDetails.anchors):prepareRegularAnimation(animationDetails)}}]}],$$AnimateJsProvider=["$animateProvider",function($animateProvider){this.$get=["$injector","$$AnimateRunner","$$jqLite",function($injector,$$AnimateRunner,$$jqLite){function lookupAnimations(classes){classes=isArray(classes)?classes:classes.split(" ");for(var matches=[],flagMap={},i=0;i<classes.length;i++){var klass=classes[i],animationFactory=$animateProvider.$$registeredAnimations[klass];animationFactory&&!flagMap[klass]&&(matches.push($injector.get(animationFactory)),flagMap[klass]=!0)}return matches}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,classes,options){function applyOptions(){options.domOperation(),applyAnimationClasses(element,options)}function executeAnimationFn(fn,element,event,options,onDone){var args;switch(event){case"animate":args=[element,options.from,options.to,onDone];break;case"setClass":args=[element,classesToAdd,classesToRemove,onDone];break;case"addClass":args=[element,classesToAdd,onDone];break;case"removeClass":args=[element,classesToRemove,onDone];break;default:args=[element,onDone]}args.push(options);var value=fn.apply(fn,args);if(value)if(isFunction(value.start)&&(value=value.start()),value instanceof $$AnimateRunner)value.done(onDone);else if(isFunction(value))return value;return noop}function groupEventedAnimations(element,event,options,animations,fnName){var operations=[];return forEach(animations,function(ani){var animation=ani[fnName];animation&&operations.push(function(){var runner,endProgressCb,resolved=!1,onAnimationComplete=function(rejected){resolved||(resolved=!0,(endProgressCb||noop)(rejected),runner.complete(!rejected))};return runner=new $$AnimateRunner({end:function(){onAnimationComplete()},cancel:function(){onAnimationComplete(!0)}}),endProgressCb=executeAnimationFn(animation,element,event,options,function(result){var cancelled=result===!1;onAnimationComplete(cancelled)}),runner})}),operations}function packageAnimations(element,event,options,animations,fnName){var operations=groupEventedAnimations(element,event,options,animations,fnName);if(0===operations.length){var a,b;"beforeSetClass"===fnName?(a=groupEventedAnimations(element,"removeClass",options,animations,"beforeRemoveClass"),b=groupEventedAnimations(element,"addClass",options,animations,"beforeAddClass")):"setClass"===fnName&&(a=groupEventedAnimations(element,"removeClass",options,animations,"removeClass"),b=groupEventedAnimations(element,"addClass",options,animations,"addClass")),a&&(operations=operations.concat(a)),b&&(operations=operations.concat(b))}if(0!==operations.length)return function(callback){var runners=[];return operations.length&&forEach(operations,function(animateFn){runners.push(animateFn())}),runners.length?$$AnimateRunner.all(runners,callback):callback(),function(reject){forEach(runners,function(runner){reject?runner.cancel():runner.end()})}}}3===arguments.length&&isObject(classes)&&(options=classes,classes=null),options=prepareAnimationOptions(options),classes||(classes=element.attr("class")||"",options.addClass&&(classes+=" "+options.addClass),options.removeClass&&(classes+=" "+options.removeClass));var before,after,classesToAdd=options.addClass,classesToRemove=options.removeClass,animations=lookupAnimations(classes);if(animations.length){var afterFn,beforeFn;"leave"==event?(beforeFn="leave",afterFn="afterLeave"):(beforeFn="before"+event.charAt(0).toUpperCase()+event.substr(1),afterFn=event),"enter"!==event&&"move"!==event&&(before=packageAnimations(element,event,options,animations,beforeFn)),after=packageAnimations(element,event,options,animations,afterFn)}if(before||after)return{start:function(){function onComplete(success){animationClosed=!0,applyOptions(),applyAnimationStyles(element,options),runner.complete(success)}function endAnimations(cancelled){animationClosed||((closeActiveAnimations||noop)(cancelled),onComplete(cancelled))}var closeActiveAnimations,chain=[];before&&chain.push(function(fn){closeActiveAnimations=before(fn)}),chain.length?chain.push(function(fn){applyOptions(),fn(!0)}):applyOptions(),after&&chain.push(function(fn){closeActiveAnimations=after(fn)});var animationClosed=!1,runner=new $$AnimateRunner({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}});return $$AnimateRunner.chain(chain,onComplete),runner}}}}]}],$$AnimateJsDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function($$animateJs,$$AnimateRunner){function prepareAnimation(animationDetails){var element=animationDetails.element,event=animationDetails.event,options=animationDetails.options,classes=animationDetails.classes;return $$animateJs(element,event,classes,options)}return function(animationDetails){if(animationDetails.from&&animationDetails.to){var fromAnimation=prepareAnimation(animationDetails.from),toAnimation=prepareAnimation(animationDetails.to);if(!fromAnimation&&!toAnimation)return;return{start:function(){function endFnFactory(){return function(){forEach(animationRunners,function(runner){runner.end()})}}function done(status){runner.complete(status)}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),$$AnimateRunner.all(animationRunners,done);var runner=new $$AnimateRunner({end:endFnFactory(),cancel:endFnFactory()});return runner}}}return prepareAnimation(animationDetails)}}]}],NG_ANIMATE_ATTR_NAME="data-ng-animate",NG_ANIMATE_PIN_DATA="$ngAnimatePin",$$AnimateQueueProvider=["$animateProvider",function($animateProvider){function isAllowed(ruleType,element,currentAnimation,previousAnimation){return rules[ruleType].some(function(fn){return fn(element,currentAnimation,previousAnimation)})}function hasAnimationClasses(options,and){options=options||{};var a=(options.addClass||"").length>0,b=(options.removeClass||"").length>0;return and?a&&b:a||b}var PRE_DIGEST_STATE=1,RUNNING_STATE=2,rules=this.rules={skip:[],cancel:[],join:[]};rules.join.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&!hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return"leave"==currentAnimation.event&&newAnimation.structural}),rules.skip.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&currentAnimation.state===RUNNING_STATE&&!newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.state===RUNNING_STATE&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){var nO=newAnimation.options,cO=currentAnimation.options;return nO.addClass&&nO.addClass===cO.removeClass||nO.removeClass&&nO.removeClass===cO.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function($$rAF,$rootScope,$rootElement,$document,$$HashMap,$$animation,$$AnimateRunner,$templateRequest,$$jqLite,$$forceReflow){function postDigestTaskFactory(){var postDigestCalled=!1;return function(fn){postDigestCalled?fn():$rootScope.$$postDigest(function(){postDigestCalled=!0,fn()})}}function normalizeAnimationOptions(element,options){return mergeAnimationOptions(element,options,{})}function findCallbacks(element,event){var targetNode=getDomNode(element),matches=[],entries=callbackRegistry[event];return entries&&forEach(entries,function(entry){entry.node.contains(targetNode)&&matches.push(entry.callback)}),matches}function queueAnimation(element,event,options){function notifyProgress(runner,event,phase,data){runInNextPostDigestOrNow(function(){var callbacks=findCallbacks(element,event);callbacks.length&&$$rAF(function(){forEach(callbacks,function(callback){callback(element,phase,data)})})}),runner.progress(event,phase,data)}function close(reject){clearGeneratedClasses(element,options),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),runner.complete(!reject)}var node,parent;element=stripCommentsFromElement(element),element&&(node=getDomNode(element),parent=element.parent()),options=prepareAnimationOptions(options);var runner=new $$AnimateRunner,runInNextPostDigestOrNow=postDigestTaskFactory();if(isArray(options.addClass)&&(options.addClass=options.addClass.join(" ")),options.addClass&&!isString(options.addClass)&&(options.addClass=null),isArray(options.removeClass)&&(options.removeClass=options.removeClass.join(" ")),options.removeClass&&!isString(options.removeClass)&&(options.removeClass=null),options.from&&!isObject(options.from)&&(options.from=null),options.to&&!isObject(options.to)&&(options.to=null),!node)return close(),runner;var className=[node.className,options.addClass,options.removeClass].join(" ");if(!isAnimatableClassName(className))return close(),runner;var isStructural=["enter","move","leave"].indexOf(event)>=0,skipAnimations=!animationsEnabled||disabledElementsLookup.get(node),existingAnimation=!skipAnimations&&activeAnimationsLookup.get(node)||{},hasExistingAnimation=!!existingAnimation.state;if(skipAnimations||hasExistingAnimation&&existingAnimation.state==PRE_DIGEST_STATE||(skipAnimations=!areAnimationsAllowed(element,parent,event)),skipAnimations)return close(),runner;isStructural&&closeChildAnimations(element);var newAnimation={structural:isStructural,element:element,event:event,close:close,options:options,runner:runner};if(hasExistingAnimation){var skipAnimationFlag=isAllowed("skip",element,newAnimation,existingAnimation);if(skipAnimationFlag)return existingAnimation.state===RUNNING_STATE?(close(),runner):(mergeAnimationOptions(element,existingAnimation.options,options),existingAnimation.runner);var cancelAnimationFlag=isAllowed("cancel",element,newAnimation,existingAnimation);if(cancelAnimationFlag)if(existingAnimation.state===RUNNING_STATE)existingAnimation.runner.end();else{if(!existingAnimation.structural)return mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),existingAnimation.runner;existingAnimation.close()}else{var joinAnimationFlag=isAllowed("join",element,newAnimation,existingAnimation);if(joinAnimationFlag){if(existingAnimation.state!==RUNNING_STATE)return applyGeneratedPreparationClasses(element,isStructural?event:null,options),event=newAnimation.event=existingAnimation.event,options=mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),existingAnimation.runner;normalizeAnimationOptions(element,options)}}}else normalizeAnimationOptions(element,options);var isValidAnimation=newAnimation.structural;if(isValidAnimation||(isValidAnimation="animate"===newAnimation.event&&Object.keys(newAnimation.options.to||{}).length>0||hasAnimationClasses(newAnimation.options)),!isValidAnimation)return close(),clearElementAnimationState(element),runner;var counter=(existingAnimation.counter||0)+1;return newAnimation.counter=counter,markElementAnimationState(element,PRE_DIGEST_STATE,newAnimation),$rootScope.$$postDigest(function(){var animationDetails=activeAnimationsLookup.get(node),animationCancelled=!animationDetails;animationDetails=animationDetails||{};var parentElement=element.parent()||[],isValidAnimation=parentElement.length>0&&("animate"===animationDetails.event||animationDetails.structural||hasAnimationClasses(animationDetails.options));if(animationCancelled||animationDetails.counter!==counter||!isValidAnimation)return animationCancelled&&(applyAnimationClasses(element,options),applyAnimationStyles(element,options)),(animationCancelled||isStructural&&animationDetails.event!==event)&&(options.domOperation(),runner.end()),void(isValidAnimation||clearElementAnimationState(element));event=!animationDetails.structural&&hasAnimationClasses(animationDetails.options,!0)?"setClass":animationDetails.event,markElementAnimationState(element,RUNNING_STATE);var realRunner=$$animation(element,event,animationDetails.options);realRunner.done(function(status){close(!status);var animationDetails=activeAnimationsLookup.get(node);animationDetails&&animationDetails.counter===counter&&clearElementAnimationState(getDomNode(element)),notifyProgress(runner,event,"close",{})}),runner.setHost(realRunner),notifyProgress(runner,event,"start",{})}),runner}function closeChildAnimations(element){var node=getDomNode(element),children=node.querySelectorAll("["+NG_ANIMATE_ATTR_NAME+"]");forEach(children,function(child){var state=parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME)),animationDetails=activeAnimationsLookup.get(child);switch(state){case RUNNING_STATE:animationDetails.runner.end();case PRE_DIGEST_STATE:animationDetails&&activeAnimationsLookup.remove(child)}})}function clearElementAnimationState(element){var node=getDomNode(element);node.removeAttribute(NG_ANIMATE_ATTR_NAME),activeAnimationsLookup.remove(node)}function isMatchingElement(nodeOrElmA,nodeOrElmB){return getDomNode(nodeOrElmA)===getDomNode(nodeOrElmB)}function areAnimationsAllowed(element,parentElement,event){var animateChildren,bodyElement=jqLite($document[0].body),bodyElementDetected=isMatchingElement(element,bodyElement)||"HTML"===element[0].nodeName,rootElementDetected=isMatchingElement(element,$rootElement),parentAnimationDetected=!1,parentHost=element.data(NG_ANIMATE_PIN_DATA);for(parentHost&&(parentElement=parentHost);parentElement&&parentElement.length;){rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement));var parentNode=parentElement[0];if(parentNode.nodeType!==ELEMENT_NODE)break;var details=activeAnimationsLookup.get(parentNode)||{};if(parentAnimationDetected||(parentAnimationDetected=details.structural||disabledElementsLookup.get(parentNode)),isUndefined(animateChildren)||animateChildren===!0){var value=parentElement.data(NG_ANIMATE_CHILDREN_DATA);isDefined(value)&&(animateChildren=value)}if(parentAnimationDetected&&animateChildren===!1)break;rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement),rootElementDetected||(parentHost=parentElement.data(NG_ANIMATE_PIN_DATA),parentHost&&(parentElement=parentHost))),bodyElementDetected||(bodyElementDetected=isMatchingElement(parentElement,bodyElement)),parentElement=parentElement.parent()}var allowAnimation=!parentAnimationDetected||animateChildren;return allowAnimation&&rootElementDetected&&bodyElementDetected}function markElementAnimationState(element,state,details){details=details||{},details.state=state;var node=getDomNode(element);node.setAttribute(NG_ANIMATE_ATTR_NAME,state);var oldValue=activeAnimationsLookup.get(node),newValue=oldValue?extend(oldValue,details):details;activeAnimationsLookup.put(node,newValue)}var activeAnimationsLookup=new $$HashMap,disabledElementsLookup=new $$HashMap,animationsEnabled=null,deregisterWatch=$rootScope.$watch(function(){return 0===$templateRequest.totalPendingRequests},function(isEmpty){isEmpty&&(deregisterWatch(),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){null===animationsEnabled&&(animationsEnabled=!0)})}))}),callbackRegistry={},classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0},applyAnimationClasses=applyAnimationClassesFactory($$jqLite);
return{on:function(event,container,callback){var node=extractElementNode(container);callbackRegistry[event]=callbackRegistry[event]||[],callbackRegistry[event].push({node:node,callback:callback})},off:function(event,container,callback){function filterFromRegistry(list,matchContainer,matchCallback){var containerNode=extractElementNode(matchContainer);return list.filter(function(entry){var isMatch=entry.node===containerNode&&(!matchCallback||entry.callback===matchCallback);return!isMatch})}var entries=callbackRegistry[event];entries&&(callbackRegistry[event]=1===arguments.length?null:filterFromRegistry(entries,container,callback))},pin:function(element,parentElement){assertArg(isElement(element),"element","not an element"),assertArg(isElement(parentElement),"parentElement","not an element"),element.data(NG_ANIMATE_PIN_DATA,parentElement)},push:function(element,event,options,domOperation){return options=options||{},options.domOperation=domOperation,queueAnimation(element,event,options)},enabled:function(element,bool){var argCount=arguments.length;if(0===argCount)bool=!!animationsEnabled;else{var hasElement=isElement(element);if(hasElement){var node=getDomNode(element),recordExists=disabledElementsLookup.get(node);1===argCount?bool=!recordExists:(bool=!!bool,bool?recordExists&&disabledElementsLookup.remove(node):disabledElementsLookup.put(node,!0))}else bool=animationsEnabled=!!element}return bool}}}]}],$$AnimateAsyncRunFactory=["$$rAF",function($$rAF){function waitForTick(fn){waitQueue.push(fn),waitQueue.length>1||$$rAF(function(){for(var i=0;i<waitQueue.length;i++)waitQueue[i]();waitQueue=[]})}var waitQueue=[];return function(){var passed=!1;return waitForTick(function(){passed=!0}),function(callback){passed?callback():waitForTick(callback)}}}],$$AnimateRunnerFactory=["$q","$sniffer","$$animateAsyncRun",function($q,$sniffer,$$animateAsyncRun){function AnimateRunner(host){this.setHost(host),this._doneCallbacks=[],this._runInAnimationFrame=$$animateAsyncRun(),this._state=0}var INITIAL_STATE=0,DONE_PENDING_STATE=1,DONE_COMPLETE_STATE=2;return AnimateRunner.chain=function(chain,callback){function next(){return index===chain.length?void callback(!0):void chain[index](function(response){return response===!1?void callback(!1):(index++,void next())})}var index=0;next()},AnimateRunner.all=function(runners,callback){function onProgress(response){status=status&&response,++count===runners.length&&callback(status)}var count=0,status=!0;forEach(runners,function(runner){runner.done(onProgress)})},AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){this._state===DONE_COMPLETE_STATE?fn():this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===!1?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},catch:function(handler){return this.getPromise().catch(handler)},finally:function(handler){return this.getPromise().finally(handler)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(response){var self=this;self._state===INITIAL_STATE&&(self._state=DONE_PENDING_STATE,self._runInAnimationFrame(function(){self._resolve(response)}))},_resolve:function(response){this._state!==DONE_COMPLETE_STATE&&(forEach(this._doneCallbacks,function(fn){fn(response)}),this._doneCallbacks.length=0,this._state=DONE_COMPLETE_STATE)}},AnimateRunner}],$$AnimationProvider=["$animateProvider",function($animateProvider){function setRunner(element,runner){element.data(RUNNER_STORAGE_KEY,runner)}function removeRunner(element){element.removeData(RUNNER_STORAGE_KEY)}function getRunner(element){return element.data(RUNNER_STORAGE_KEY)}var NG_ANIMATE_REF_ATTR="ng-animate-ref",drivers=this.drivers=[],RUNNER_STORAGE_KEY="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function($$jqLite,$rootScope,$injector,$$AnimateRunner,$$HashMap,$$rAFScheduler){function sortAnimations(animations){function processNode(entry){if(entry.processed)return entry;entry.processed=!0;var elementNode=entry.domNode,parentNode=elementNode.parentNode;lookup.put(elementNode,entry);for(var parentEntry;parentNode;){if(parentEntry=lookup.get(parentNode)){parentEntry.processed||(parentEntry=processNode(parentEntry));break}parentNode=parentNode.parentNode}return(parentEntry||tree).children.push(entry),entry}function flatten(tree){var i,result=[],queue=[];for(i=0;i<tree.children.length;i++)queue.push(tree.children[i]);var remainingLevelEntries=queue.length,nextLevelEntries=0,row=[];for(i=0;i<queue.length;i++){var entry=queue[i];remainingLevelEntries<=0&&(remainingLevelEntries=nextLevelEntries,nextLevelEntries=0,result.push(row),row=[]),row.push(entry.fn),entry.children.forEach(function(childEntry){nextLevelEntries++,queue.push(childEntry)}),remainingLevelEntries--}return row.length&&result.push(row),result}var i,tree={children:[]},lookup=new $$HashMap;for(i=0;i<animations.length;i++){var animation=animations[i];lookup.put(animation.domNode,animations[i]={domNode:animation.domNode,fn:animation.fn,children:[]})}for(i=0;i<animations.length;i++)processNode(animations[i]);return flatten(tree)}var animationQueue=[],applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,options){function getAnchorNodes(node){var SELECTOR="["+NG_ANIMATE_REF_ATTR+"]",items=node.hasAttribute(NG_ANIMATE_REF_ATTR)?[node]:node.querySelectorAll(SELECTOR),anchors=[];return forEach(items,function(node){var attr=node.getAttribute(NG_ANIMATE_REF_ATTR);attr&&attr.length&&anchors.push(node)}),anchors}function groupAnimations(animations){var preparedAnimations=[],refLookup={};forEach(animations,function(animation,index){var element=animation.element,node=getDomNode(element),event=animation.event,enterOrMove=["enter","move"].indexOf(event)>=0,anchorNodes=animation.structural?getAnchorNodes(node):[];if(anchorNodes.length){var direction=enterOrMove?"to":"from";forEach(anchorNodes,function(anchor){var key=anchor.getAttribute(NG_ANIMATE_REF_ATTR);refLookup[key]=refLookup[key]||{},refLookup[key][direction]={animationID:index,element:jqLite(anchor)}})}else preparedAnimations.push(animation)});var usedIndicesLookup={},anchorGroups={};return forEach(refLookup,function(operations,key){var from=operations.from,to=operations.to;if(!from||!to){var index=from?from.animationID:to.animationID,indexKey=index.toString();return void(usedIndicesLookup[indexKey]||(usedIndicesLookup[indexKey]=!0,preparedAnimations.push(animations[index])))}var fromAnimation=animations[from.animationID],toAnimation=animations[to.animationID],lookupKey=from.animationID.toString();if(!anchorGroups[lookupKey]){var group=anchorGroups[lookupKey]={structural:!0,beforeStart:function(){fromAnimation.beforeStart(),toAnimation.beforeStart()},close:function(){fromAnimation.close(),toAnimation.close()},classes:cssClassesIntersection(fromAnimation.classes,toAnimation.classes),from:fromAnimation,to:toAnimation,anchors:[]};group.classes.length?preparedAnimations.push(group):(preparedAnimations.push(fromAnimation),preparedAnimations.push(toAnimation))}anchorGroups[lookupKey].anchors.push({out:from.element,in:to.element})}),preparedAnimations}function cssClassesIntersection(a,b){a=a.split(" "),b=b.split(" ");for(var matches=[],i=0;i<a.length;i++){var aa=a[i];if("ng-"!==aa.substring(0,3))for(var j=0;j<b.length;j++)if(aa===b[j]){matches.push(aa);break}}return matches.join(" ")}function invokeFirstDriver(animationDetails){for(var i=drivers.length-1;i>=0;i--){var driverName=drivers[i];if($injector.has(driverName)){var factory=$injector.get(driverName),driver=factory(animationDetails);if(driver)return driver}}}function beforeStart(){element.addClass(NG_ANIMATE_CLASSNAME),tempClasses&&$$jqLite.addClass(element,tempClasses)}function updateAnimationRunners(animation,newRunner){function update(element){getRunner(element).setHost(newRunner)}animation.from&&animation.to?(update(animation.from.element),update(animation.to.element)):update(animation.element)}function handleDestroyedElement(){var runner=getRunner(element);!runner||"leave"===event&&options.$$domOperationFired||runner.end()}function close(rejected){element.off("$destroy",handleDestroyedElement),removeRunner(element),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),tempClasses&&$$jqLite.removeClass(element,tempClasses),element.removeClass(NG_ANIMATE_CLASSNAME),runner.complete(!rejected)}options=prepareAnimationOptions(options);var isStructural=["enter","move","leave"].indexOf(event)>=0,runner=new $$AnimateRunner({end:function(){close()},cancel:function(){close(!0)}});if(!drivers.length)return close(),runner;setRunner(element,runner);var classes=mergeClasses(element.attr("class"),mergeClasses(options.addClass,options.removeClass)),tempClasses=options.tempClasses;return tempClasses&&(classes+=" "+tempClasses,options.tempClasses=null),animationQueue.push({element:element,classes:classes,event:event,structural:isStructural,options:options,beforeStart:beforeStart,close:close}),element.on("$destroy",handleDestroyedElement),animationQueue.length>1?runner:($rootScope.$$postDigest(function(){var animations=[];forEach(animationQueue,function(entry){getRunner(entry.element)?animations.push(entry):entry.close()}),animationQueue.length=0;var groupedAnimations=groupAnimations(animations),toBeSortedAnimations=[];forEach(groupedAnimations,function(animationEntry){toBeSortedAnimations.push({domNode:getDomNode(animationEntry.from?animationEntry.from.element:animationEntry.element),fn:function(){animationEntry.beforeStart();var startAnimationFn,closeFn=animationEntry.close,targetElement=animationEntry.anchors?animationEntry.from.element||animationEntry.to.element:animationEntry.element;if(getRunner(targetElement)){var operation=invokeFirstDriver(animationEntry);operation&&(startAnimationFn=operation.start)}if(startAnimationFn){var animationRunner=startAnimationFn();animationRunner.done(function(status){closeFn(!status)}),updateAnimationRunners(animationEntry,animationRunner)}else closeFn()}})}),$$rAFScheduler(sortAnimations(toBeSortedAnimations))}),runner)}}]}];angular.module("ngAnimate",[]).directive("ngAnimateChildren",$$AnimateChildrenDirective).factory("$$rAFScheduler",$$rAFSchedulerFactory).factory("$$AnimateRunner",$$AnimateRunnerFactory).factory("$$animateAsyncRun",$$AnimateAsyncRunFactory).provider("$$animateQueue",$$AnimateQueueProvider).provider("$$animation",$$AnimationProvider).provider("$animateCss",$AnimateCssProvider).provider("$$animateCssDriver",$$AnimateCssDriverProvider).provider("$$animateJs",$$AnimateJsProvider).provider("$$animateJsDriver",$$AnimateJsDriverProvider)}(window,window.angular),window.fmGetTimeDiff=function(startTime,endTime){var startTime="undefined"!=typeof startTime?startTime:"2014-01-01 01:02:03.123456",endTime="undefined"!=typeof endTime?endTime:new Date,diff=new Date(endTime).getTime()-new Date(startTime).getTime(),msec=diff,hh=Math.floor(msec/1e3/60/60);msec-=1e3*hh*60*60;var mm=Math.floor(msec/1e3/60);msec-=1e3*mm*60;var ss=Math.floor(msec/1e3);return msec-=1e3*ss,hh+":"+mm+":"+ss+":"+msec};var SCROLL_BAR_WIDTH=getScrollBarWidth();!function($){$.fn.carousel=function(images,time,persistAlreadyExistingDOM,banners){function fireGAEvent(category,action,label,value,source){var data={event:"customEvent",category:category,action:action};label&&(data.label=label),value&&(data.value=value),source&&(data.source=source),console.log("---------------GA Event------------","Category:",category,", Action:",action,", Label:",label,", Value:",value,", Source:",source),dataLayer.push(data)}var dist,startX,startY,startTime,self=$(this),dots=($(this),[]),items=[],bottom=null,interval=null,activeDot=0,nextTimeout=null,prevTimeout=null,_prevClear=null,_nextClear=null,intervalNext=null,cooldown=!1,length=0,allowedTime=5e3,threshold=30,that=this;return this.addDots=function(){bottom=$("<div></div>"),bottom.addClass("dots"),self.append(bottom),_.forEach(images,function(image,i){var dot=$("<span></span>");0==i&&dot.addClass("active"),dots.push(dot),bottom.append(dot),dot.bind("click",function(){i>activeDot&&this.next(i),i<activeDot&&this.prev(i)}.bind(this))}.bind(this))},this.addItems=function(){var _getCategoriesMatchedObj=function(collectionIds){var matchedCategories=[];return _.each(collectionIds,function(collectionWithId){var matchedCategory=_.find(window.menu.collections,function(collection){return collectionWithId.id==collection.id});matchedCategory&&matchedCategories.push(matchedCategory)}),{matchedCategories:matchedCategories,isMatcheCategory:matchedCategories.length>0}};_.forEach(images,function(image,i){var itemDom;banners&&banners.length>0&&banners[i]&&(banners[i].cta||"VIDEO"==banners[i].mealType)?(itemDom='<img style="cursor:pointer" src="',"VIDEO"==banners[i].mealType&&($("#fm-banner-video").bind("play",function(e){window.clevertap.event.push("Clicked",{action:"play video"})}),$("#fm-banner-video").bind("pause",function(e){window.clevertap.event.push("Clicked",{action:"pause video"})}),$("#fm-banner-video").bind("ended",function(){window.MODAL_VIDEO_BANNER_POPUP.hide()}))):itemDom=banners&&banners.length>0&&banners[i]&&banners[i].tx&&("CORPORATE_BANNER"==banners[i].tx||"AMAZON_BANNER"==banners[i].tx)?'<img style = "cursor:pointer" src="':'<img src="';var item=$(itemDom+image+'"/>');item.addClass("item"),0==i&&item.addClass("active"),items.push(item),self.append(item),item.on("click",function(){if(fireGAEvent("Menu","click","banner",i,banners[i].cta?banners[i].cta.productId:null),banners&&banners.length>0&&banners[i]&&banners[i].cta){var categoryMatchedObj=_getCategoriesMatchedObj(banners[i].cta.categoryId);categoryMatchedObj.isMatcheCategory?angular.element(document.getElementById("mainController")).scope().setCollection(categoryMatchedObj.matchedCategories[0]):banners[i].cta.productId&&angular.element(document.getElementById("mainController")).scope().handleProductDetailsDisplayForBanner(banners[i].cta.productId)}banners&&banners.length>0&&banners[i]&&banners[i].tx&&"CORPORATE_BANNER"==banners[i].tx&&angular.element(document.getElementById("mainController")).scope().redirectToCorporate(),banners&&banners.length>0&&banners[i]&&banners[i].tx&&"AMAZON_BANNER"==banners[i].tx&&angular.element(document.getElementById("mainController")).scope().redirectToAmazonPage(),banners&&banners.length>0&&banners[i]&&banners[i].cta&&banners[i].cta.pageId&&"16"==banners[i].cta.pageId&&angular.element(document.getElementById("mainController")).scope().redirectToClub(),banners&&banners.length>0&&banners[i]&&banners[i].mealType&&"VIDEO"==banners[i].mealType&&(angular.element(document.getElementById("mainController")).scope().setVideoBannerIndex(i),window.MODAL_VIDEO_BANNER_POPUP.show())}),item.on("touchstart",function(e){var touchobj=e.originalEvent.changedTouches[0];dist=0,startX=touchobj.pageX,startY=touchobj.pageY,startTime=(new Date).getTime()}),item.on("touchend",function(e){var touchobj=e.originalEvent.changedTouches[0];dist=touchobj.pageX-startX;var elapsedTime=(new Date).getTime()-startTime;if(elapsedTime<=allowedTime&&Math.abs(dist)>=threshold&&Math.abs(touchobj.pageY-startY)<=100){var swiperightBol=dist>0;if(e.preventDefault(),images.length<2)return;swiperightBol?i-1>=0&&(clearInterval(interval),that.prev(i-1)):i+1<images.length&&(that.next(i+1),clearInterval(interval))}})})},this.preload=function(callback){var i=0;$(images).each(function(){var img=$("<img/>")[0];img.onload=function(){i++,i==images.length&&callback()},img.src=this})},this.setCooldown=function(){cooldown=!0,setTimeout(function(){cooldown=!1},1e3)},this.next=function(i){cooldown||(this.setCooldown(),this.clearAll(),setTimeout(function(){var current=activeDot;_.isUndefined(i)?activeDot++:activeDot=i,activeDot==length&&(activeDot=0),bottom.find("span.active").removeClass("active"),bottom.children("span").eq(activeDot).addClass("active");var item=self.children("img.item").eq(current),next=self.children("img.item").eq(activeDot);next.addClass("next"),setTimeout(function(){item.addClass("left"),next.addClass("left")},10),_nextClear=function(){item.removeClass("active"),item.removeClass("left"),next.removeClass("left"),next.removeClass("next"),next.addClass("active"),item.css("position",""),_nextClear=null},setTimeout(function(){_nextClear&&_nextClear()}.bind(this),1050)}.bind(this)))},this.prev=function(i){cooldown||(this.setCooldown(),this.clearAll(),setTimeout(function(){var current=activeDot;_.isUndefined(i)?activeDot--:activeDot=i,activeDot<0&&(activeDot=length-1),bottom.find("span.active").removeClass("active"),bottom.children("span").eq(activeDot).addClass("active");var item=self.children("img.item").eq(current),prev=self.children("img.item").eq(activeDot);prev.addClass("prev"),setTimeout(function(){item.addClass("right"),prev.addClass("right")},1),_prevClear=function(){item.removeClass("active"),item.removeClass("right"),prev.removeClass("right"),prev.removeClass("prev"),prev.addClass("active"),item.css("position",""),_prevClear=null},prevTimeout=setTimeout(function(){_prevClear()}.bind(this),1050)}.bind(this)))},this.clearNext=function(){_.isNull(nextTimeout)||_.isNull(_nextClear)||(clearTimeout(nextTimeout),_nextClear())},this.clearPrev=function(){_.isNull(prevTimeout)||_.isNull(_prevClear)||(clearTimeout(prevTimeout),_prevClear())},this.clearAll=function(){this.clearNext(),this.clearPrev()},this.setInterval=function(){self.removeClass("loading"),self.addClass("preloaded"),intervalNext=function(){this.next()}.bind(this),interval=setInterval(intervalNext,time),window.carouselIntervalFnId=interval},this.addNav=function(){var navLeft=$("<div></div>"),navRight=$("<div></div>");navLeft.addClass("carousel-nav"),navLeft.addClass("left"),navRight.addClass("carousel-nav"),navRight.addClass("right"),self.parent().append(navLeft),self.parent().append(navRight),navLeft.on("click",function(){this.prev(),fireGAEvent("Menu","click","banner_backward_swipe"),clearInterval(interval)}.bind(this)),navRight.on("click",function(){this.next(),fireGAEvent("Menu","click","banner_forward_swipe"),clearInterval(interval)}.bind(this))},this.init=function(){_.isNull(images)?(length=self.children("img.item").length,bottom=self.find("div.dots"),window.carouselIntervalFnId&&(clearInterval(window.carouselIntervalFnId),window.carouselIntervalFnId=0),length>1&&this.addNav(),length>1&&this.setInterval()):($(self).find(".item").remove(),$(self).find("img").remove(),length=images.length,this.addItems(),length>1&&this.addDots(),length>1&&this.addNav(),window.carouselIntervalFnId&&(clearInterval(window.carouselIntervalFnId),window.carouselIntervalFnId=0),this.preload(function(){length>1&&this.setInterval()}.bind(this)))},self.length&&!persistAlreadyExistingDOM&&(self.find(".item").remove(),self.find(".dots").remove(),self.parent().find(".carousel-nav").remove()),(self.length||persistAlreadyExistingDOM)&&this.init(),this}}(jQuery),function($){$.fn.fmCommonCarousel=function(images,time,persistAlreadyExistingDOM,banners){var self=$(this),dots=($(this),[]),bottom=null,interval=null,activeDot=0,nextTimeout=null,prevTimeout=null,_prevClear2=null,_nextClear2=null,intervalNext=null,cooldown=!1,length=0;return this.addDots=function(){bottom=$("<div></div>"),bottom.addClass("dots"),self.append(bottom),_.forEach(images,function(image,i){var dot=$("<span></span>");0==i&&dot.addClass("active"),dots.push(dot),bottom.append(dot),dot.bind("click",function(){i>activeDot&&this.next(i),i<activeDot&&this.prev(i)}.bind(this))}.bind(this))},this.setCooldown=function(){cooldown=!0,setTimeout(function(){cooldown=!1},1e3)},this.next=function(i){cooldown||(this.setCooldown(),this.clearAll(),setTimeout(function(){var current=activeDot;_.isUndefined(i)?activeDot++:activeDot=i,activeDot==length&&(activeDot=0),bottom.find("span.active").removeClass("active"),bottom.children("span").eq(activeDot).addClass("active");var item=self.children(".item").eq(current),next=self.children(".item").eq(activeDot);next.addClass("next"),setTimeout(function(){item.addClass("left"),next.addClass("left")},10),_nextClear2=function(){item.removeClass("active"),item.removeClass("left"),next.removeClass("left"),next.removeClass("next"),next.addClass("active"),item.css("position",""),_nextClear2=null},setTimeout(function(){_nextClear2&&_nextClear2()}.bind(this),1050)}.bind(this)))},this.prev=function(i){cooldown||(this.setCooldown(),this.clearAll(),setTimeout(function(){var current=activeDot;_.isUndefined(i)?activeDot--:activeDot=i,activeDot<0&&(activeDot=length-1),bottom.find("span.active").removeClass("active"),bottom.children("span").eq(activeDot).addClass("active");var item=self.children(".item").eq(current),prev=self.children(".item").eq(activeDot);prev.addClass("prev"),setTimeout(function(){item.addClass("right"),prev.addClass("right")},1),_prevClear2=function(){item.removeClass("active"),item.removeClass("right"),prev.removeClass("right"),prev.removeClass("prev"),prev.addClass("active"),item.css("position",""),_prevClear2=null},prevTimeout=setTimeout(function(){_prevClear2()}.bind(this),1050)}.bind(this)))},this.clearNext=function(){_.isNull(nextTimeout)||_.isNull(_nextClear2)||(clearTimeout(nextTimeout),_nextClear2())},this.clearPrev=function(){_.isNull(prevTimeout)||_.isNull(_prevClear2)||(clearTimeout(prevTimeout),_prevClear2())},this.clearAll=function(){this.clearNext(),this.clearPrev()},this.setInterval=function(){self.removeClass("loading"),self.addClass("preloaded"),intervalNext=function(){this.next()}.bind(this),interval=setInterval(intervalNext,time),window.carouselIntervalFnId=interval},this.addNav=function(){var navLeft=$("<div></div>"),navRight=$("<div></div>");navLeft.addClass("carousel-nav"),navLeft.addClass("left"),navRight.addClass("carousel-nav"),navRight.addClass("right"),self.parent().append(navLeft),self.parent().append(navRight),navLeft.on("click",function(){this.prev(),clearInterval(interval)}.bind(this)),navRight.on("click",function(){this.next(),clearInterval(interval)}.bind(this))},this.init=function(){length=self.children("img.item").length?self.children("img.item").length:self.children(".item").length,bottom=self.find("div.dots"),window.carouselIntervalFnId&&(clearInterval(window.carouselIntervalFnId),window.carouselIntervalFnId=0),length>1&&this.addNav(),length>1&&this.setInterval()},self.length&&!persistAlreadyExistingDOM&&(self.find(".item").remove(),self.find(".dots").remove(),self.find(".carousel-nav").remove()),(self.length||persistAlreadyExistingDOM)&&this.init(),this}}(jQuery),function($){$.fn.keepAtWindowHeight=function(callback){var self=this,element=$(this);return this.setHeight=function(){element.css("height",$(window).height()-200+"px"),callback&&callback()},$(window).bind("resize",function(){self.setHeight()}),this.setHeight(),this}}(jQuery),function($){$.fn.menu=function(toggle,isSideMenu,noOverlay){var self=this;return this.menu=$(this),this.isSideMenu=isSideMenu,this.noOverlay=noOverlay,this.trigger=void 0,this.openCallbacks=[],this.closeCallbacks=[],$(toggle).click(function(e){e.preventDefault(),self.toggle(this)}),this.show=function(trigger){var self=this;setTimeout(function(){self.menu.hasClass("dark-overlay")&&$(".overlay").addClass("dark-overlay"),_.forEach(self.openCallbacks,function(action){action(self.el)}),$(self).addClass("transition"),$("html").css("overflow","hidden"),$("html").css("padding-right",SCROLL_BAR_WIDTH+"px"),$(".gradient nav").css("padding-right",SCROLL_BAR_WIDTH+10+"px"),self.isSideMenu?$(".overlay").bind("click",self.hide):($(self).css("margin-right","-"+SCROLL_BAR_WIDTH+"px"),$("html").scrollTop(0),$("body").scrollTop(0),_.isUndefined(trigger)||($(trigger).addClass("hovered"),$(trigger).closest("nav").addClass("in-front"),self.trigger=trigger)),self.noOverlay||$(".overlay").addClass("active"),self.menu.addClass("open")},5)},this.hide=function(trigger,callback){self.menu.hasClass("open")&&(self.menu.hasClass("dark-overlay")&&$(".overlay").removeClass("dark-overlay"),_.forEach(self.closeCallbacks,function(action){action()}),self.menu.removeClass("open"),$(".overlay").removeClass("active"),$(".overlay").unbind("click",this.hide),setTimeout(function(){$("html").css("padding-right",""),$(self).css("margin-right",""),$(".gradient nav").css("padding-right",""),$("html").css("overflow",""),_.isUndefined(trigger)||($(self.trigger).removeClass("hovered"),$(self.trigger).closest("nav").removeClass("in-front"),self.trigger=void 0),callback&&callback()},300))},this.toggle=function(trigger){self.menu.hasClass("open")?this.hide(trigger):this.show(trigger)},this}}(jQuery),function($){$.fn.setToWidowHeight=function(){return this.height(window.innerHeight),this}}(jQuery),function($){$.fn.addClassWhenInView=function(trigger,cls){var self=this;return this.checkScroll=function(){$(trigger).offset()&&(console.log($(trigger).offset()),$("body").scrollTop()+$(window).height()-$(trigger).offset().top<0?$(self).addClass(cls):$(self).removeClass(cls))},$(window).bind("scroll",function(){self.checkScroll()}),self.checkScroll(),this}}(jQuery),function($){$.fn.fixedOnScroll=function(attr,top){var self=this;return this.el=$(this),this.fixed=!1,this.initialScroll=top?top:this.el.offset()?this.el.offset().top:0,this.placeholder=$("<div></div>"),this.hasAttr=document.body.hasAttribute(attr),this.getOffsetTop=function(){return this.fixed?this.placeholder.offset()?this.placeholder.offset().top:0:this.el.offset()?this.el.offset().top:0},this.checkScroll=function(){this.hasAttr||($(document).scrollTop()>this.getOffsetTop()?this.fixed||(this.fixed=!0,this.el.addClass("fixed"),this.addPlaceholder()):this.fixed&&(this.fixed=!1,this.el.removeClass("fixed"),this.removePlaceholder()))},this.setScrollEvent=function(){$(window).scroll(function(){self.checkScroll()})},this.addPlaceholder=function(){this.placeholder.height(this.el.outerHeight()),this.el.before(this.placeholder)},this.removePlaceholder=function(){this.placeholder.remove()},this.setScrollEvent(),this.checkScroll(),this}}(jQuery),function($){$.fn.femuToggleClass=function(cls,closeOnBlur){var self=this;return this.el=$(this),this.show=function(){this.el.addClass(cls)},this.hide=function(){this.el.removeClass(cls)},this.toggle=function(){this.el.hasClass(cls)?this.hide():this.show()},closeOnBlur&&$(window).click(function(){self.hide()}),this.el.click(function(e){self.toggle(),e.stopPropagation(),e.preventDefault()}),this}}(jQuery),function($){$.fn.femuToggleClassForNav=function(cls,closeOnBlur){var self=this;return this.el=$(this),this.show=function(){this.el.addClass(cls)},this.hide=function(){this.el.removeClass(cls)},this.toggle=function(){this.el.hasClass(cls)?this.hide():this.show()},closeOnBlur&&(this.el.click(function(e){e.stopPropagation()}),$(window).click(function(){self.hide()})),this.el.click(function(e){self.toggle()}),this}}(jQuery),function($){$.fn.modal=function(toggleTrigger){function closeModalOnEsc(e){27===e.keyCode&&self.hide()}var self=this;return this.el=$(this),this.modalOverlayCloseEventActions=[],this.closeCallbacks=[],this.openCallbacks=[],this.show=function(){setTimeout(function(){self.el.find("input")[0]&&self.el.find("input")[0].focus()}),_.forEach(self.openCallbacks,function(action){action(self.el)}),$("html").css("padding-right",SCROLL_BAR_WIDTH+"px"),$(".gradient nav").css("padding-right",SCROLL_BAR_WIDTH+10+"px"),$("html").css("overflow","hidden"),$(this).addClass("open"),$(".overlay").addClass("active"),this.hasClass("no-overlay-close")||"#video-banner-popup"==$(this).selector||$(this).bind("click",this.hide).children().click(function(e){return"mailto:order@freshmenu.com?subject=support"==$(e.target).attr("href")||"/terms-and-conditions"==$(e.target).attr("href")||"/privacy-policy"==$(e.target).attr("href")}),window.document.addEventListener("keydown",closeModalOnEsc)},this.hide=function(keepOverlay,fromTrigger){$(this).removeClass("open"),$(this).unbind("click",this.hide),"boolean"==typeof keepOverlay&&keepOverlay||($("html").css("padding-right",""),$(".gradient nav").css("padding-right",""),$("html").css("overflow",""),$(".overlay").removeClass("active")),1!=fromTrigger&&_.forEach(self.modalOverlayCloseEventActions,function(action){action(self.el)}),_.forEach(self.closeCallbacks,function(action){action()}),window.document.removeEventListener("keydown",closeModalOnEsc)},this.toggle=function(keepOverlay,fromTrigger){this.el.hasClass("open")?this.hide(keepOverlay,fromTrigger):self.show()},$(toggleTrigger).click(function(e){e.preventDefault(),self.toggle($(e.target).hasClass("keep-overlay"),!0)}),this}}(jQuery),window.loadExternalScripts=function(){},$(document).ready(function(){$(document).click(function(e){if(0==$(e.target).closest("div#fm-filter-by-desktop").length){var scope=angular.element(document.getElementById("mainController")).scope();void 0!==scope&&scope.$apply(function(){scope.toggleFmFilterState=!1})}e.target&&e.target.classList&&e.target.classList.value&&e.target.classList.value.split(" ").indexOf("logged-in-nav-bar")<0&&e.target.classList.value.split(" ").indexOf("fm-header-name")<0&&e.target.classList.value.split(" ").indexOf("fm-name-header")<0&&e.target.classList.value.split(" ").indexOf("fm-down-arrow")<0&&$("#user-dropdown").removeClass("active")})}),$(window).scroll(function(){$("#user-dropdown").removeClass("active")});var app=angular.module("App",[]);app.config(["$httpProvider",function($httpProvider){$httpProvider.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",$httpProvider.defaults.headers.common["Cache-Control"]="no-cache",$httpProvider.defaults.headers.common.Pragma="no-cache",$httpProvider.defaults.headers.common["If-Modified-Since"]="0"}]),$("#user-dropdown").femuToggleClassForNav("active");var MODAL_DOWNLOAD_APP=$("#modal_download_app").modal(".toggle-modal-download-app");window.MODAL_SUPPORT=$("#modal-support").modal(".toggle-modal-support"),window.MODAL_LOGIN_JOIN=$("#modal-login-join").modal(".toggle-modal-login-join"),window.MODAL_REGISTER_JOIN=$("#modal-register-join").modal(".toggle-modal-register-join"),window.MODAL_LOGIN=$("#modal-login").modal(".toggle-modal-login"),window.MODAL_REGISTER_CHOISE=$("#modal-register").modal(".toggle-modal-register"),window.MODAL_REGISTER_EMAIL=$("#modal-register-email").modal(".toggle-modal-register-email"),window.MODAL_FORGOT_PASSWORD=$("#forgot-password").modal(".toggle-forgot-password"),window.MODAL_MOBILE_VERIFICATION=$("#modal-mobile-verification").modal(".toggle-modal-mobile-verification"),MODAL_FORGOT_PASSWORD.openCallbacks.push(function(){MODAL_LOGIN.hide()}),MODAL_LOGIN.closeCallbacks.push(function(){dataLayer.push({event:"dismissLoginModal"})}),MODAL_REGISTER_EMAIL.closeCallbacks.push(function(){dataLayer.push({event:"dismissSignUpModal"})}),function(){app.service("SimplPaymentService",["$window",function($window){var initiateApproval,initiateClickOnSimplBtn,initiateFailureCb,initiateSuccessCb;this.initiate=function(){return window.Simpl.setTarget(document.getElementById("simpl-checkout")),initiateApproval(),initiateClickOnSimplBtn(),initiateSuccessCb(),initiateFailureCb()},initiateApproval=function(){var errorCb,successCb,simplPaymentElem;return simplPaymentElem=$(".simpl-option"),successCb=function(r){window.simplPaymentOptionApproved=!0,simplPaymentElem.removeClass("hide"),simplPaymentElem.addClass("show"),dataLayer.push({event:"customEvent",action:"Simpl",label:"Visible",value:1})},errorCb=function(e){window.simplPaymentOptionApproved=!1,simplPaymentElem.removeClass("show"),simplPaymentElem.addClass("hide")},$window.Simpl.on("approval",successCb,errorCb)},initiateClickOnSimplBtn=function(){var cb;return cb=function(){return!!$window.validateCheckout()||($window.handleInitiatePaymentFailureForSimpl(),
!1)},$window.Simpl.on("click",cb)},initiateSuccessCb=function(){var cb;return cb=function(response){return"success"===response.status&&null!=response.transaction_token?$window.createOrderForSimpl(response.transaction_token):$window.handleInitiatePaymentFailure()},$window.Simpl.on("success",cb)},initiateFailureCb=function(){var cb;return cb=function(response){return $window.handleInitiatePaymentFailure("transaction_fail")},$window.Simpl.on("error",cb)}}])}.call(void 0),app.factory("$localstorage",["$window",function($window){return{set:function(key,value){$window.localStorage[key]=value},get:function(key,defaultValue){return $window.localStorage[key]||defaultValue},setObject:function(key,value){$window.localStorage[key]=JSON.stringify(value)},getObject:function(key){return JSON.parse($window.localStorage[key]||"{}")},removeItem:function(key){$window.localStorage.removeItem(key)}}}]),app.service("TrackingService",["$window",function($window){var _getUserName,_getUserIdentity,_postEvent;this.postSignInEvent=function(user){_setUserInfo({user:user}),_postEvent("Checkout clicked",user)},this.postSignUpEvent=function(user){_setUserInfo({user:user}),_postEvent("Sign up",user)},this.postEvent=function(eventName,data,user){var postData;postData=_.extend({},data),_removeInnerObjects(postData),window.trackingCode&&(postData.experiment_id=window.trackingCode),postData.app_version="2.2",/Mobi/.test(navigator.userAgent)?postData.fm_channel="MOBILE_APP":postData.fm_channel="WEBSITE","Sign up"!=eventName&&"Login"!=eventName&&"User identified"!=eventName||"Success"!=data.Status||!user||(user&&user.id&&user.primeStatus&&(postData["Club status"]=user.primeStatus),_setUserInfo(user)),window.thirdPartyApp&&""!=window.thirdPartyApp&&(postData.utm_campaign=window.thirdPartyApp),$window.clevertap.event.push(eventName,postData)},this.trackPageVisitsOfPage=function(page){var viewedObj={};viewedObj.screenName=page,_postEvent("Screen Visited",viewedObj)},_initTrackingService=function(){$window.clevertap={event:[],profile:[],account:[],notifications:[]},$window.clevertap.account.push({id:window.clevertap_key}),$window.clevertap.enablePersonalization=!0,clevertap.notifications.push({skipDialog:!0,askAgainTimeInSeconds:86400}),function(){var wzrk=document.createElement("script");wzrk.type="text/javascript",wzrk.async=!0,wzrk.src=("https:"==document.location.protocol?"https://d2r1yp2w7bby2u.cloudfront.net":"http://static.clevertap.com")+"/js/a.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(wzrk,s)}()},_trackPageVisits=function(){var path=document.location.pathname,page=path.substring(path.indexOf("/"));if("/"!=page){var viewedObj={};viewedObj.screenName=page;var queryParams=document.location.search.trim();if(queryParams.length){queryParams=queryParams.substring(1);for(var queryParamsList=queryParams.split("&"),i=0;i<queryParamsList.length;i++)queryParamsList[i].split("=")&&queryParamsList[i].split("=").length&&2==queryParamsList[i].split("=").length&&(viewedObj[queryParamsList[i].split("=")[0]]=queryParamsList[i].split("=")[1])}_postEvent("Screen Visited",viewedObj)}else setTimeout(function(){dataLayer.push({event:"fireRemarketingTag",google_tag_params:{dynx_pagetype:"home"}})},4e4)},_trackPageVisitsOfPage=function(page){var viewedObj={};viewedObj.screenName=page,_postEvent("Screen Visited",viewedObj)},_getUserName=function(user){var firstName,lastName,userName;return userName="",null!=user&&user&&(firstName=user.firstName,lastName=user.lastName,firstName&&lastName||firstName&&""==lastName?userName=firstName+" "+lastName:firstName?userName=firstName:lastName?userName=lastName:user.emailAddress?userName=user.emailAddress.split("@")[0]:user.email&&(userName=user.email.split("@")[0])),userName},_getUserIdentity=function(user){var email;return email="",null!=user&&user.email&&(email=user.email),email},_getPhoneNUmber=function(phoneNumer){return phoneNumer&&10==phoneNumer.length&&(phoneNumer="+91"+phoneNumer),phoneNumer},_getCustomerType=function(user){return user&&user.corporateAccountStatus&&"active"==user.corporateAccountStatus?"corporate":"normal"},_getCorporateId=function(user){return user.corporateId?user.corporateId:0},_getClubStatus=function(user){return user&&user.primeStatus&&""!=user.primeStatus?user.primeStatus:""},_postEvent=function(eventName,data,user){var postData;postData=_.extend({},data),_removeInnerObjects(postData),window.trackingCode&&(postData.experiment_id=window.trackingCode),postData.app_version="2.2",/Mobi/.test(navigator.userAgent)?postData.fm_channel="MOBILE_APP":postData.fm_channel="WEBSITE","Sign up"!=eventName&&"Login"!=eventName&&"User identified"!=eventName||"Success"!=data.Status||!user||(user&&user.id&&user.primeStatus&&(postData["Club status"]=user.primeStatus),_setUserInfo(user)),window.thirdPartyApp&&""!=window.thirdPartyApp&&(postData.utm_campaign=window.thirdPartyApp),$window.clevertap.event.push(eventName,postData)},_removeInnerObjects=function(data){for(var property in data)("[object Object]"==Object.prototype.toString.call(data[property])||_.isArray(data[property]))&&delete data[property]},_setUserInfo=function(user){setTimeout(function(){$window.clevertap.profile.push({Site:{Name:_getUserName(user),Identity:_getUserIdentity(user),Email:_getUserIdentity(user),Phone:_getPhoneNUmber(user.mobileNumber),"Customer Type":_getCustomerType(user),corporate_id:_getCorporateId(user),"MSG-email":!0,"MSG-push":!0,"MSG-sms":!0,"Club Eligible":_getClubStatus(user)}})},5e3)},this._setUserInfo=function(user){$window.clevertap.profile.push({Site:{Name:_getUserName(user),Identity:_getUserIdentity(user),Email:_getUserIdentity(user),Phone:_getPhoneNUmber(user.mobileNumber),"Customer Type":_getCustomerType(user),corporate_id:_getCorporateId(user),"MSG-email":!0,"MSG-push":!0,"MSG-sms":!0,"Club Eligible":_getClubStatus(user)}})},this.fetchCatalogueEvent=function(data,currentLocation){setTimeout(function(){data&&data.serviceability&&1==data.serviceability.serviceable&&currentLocation&&currentLocation.addressLine2&&currentLocation.addressLine2.length>0&&!data.catalogueOOS?this.postEvent("Menu list available",{fc_name:data.fulfillmentCenter&&data.fulfillmentCenter.name?data.fulfillmentCenter.name:"",fc_id:data.fulfillmentCenter&&data.fulfillmentCenter.id?data.fulfillmentCenter.id:"",lat:data.serviceability.addressDTO&&data.serviceability.addressDTO.lat?data.serviceability.addressDTO.lat:"",long:data.serviceability.addressDTO&&data.serviceability.addressDTO.lon?data.serviceability.addressDTO.lon:"",menu_version:data&&data.menuVersion?data.menuVersion:"",app_version:"2.2","NUP Eligible":!(!data||!data.psd||"NEW_USER_ELIGIBLE"!==data.psd.wt&&"NEW_USER"!==data.psd.wt),"corporate enabled":!(!data||!data.cm||"corp_disc_available"!=data.cm),"Club Eligible":data&&data.u&&data.u.primeStatus&&""!=data.u.primeStatus?data.u.primeStatus:""}):data&&data.catalogueOOS?this.postEvent("Menu list unavailable",{Status:"Failed",Reason:"Stocked out",menu_version:data&&data.menuVersion?data.menuVersion:"",lat:data.serviceability.addressDTO&&data.serviceability.addressDTO.lat?data.serviceability.addressDTO.lat:"",long:data.serviceability.addressDTO&&data.serviceability.addressDTO.lon?data.serviceability.addressDTO.lon:"",fc_id:data.fulfillmentCenter?data.fulfillmentCenter.id:"",fc_name:data.fulfillmentCenter?data.fulfillmentCenter.name:""}):this.postEvent("Menu list unavailable",{Status:"Failed",Reason:data&&data.serviceability&&data.serviceability.reasonDescription?data.serviceability.reasonDescription:"",menu_version:data&&data.menuVersion?data.menuVersion:""})}.bind(this),5e3)};var _addOpenCallBackEvents=function(obj,eventName){"undefined"!=typeof obj&&obj.openCallbacks.push(function(){_trackPageVisitsOfPage(eventName)})};"undefined"!=typeof MODAL_REGISTER_EMAIL&&_addOpenCallBackEvents(MODAL_REGISTER_EMAIL,"Sign up pop up"),"undefined"!=typeof MODAL_LOGIN&&_addOpenCallBackEvents(MODAL_LOGIN,"Login"),"undefined"!=typeof MODAL_SUPPORT&&_addOpenCallBackEvents(MODAL_SUPPORT,"/support"),"undefined"!=typeof MENU_CART&&_addOpenCallBackEvents(MENU_CART,"/cart"),_initTrackingService(),_trackPageVisits()}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};app.service("MenuLiteService",["$window",function($window){var _menuLiteConversionMa,menuLiteConversionMap=(_menuLiteConversionMa={cc:"collections",s:"serviceability",fc:"fulfillmentCenter",bns:"banners",i:"id",n:"name",sn:"sequenceNumber",sd:"scheduledDate",pl:"products",t:"title",st:"subTitle",d:"details",mt:"mealType",lc:"likesCount",c:"categories",cu:"cuisine",md:"menuDate",itm:"isTodaysMenu",ia:"isAvailable",im:"iosMin",moq:"maxOrderQuantity",dm:"deliveryMessage",il:"isLiked",pdt:"deliveryTimings",bd:"bannerDTO",iv:"isVisible",p:"sellingPrice",mrp:"marketPrice",ipo:"isPreOrder",ibp:"imageBasePath",am:"androidMin"},_defineProperty(_menuLiteConversionMa,"il","isLiked"),_defineProperty(_menuLiteConversionMa,"moq","maxOrderQuantity"),_defineProperty(_menuLiteConversionMa,"slg","slug"),_defineProperty(_menuLiteConversionMa,"mver","menuVersion"),_defineProperty(_menuLiteConversionMa,"mdt","maxDeliveryTime"),_defineProperty(_menuLiteConversionMa,"ms","message"),_defineProperty(_menuLiteConversionMa,"mr","tagsList"),_defineProperty(_menuLiteConversionMa,"shd","shortDescription"),_defineProperty(_menuLiteConversionMa,"ds","collectionDescription"),_defineProperty(_menuLiteConversionMa,"ica","isCustomizableAddons"),_defineProperty(_menuLiteConversionMa,"liteProducts","addonsProducts"),_defineProperty(_menuLiteConversionMa,"offa","initialOfferCode"),_defineProperty(_menuLiteConversionMa,"bi","badgeImage"),_defineProperty(_menuLiteConversionMa,"oe","productNewLayout"),_defineProperty(_menuLiteConversionMa,"cp","corporate"),_defineProperty(_menuLiteConversionMa,"fl","filter"),_defineProperty(_menuLiteConversionMa,"v","value"),_defineProperty(_menuLiteConversionMa,"tl","tagsList"),_defineProperty(_menuLiteConversionMa,"tm","tagsMap"),_menuLiteConversionMa),self=this,imageBasePathCounter=0;self.recFormat=function(data){var formattedData=data;for(var key in data)if(menuLiteConversionMap.hasOwnProperty(key)&&null!=data[key]){if(data[key]instanceof Array)for(var len=data[key].length,i=0;i<len;i++)self.recFormat(data[key][i]);else _typeof("object"==data[key])&&self.recFormat(data[key]);"im"==key?data[key].length>5?(formattedData.image=window.fmImageBasePath[imageBasePathCounter]+"/"+data[key],imageBasePathCounter=(imageBasePathCounter+1)%3):formattedData.iosMin=data[key]:formattedData[menuLiteConversionMap[key]]=data[key],delete formattedData[key]}return formattedData},self.format=function(data){var i,j,collectionProductsLength,availabilityMap={};window.fmImageBasePath=[window.fmImagebasePath1,window.fmImagebasePath2,window.fmImagebasePath3];var recursedFormatData=self.recFormat(data);if(recursedFormatData.collections&&recursedFormatData.collections.length>0){var collectionsLength=recursedFormatData.collections.length;if(collectionsLength)for(i=0;i<collectionsLength;i++)if(collectionProductsLength=recursedFormatData.collections[i].products.length)for(j=0;j<collectionProductsLength;j++)availabilityMap[recursedFormatData.collections[i].products[j].id]=recursedFormatData.collections[i].products[j].isAvailable;return recursedFormatData.availability=availabilityMap,recursedFormatData}return recursedFormatData}}]),app.service("Request",["$http",function($http){this.post=function(url,resource){return $http.post(url,resource)},this.get=function(url){return $http.get(url)},this.put=function(url,resource){return $http.put(url,resource)},this.delete=function(url){return $http.delete(url)},this.xhr=function(url,resource){var formData=new FormData;return angular.forEach(resource,function(value,key){formData.append(key,value)}),$http.post(url,formData,{withCredentials:!0,headers:{"Content-Type":void 0},transformRequest:angular.identity})}}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};app.service("Api",["Request","TrackingService","MenuLiteService",function(Request,TrackingService,MenuLiteService){this.getMenu=function(callback){var d1=new Date,queryParam=(d1.getTime(),"?");if(window.fmIsCategoryHomePage&&(queryParam+="isCategorySpecific=true&"),window.fmSearchParam&&(queryParam=queryParam+"fmSearchParam="+window.fmSearchParam+"&"),window.location.search&&window.location.search.indexOf("collectionId")!=-1&&(queryParam=queryParam+window.location.search.slice(1)+"&"),window.fmSearchType&&(queryParam=queryParam+"fmSearchType="+window.fmSearchType),"/futuremenu"===window.location.pathname){var queryparams=window.location.search.substring(1,window.location.search.length);queryparams=queryparams.split("&");for(var i=0;i<queryparams.length;i++){var key=queryparams[i].split("=")[0];if("date"===key){queryParam.date=queryparams[i].split("=")[1];break}}}Request.get("/api/menu"+("?"!==queryParam?queryParam:"")).then(function(response){if(response&&response.data){var responseData={};responseData=response.data,responseData=MenuLiteService.format(responseData)}if(callback&&callback(response.data),responseData&&responseData.serviceability&&1==responseData.serviceability.serviceable){var d2=new Date;d2.getTime()}})},this.getFreshPassConfig=function(){return Request.get("/api/freshPass/getConfig")},this.changePassword=function(data){return Request.post("/api/users/changePassword",data)},this.getCouponOffers=function(){return Request.get("/api/cart/couponOffers")},this.lazyPayResend=function(orderId){return Request.get("/api/payment/lazypay/resend?orderId="+orderId)},this.getWalletEntriesForUser=function(){return Request.get("/api/users/getWalletEntriesForUser")},this.getFreshMoneyConfig=function(cb){Request.get("/api/payment/getFreshMoneyConfig").then(function(response){cb&&cb(response.data)})},this.orderRatingConfig=function(callback){Request.get("/api/ratings/config").then(function(response){callback&&callback(response.data)})},this.orderRatingCreate=function(data,callback){Request.post("/api/ratings/create",data).then(function(response){callback&&callback(response)},function(response){callback&&callback(response)})},this.isServiceable=function(data,callback){Request.post("/api/menu/serviceable",data).then(function(response){callback&&callback(response.data)})},this.getOffers=function(callback){Request.get("/api/offers").then(function(response){callback(response.data)})},this.getKitchenMenu=function(reqObject,cb){Request.get("/api/menu/tv"+(window.fmIsCategoryHomePage?"?isCategorySpecific=true":"")).then(function(response){cb(response.data)})},this.getWalletOffers=function(user,callback){Request.post("/api/users/wallet/offers",{user:user}).then(function(response){callback&&callback(response.data)})},this.getDefaultMenu=function(callback){Request.get("/api/menu/default"+(window.fmIsCategoryHomePage?"?isCategorySpecific=true":"")).then(function(response){callback&&callback(response.data)})},this.fmGetContent=function(key,cb){Request.get("/api/refresh/content?key="+key).then(function(response){cb&&cb(response.data)})},this.getProductDetails=function(productId,cb){Request.post("/api/menu/product_details",{data:{productId:productId}}).then(function(response){cb&&cb(response.data)})},this.getSuggestedProducts=function(productId,cb){Request.get("/api/menu/recommendations/"+productId).then(function(response){cb&&cb(response.data)})},this.getOrders=function(callback){Request.get("/api/users/orders").then(function(response){callback&&callback(response.data)})},this.getOTP=function(mobileNumber,user,successCb,errorCb){var url="/api/users/"+user.id+"/get_otp/"+mobileNumber;Request.get(url).then(successCb,errorCb)},this.verifyMobileNumberWithoutDigits=function(mobileVerificationForm,successCb,errorCb){var url="/api/users/mobile/verify/"+mobileVerificationForm.mobileNumber+"/"+mobileVerificationForm.OTPToken;Request.get(url).then(successCb,errorCb)},this.getLastOrder=function(callback){Request.get("/api/users/orders/last").then(function(response){callback&&callback(response.data)})},this.getMenuMetadata=function(cb){Request.get("/api/menu/metadata"+(window.fmIsCategoryHomePage?"?isCategorySpecific=true":"")).then(function(response){var responseData={};responseData=response.data,responseData.menu=MenuLiteService.format(responseData.menu),cb(response.data)})},this.fetchDisplayOfferDetails=function(cb){Request.get("/api/users/display_offer").then(function(response){cb(response.data)})},this.setUTMSource=function(data,cb){var url="/api/utm_source/"+data.utmSource;url=url+"?"+window.location.search.substring(1),Request.get(url).then(function(response){cb&&cb(response.data)})},this.getUserLocation=function(callback){Request.get("/api/users/location"+(window.fmIsCategoryHomePage?"?isCategorySpecific=true":"")).then(function(response){callback&&callback(response.data)})},this.socialAuth=function(authToken,type,success,error){Request.post("/api/users/authenticate/"+type,{authToken:authToken}).then(function(response){success(response.data)},function(response){error(response)})},this.createOrder=function(postData,successCb,errorCb){Request.post("/api/users/createOrder",postData).then(function(response){successCb&&successCb(response.data)},function(response){errorCb&&errorCb(response)})},this.createBusinessOrder=function(user,address,callback){Request.post("/api/users/createOrder/business",{user:user,address:address}).then(function(response){callback&&callback(response.data)},function(response){error(response)})},this.removeUserAddress=function(address_id,userId,callback){Request.post("/api/users/address/"+userId+"/"+address_id+"/delete",{}).then(function(response){callback&&callback(response.data)})},this.getOrderDetails=function(order_id,callback){Request.get("/api/orders/"+order_id+"/getDetail").then(function(response){callback&&callback(response.data)},function(response){error(response)})},this.getOrderById=function(order_id,callback){Request.get("/api/orders/"+order_id).then(function(response){callback&&callback(response)},function(response){callback&&callback(response)})},this.sendResetPasswordDetails=function(data,success,error){Request.post("/api/users/sendResetPasswordDetails",data).then(function(response){success(response.data)},function(response){error(response)})},this.fmGenerateMobileOTP=function(data,success,error){Request.post("/api/users/fmGenerateMobileOTP",data).then(function(response){success(response.data)},function(response){error(response)})},this.fmAuthenticateMobile=function(data,success,error){Request.post("/api/users/fmAuthenticateMobile",data).then(function(response){success(response.data)},function(response){error(response)})},this.resetPassword=function(data,success,error){Request.post("/api/users/resetPassword",data).then(function(response){success(response.data)},function(response){error(response)})},this.addUserAddress=function(address,success,error){Request.post("/api/users/addresses",address).then(function(response){success(response.data)},function(response){error(response)})},this.getUserAddresses=function(callback){Request.get("/api/users/addresses").then(function(response){callback(response.data)})},this.updateUserAddress=function(address,success,error){Request.post("/api/users/addresses/update",address).then(function(response){success(response.data)},function(response){error(response)})},this.setUserLocation=function(address,callback){Request.post("/api/users/location",address).then(function(response){callback&&callback(response.data)})},this.setDefaultLocation=function(address,callback){Request.post("/api/users/defaultLocation/cart",address).then(function(response){callback&&callback(response.data)})},this.fmClearGenCart=function(data,callback){Request.post("/api/payment/clear/genCart",data).then(function(response){callback&&callback(response.data)})},this.setUserLocationAndClearCart=function(address,callback){Request.post("/api/users/location/cart",address).then(function(response){callback&&callback(response.data)})},this.setUserLocationAndClearCartAndGetMenu=function(address,cb){var d1=new Date,queryParam=(d1.getTime(),"?");window.fmIsCategoryHomePage&&(queryParam+="isCategorySpecific=true&"),window.fmSearchParam&&(queryParam=queryParam+"fmSearchParam="+window.fmSearchParam+"&"),window.fmSearchType&&(queryParam=queryParam+"fmSearchType="+window.fmSearchType),Request.post("/api/users/location/cart/menu"+("?"!==queryParam?queryParam:""),address).then(function(response){var responseData={};if(responseData=response.data,responseData.menu=MenuLiteService.format(responseData.menu),cb&&cb(response.data),response.data.menu&&response.data.menu.serviceability&&1==response.data.menu.serviceability.serviceable){var d2=new Date;d2.getTime()}})},this.getCities=function(callback){Request.get("/api/cities").then(function(response){callback&&callback(response.data)})},this.getCart=function(callback){Request.get("/api/cart").then(function(response){callback&&callback(response.data)})},this.getCartCardOffer=function(savedCardDTO,callback){Request.post("/api/cart/cardOffer",savedCardDTO).then(function(response){callback&&callback(response.data)})},this.resetCart=function(callback){Request.get("/api/cart/reset").then(function(response){callback&&callback(response.data)})},this.retainWhenRefreshCart=function(callback){Request.get("/api/cart/retain/refresh").then(function(response){callback&&callback(response.data)})},this.addToCart=function(item,callback){dataLayer.push({event:"GTM_ECOM_ATC",ecommerce:{currencyCode:"Rupee",add:{products:[{name:item.product.title,id:item.product.id,price:item.product.price,category:item.product.mealType,quantity:item.quantity}]}}}),Request.post("/api/cart",item).then(function(response){callback&&callback(response.data)})},this.removeFromCart=function(item,callback){dataLayer.push({event:"GTM_ECOM_RFC",ecommerce:{currencyCode:"Rupee",add:{products:[{name:item.product.title,id:item.product.id,price:item.product.price,category:item.product.mealType,quantity:item.quantity}]}}}),Request.post("/api/cart/remove",item).then(function(response){callback&&callback(response.data)})},this.removeBulkFromCart=function(items,callback){Request.post("/api/cart/removeBulk",items).then(function(response){callback&&callback(response.data)})},this.setDsi=function(data,callback){Request.post("/api/cart/dsi",data).then(function(response){callback&&callback(response.data)})},this.fmUpdateApplyFreshmoney=function(data,callback){Request.post("/api/cart/fmUpdateApplyFreshmoney",data).then(function(){callback&&callback()})},this.removeClubItem=function(data,callback){Request.post("/api/cart/removeClubItem",data).then(function(response){callback&&callback(response.data)})},this.addClubItem=function(data,callback){Request.post("/api/cart/addClubItem",data).then(function(response){callback&&callback(response.data)})},this.addOfferCode=function(data,callback){"object"===("undefined"==typeof data?"undefined":_typeof(data))&&null!=data||(data={offerCode:data}),Request.post("/api/cart/offerCode",data).then(function(response){callback&&callback(response.data),response.data.cart&&response.data.cart.offer&&response.data.cart.offer.status?dataLayer.push({event:"customEvent",category:"Category",action:"Apply Code",label:"Success",value:response.data.totalAmount-response.data.finalAmount}):dataLayer.push({event:"customEvent",category:"Category",action:"Apply Code",label:"Fail",value:1})})},this.register=function(user,success,error){Request.post("/api/users/register",user).then(function(response){success(response.data)},function(response){error(response)})},this.login=function(user,success,error){Request.post("/api/users/login",user).then(function(response){var data;data=null!=("undefined"!=typeof response&&null!==response?response.data:void 0)?response.data:{},success(data)},function(response){error(response)})},this.fmPhonepeSSO=function(user,success,error){Request.post("/api/users/fmPhonepeSSO",user).then(function(response){var data;data=null!=("undefined"!=typeof response&&null!==response?response.data:void 0)?response.data:{},success(data)})},this.fmFlipkartSSO=function(user,success,error){Request.post("/api/users/fmFlipkartSSO",user).then(function(response){var data;data=null!=("undefined"!=typeof response&&null!==response?response.data:void 0)?response.data:{},success(data)})},this.fmSpotSSO=function(user,success,error){Request.post("/api/users/fmSpotSSO",user).then(function(response){var data;data=null!=("undefined"!=typeof response&&null!==response?response.data:void 0)?response.data:{},success(data)})},this.fmPaytmSSO=function(user,success,error){Request.post("/api/users/fmPaytmSSO",user).then(function(response){var data;data=null!=("undefined"!=typeof response&&null!==response?response.data:void 0)?response.data:{},success(data)})},this.getUser=function(callback){Request.get("/api/users").then(function(response){callback&&callback(response.data)})},this.getUserLastOrder=function(callback){Request.get("/api/users/last-order").then(function(response){callback&&callback(response.data)})},this.initiatePayment=function(url,data,cb){var successCb=function(paymentDetails){cb(paymentDetails)},errorCb=function(err){cb(null)};Request.post(url,data).then(successCb,errorCb)},this.updateUserInfo=function(user,successCb,errorCb){var url="/api/users/update";Request.post(url,{user:user}).then(successCb,errorCb)},this.fetchRefferalLink=function(user,successCb,errorCb){var url="/api/users/"+user.id+"/register_user/appvirality";Request.post(url,{EmailId:user.email,Phone:user.mobileNumber}).then(successCb,errorCb)},this.getFreshMoneyTotalBalance=function(callback){Request.get("/api/users/wallet").then(function(response){callback&&callback(response.data)})},this.getCards=function(userId,successCb,errorCb){Request.get("/api/payment/cards/"+userId).then(function(response){successCb&&response&&response.data&&successCb(response.data)},function(response){errorCb&&errorCb(response)})},this.makeCardPaypayment=function(postData,cb,errorCb){Request.post("/api/payment/justpay/make_payment",postData).then(function(response){cb&&cb(response)},function(response){errorCb&&errorCb(response)})},this.submitPayment=function(url,postData,successCb,errorCb){Request.post(url,postData).then(function(response){successCb&&successCb(response.data)},function(response){errorCb&&errorCb(response)})},this.handleCorporateSubmit=function(corporateArgs,callback){var attList=[];attList.push(corporateArgs.phoneNumber),attList.push(corporateArgs.email),attList.push(corporateArgs.companyName),attList.push(corporateArgs.name),corporateArgs.website&&corporateArgs.website.length>0&&attList.push(corporateArgs.website),Request.post("/api/campaign",{campaignName:"corporate",data:attList}).then(function(response){callback&&callback(response)})},this.handlebulkOrderSubmit=function(bulkOrderArgs,callback){Request.post("/api/bulkOrder",{bulkOrderDetails:bulkOrderArgs}).then(function(response){callback&&callback(response)})},this.getAddonsDetails=function(data,successCb,errorCb){Request.post("/api/menu/getAddons",{data:data}).then(function(response){if(successCb){if(response&&response.data){var addonsResponseData={};addonsResponseData=response.data,addonsResponseData=MenuLiteService.recFormat({liteProducts:addonsResponseData})}successCb(addonsResponseData)}})},this.fmGetPaymentOptions=function(callback){Request.get("/api/payment/getPaymentOptions").then(function(response){callback&&callback(response.data)})},this.fmGetPaymentOptionsV2=function(callback){Request.get("/api/payment/getPaymentOptions?nativePayment=true").then(function(response){callback&&callback(response.data)})},this.fmGetWalletAndSavedCards=function(callback){Request.get("/api/payment/getWalletAndSavedCards").then(function(response){callback&&callback(response.data)})},this.fmVerifyWalletOtp=function(fmReqObj,callback){Request.get("/api/payment/wallet/validate/"+fmReqObj.tokenId+"/"+fmReqObj.otp).then(function(response){callback&&callback(response.data)})},this.fmGetWalletOtp=function(fmReqObj,callback){Request.get("/api/payment/wallet/authenticate/"+fmReqObj.wallet).then(function(response){callback&&callback(response.data)})},this.paypalLinkWallet=function(fmReqObj,callback){Request.get("/api/payment/wallet/authenticate/paypal/"+fmReqObj.uuid).then(function(response){callback&&callback(response.data)})},this.fmUnlinkWallet=function(fmReqObj,callback){Request.get("/api/payment/wallet/delink/"+fmReqObj.tokenId).then(function(response){callback&&callback(response.data)})},this.fmSubscribeToEmail=function(email,callback){Request.post("/api/users/subscribeToNewsLetter",{email:email}).then(function(response){callback&&callback(response)})},this.fmSendOfferCode=function(email,callback,error){Request.post("/api/users/exit-intent",{email:email}).then(function(response){callback&&callback(response)},function(){error&&error()})},this.getRiderLocation=function(orderId,callback){Request.get("/api/orders/track/"+orderId).then(function(response){callback&&callback(response.data)})},this.favoriteLike=function(productId,callback){Request.post("/api/favorite/favoriteLike",{data:productId}).then(function(response){callback&&callback(response)})},this.favoriteUnlike=function(productId,callback){Request.post("/api/favorite/favoriteUnlike",{data:productId}).then(function(response){callback&&callback(response)})},this.favoriteProducts=function(user,callback){Request.post("/api/favorite/favoriteProducts",{data:user}).then(function(response){callback&&callback(response)})},this.getUserSavedCards=function(userDetails,callback){Request.post("/api/payment/getUserSavedCards",{user:userDetails}).then(function(response){callback&&callback(response.data)})},this.deleteUserSavedCard=function(cardToken,cb){Request.post("/api/payment/deleteUserSavedCard",{token:cardToken}).then(function(response){cb&&cb(response)})},this.signupCorporate=function(reqBody,cb){Request.post("/api/users/signupCorporate",reqBody).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.linkCorporate=function(reqBody,cb){Request.post("/api/users/linkCorporate",reqBody).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.resendActivationMail=function(reqBody,cb){Request.post("/api/users/resendActivationMail",reqBody).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.getAllCorporateAddress=function(reqBody,cb){var url="/api/corporate/getAllCorporateAddress";reqBody&&reqBody.companyId&&(url=url+"?cId="+reqBody.companyId),Request.get(url).then(function(response){cb&&cb(response.data)})},this.addFreshMoney=function(reqBody,cb){Request.post("/api/payment/initiateFreshmoneyTopup",reqBody).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.addFreshMoneyV2=function(reqBody,cb){Request.post("/api/payment/v2/initiateFreshmoneyTopup",reqBody).then(function(response){cb&&cb(response.data)},function(response){cb&&cb(response)})},this.addMealPassMoney=function(reqBody,cb){Request.post("/api/payment/addMealPassMoney",reqBody).then(function(response){cb&&cb(response.data)},function(response){cb&&cb(response)})},this.getMealPlans=function(cb){Request.get("/api/freshmoney/getMealPlans").then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.getCorpCompanyList=function(term,cb){Request.get("/api/corporate/getCorpCompanyList?term="+term).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.getClubPDP=function(cb){Request.post("/api/freshclub/getClubPDP").then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.fmCheckClubCode=function(data,cb){Request.post("/api/freshclub/checkClubCode",data).then(function(response){
cb&&cb(response)},function(response){cb&&cb(response)})},this.subscribeToClub=function(plan,cb){Request.post("/api/freshclub/subscribeToClub",{plan:plan}).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.subscribeToClubV2=function(reqBody,cb){Request.post("/api/freshclub/subscribeToClubV2",reqBody).then(function(response){cb&&cb(response.data)},function(response){cb&&cb(response)})},this.updateGenCart=function(genCart,cb){Request.post("/api/payment/updateGenCart",{cart:genCart}).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.getLazyPayApproval=function(cb){Request.post("/api/cart/lazypay/getEligibility").then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.fmVerifyLazypayOtp=function(fmReqObj,callback){Request.get("/api/payment/lazyPay/"+fmReqObj.orderId+"/"+fmReqObj.otp).then(function(response){callback&&callback(response.data)})},this.validateVpa=function(fmReqObj,callback){Request.get("/api/payment/upi/validateVPA/"+fmReqObj.vpa).then(function(response){callback&&callback(response.data)})},this.tezCheckStatusForTransaction=function(fmReqObj,cb){Request.post("/api/payment/upi/checkStatusForTransaction",fmReqObj).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.tezPhNoCheckStatusForTrans=function(fmReqObj,cb){Request.post("/api/payment/google-tez/checkStatusForTransaction",fmReqObj).then(function(response){cb&&cb(response)},function(response){cb&&cb(response)})},this.markAsUndelivered=function(orderId,callback){Request.get("/api/orders/markAsUndelivered/"+orderId).then(function(response){callback&&callback(response.data)})},this.fmChangeAddress=function(data,cb){Request.post("/api/orders/changeAddress",data).then(function(res){cb&&cb(res)},function(res){cb&&cb(res)})},this.fmRedeemGiftCard=function(data,cb){Request.post("/api/freshmoney/giftCard",data).then(function(res){cb&&cb(res)},function(res){cb&&cb(res)})},this.riskContext=function(data){Request.get("/api/payment/riskContext/"+data.fm_uuid)},this.triggerTradeTracker=function(data){Request.post("/api/orders/triggerTradeTracker",data).then(function(res){},function(res){})}}]),app.service("Cookie",[function(){var _getCookie,_deleteCookie;return _getCookie=function(cookieName){for(var allcookies=document.cookie,cookieArray=allcookies.split(";"),i=0;i<cookieArray.length;i++)if(name=cookieArray[i].split("=")[0],value=cookieArray[i].split("=")[1],cookieName==name.trim())return value;return!1},_setCookie=function(cookieName,cookieValue,expireTime){var now=new Date,time=now.getTime();time+=3600*expireTime*1e3,now.setTime(time),document.cookie=cookieName+"="+cookieValue+"; expires="+now.toUTCString()+"; SameSite=None; Secure; path=/"},_deleteCookie=function(name){document.cookie=name+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},{set:function(data){var cookieName,cookieValue,expireTime;cookieName=data.cookieName,cookieValue=data.cookieValue,expireTime=data.expireTime||1,_setCookie(cookieName,cookieValue,expireTime)},get:function(cookieName){return _getCookie(cookieName)},delete:function(cookieName){return _deleteCookie(cookieName)}}}]),app.directive("otpInputDirective",["$timeout",function($timeout){return{restrict:"A",scope:{options:"="},template:"<div><input type='{{type}}' ng-repeat=\"c in characters\" autocomplete='off' style=\"border: none !important;border-bottom: 1px solid !important;\" ng-keyup='onKeyUp($index,$event)' ng-keydown='onKeyDown($index,$event)' ng-model='c.value' id='otpInput{{c.index}}' name='otpInput{{c.index}}' ng-style=\"style\" placeholder=\"{{placeholder}}\" maxlength=\"1\"  />\n</div>",link:function($scope,elem){var size=parseInt($scope.options.size)||6,width=100/(size+1),margin=width/size,tmp=[],elementArr=[],DEFAULT_COLOR="#93999e",randomNumber=Math.floor(1e4*Math.random())+100;$scope.style={"margin-right":margin+"%","border-radius":"0",display:"inline-block",width:width+"%","text-align":"center",padding:"5px 0px",outline:"none","box-shadow":"none",background:"transparent","border-color":$scope.options.style&&$scope.options.style.lineColor?$scope.options.style.lineColor:DEFAULT_COLOR,color:$scope.options.style&&$scope.options.style.color?$scope.options.style.color:DEFAULT_COLOR,"font-size":$scope.options.style&&$scope.options.style.fontSize?scope.options.style.fontSize:"20px"},$scope.type=$scope.options.type?$scope.options.type:"text",$scope.placeholder=$scope.options.placeholder&&1===$scope.options.placeholder.length?$scope.options.placeholder:"",$scope.setOtpValue=function(){$scope.options.value="";var done=!0;angular.forEach($scope.characters,function(v,k){return 1!==v.value.length?(done=!1,!1):void($scope.options.value=$scope.options.value+v.value)}),done&&"function"==typeof $scope.options.onDone&&$scope.options.onDone($scope.options.value)},$scope.onKeyUp=function(index,e){var key=e.keyCode||e.which,old=$scope.options.value;$scope.setOtpValue(),$scope.characters[index].value.length>0&&8!==key&&index!=size-1&&$timeout(function(){elementArr[index+1][0].focus()}),"function"==typeof $scope.options.onChange&&old!==$scope.options.value&&$scope.options.onChange($scope.options.value)},$scope.onKeyDown=function(index,e){var key=e.keyCode||e.which;8===key&&""===$scope.characters[index].value&&0!==index&&$timeout(function(){elementArr[index-1][0].focus()})};for(var i=0;i<size;i++)tmp.push({index:randomNumber+"-"+i,value:""});$scope.characters=tmp,$timeout(function(){for(var i=0;i<size;i++)elementArr.push(angular.element(document.querySelector("#otpInput"+randomNumber+"-"+i)))})}}}]),app.filter("trustUrl",["$sce",function($sce){return function(recordingUrl){return $sce.trustAsResourceUrl(recordingUrl)}}]),app.filter("to_trusted",["$sce",function($sce){return function(text){return $sce.trustAsHtml(text)}}]),app.controller("Main",["$scope","$http","$timeout","$sce","Api","$localstorage","$window","SimplPaymentService","TrackingService","Cookie","$location","MenuLiteService",function($scope,$http,$timeout,$sce,Api,$localstorage,$window,SimplPaymentService,TrackingService,Cookie,$location,MenuLiteService){function clearToast(){$scope.fmshowToastMessage=!1,$scope.$apply()}function _get(obj,path){if(!path)return obj;var path=path.split("."),key=path.shift();return obj.hasOwnProperty(key)?_get(obj[key],path.join(".")):void 0}function openCart(){if($scope.hideCart=!1,$scope.showCart=!0,$scope.cart&&$scope.cart.items&&$scope.cart.items.length>0){for(var product_ids=[],i=0;i<$scope.cart.items.length;i++)product_ids.push($scope.cart.items[i].productId);TrackingService.postEvent("Screen visited",{screenname:"cart",email:$scope.user&&$scope.user.email&&""!=$scope.user.email?$scope.user.email:"",Timestamp:(new Date).getTime(),"Corporate user":!(!$scope.user||!$scope.user.corporateAccountStatus||"active"!=$scope.user.corporateAccountStatus&&"pending"!=$scope.user.corporateAccountStatus),"Product IDs":product_ids.toString(),"Source screen":"/Product detail"})}}function getPageFromUrl(){var lastRoute=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];switch(lastRoute){case"past-orders":case"current-orders":return"Past Orders";case"faq":return"FAQ";case"checkout":return"Checkout";case"about":return"About";case"careers":return"Careers";case"blog":return"Blog";default:return null}}$scope.currentPathname=window.location.pathname.split("/"),$scope.fmShowElems=window.fmShowElems,$scope.thirdPartyApp=window.thirdPartyApp,$scope.contactInfo=window.contactInfo,$scope.job={},$scope.corporateUserDetails={email:"",mobile:""},$scope.isCorporatePage=!1,$scope.alreadyLogedIn=!1,$scope.suggestedProducts=[],$scope.thirdPartyApp=window.thirdPartyApp,$scope.hideAdditionalChargeSection=!0,$scope.fmFreshClubQuotes=window.fmFreshClubQuotes&&window.fmFreshClubQuotes.length?window.fmFreshClubQuotes:[],$scope.fmSelectedFreshClubQuote=0,$scope.fmSelectPrevFreshClubQuote=function(){$scope.fmSelectedFreshClubQuote?$scope.fmSelectedFreshClubQuote=$scope.fmSelectedFreshClubQuote-1:$scope.fmSelectedFreshClubQuote=$scope.fmFreshClubQuotes.length-1,$("#quotes-carousel-body").animate({scrollLeft:680*$scope.fmSelectedFreshClubQuote},300)},$scope.fmSetFreshClubQuote=function(i){$scope.fmSelectedFreshClubQuote=i,$("#quotes-carousel-body").animate({scrollLeft:680*$scope.fmSelectedFreshClubQuote},300)},$scope.fmSelectNextFreshClubQuote=function(){$scope.fmSelectedFreshClubQuote==$scope.fmFreshClubQuotes.length-1?$scope.fmSelectedFreshClubQuote=0:$scope.fmSelectedFreshClubQuote=$scope.fmSelectedFreshClubQuote+1,$("#quotes-carousel-body").animate({scrollLeft:680*$scope.fmSelectedFreshClubQuote},300)},$scope.fmScrollToJoinClub=function(){$("html, body").animate({scrollTop:$("#fmJoinClubContainer").offset().top-60},500)},$scope.openPartnerTandCs=function(){$scope.user&&$scope.user.id&&$scope.user.primeStatus&&"subscribed"==$scope.user.primeStatus?location.href="/fresh-club-terms-and-conditions#/partner":$scope.fmScrollToJoinClub()},$scope.addCleverTapEvent=function(eventName,eventData){TrackingService.postEvent(eventName,eventData)},$scope.isFromCouponSection=!1,$scope.addOfferCodeMobile=function(code,open,isFromCouponSection){if(void 0!==code&&""!==code&&(offerCode=code,code||($scope.forms.offer={offerCode:""}),$scope.cart.offer||$scope.forms.offer.offerCode)){var data={};data.offerCode=offerCode,code?data.removedOffer="false":data.removedOffer="true",$scope.offerCodeApplying=!0,Api.addOfferCode(data,function(data){$scope.offerCodeApplying=!1,data.cart.offer||($scope.forms.offer||($scope.forms.offer={}),$scope.forms.offer.offerCode=""),!isFromCouponSection||data.offer&&data.offer.status?$scope.isFromCouponSection=!1:($scope.isFromCouponSection=isFromCouponSection,$scope.forms.offer.offerCode=""),$scope.cart=data.cart,$scope.validation=data.validation,!open&&$scope.cart.offer&&$scope.cart.offer.status&&$scope.goback(),"coupon-offers"==$scope.cartScreen&&$scope.cart&&$scope.cart.offer&&$scope.cart.offer.status&&$scope.goback()})}},$scope.fmApplyCashBack=function(){$scope.cart.offer&&$scope.cart.offer.status&&MODAL_APPLY_CASHBACK_PROMPT.show()},$scope.addOfferCode=function(code,open){if(void 0!==code&&""!==code&&(offerCode=code,$scope.cart.offer||$scope.forms.offer&&$scope.forms.offer.offerCode)){var data={};data.offerCode=offerCode,code?data.removedOffer="false":data.removedOffer="true",$scope.offerCodeApplying=!0,Api.addOfferCode(data,function(data){$scope.offerCodeApplying=!1,data.cart.offer||($scope.forms.offer||($scope.forms.offer={}),$scope.forms.offer.offerCode=""),$scope.cart=data.cart,$scope.validation=data.validation,!open&&$scope.cart.offer&&$scope.cart.offer.status&&$scope.goback()})}},$scope.fmYTiFrameAPIcalled=!1,$scope.fmPlayYoutubeVideo=function(url){if($scope.fmYTiFrameAPIcalled)$scope.onPlayerReady();else{$scope.fmYTiFrameAPIcalled=!0,$scope.tag=document.createElement("script"),$scope.tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore($scope.tag,firstScriptTag)}var index=url.split("/").indexOf("embed"),videoID=index==-1?"":url.split("/")[index+1];$scope.fmYTvideoID=""!=videoID?videoID:"xaRh5DuQq20"},$scope.constructMsgFromRa=function(ra,r){if(!$scope.menu||!$scope.menu.m)return"";for(var strings=$scope.menu.m[r].split("{"),i=0;i<strings.length;i++){var stringSplit=strings[i].split("}");parseInt(stringSplit[0])>=0&&parseInt(stringSplit[0])<ra.length&&(stringSplit[0]=ra[parseInt(stringSplit[0])]),strings[i]=stringSplit.join("")}return strings.join("")},$scope.fmYTPlayer={},$scope.onYouTubeIframeAPIReady=function(){$scope.fmYTPlayer=new YT.Player("player",{width:"100%",videoId:$scope.fmYTvideoID,events:{onReady:$scope.onPlayerReady,onStateChange:$scope.onPlayerStateChange}})},$scope.takeToProfile=function(){$scope.user&&$scope.user.id&&(window.location.href="/profile")},$scope.onPlayerReady=function(event){$scope.fmYTPlayer.playVideo()},$scope.onPlayerStateChange=function(event){1==event.data?$scope.fireGAEvent("","click","video_play"):2==event.data&&($scope.fireGAEvent("","","video_time",$scope.fmYTPlayer.getCurrentTime()),$scope.fireGAEvent("","click","video_pause"))},$scope.pauseVideo=function(){$scope.fmYTPlayer.pauseVideo()},$scope.fmStopYoutubeVideo=function(){$scope.pauseVideo()},$scope.redirectToPage=function(pageName,dataToCleverTap){dataToCleverTap&&TrackingService.postEvent({Section:dataToCleverTap}),window.location.href="/"+pageName},$scope.locationPathname=window.location.pathname,$scope.redirectToPageFromBurgerMenu=function(pageLink){$scope.locationPathname!=pageLink&&setTimeout(function(){window.location.href=pageLink},200)},$scope.initializeLanding=function(){$scope.getUser();var viewedObj={};viewedObj.screenName="Landing page",$window.clevertap.event.push("Screen Visited",viewedObj)},$scope.getJob=function(){var query=location.search.substr(1),result={};query.split("&").forEach(function(part){var item=part.split("=");result[item[0]]=decodeURIComponent(item[1])}),_.forEach($scope.jobSections,function(section,i){_.forEach(section.jobs,function(job,j){result.title==_.kebabCase(job.title)+"-"+j+"-"+i&&($scope.job=job)})})},$scope.jobSections=[{title:"Tech and Product",jobs:[{title:"AVP Product Management",sub:"Full-Time • Bangalore",responsibilities:[{title:"",description:["FreshMenu is a food brand, operating its own cloud kitchens, delivery personnel and providing exotic freshly prepared cuisine by Chefs to its customers. We are looking for a product management leader who will own and lead the roadmap for areas like customer experience, logistics, supply chain and kitchen tools. ","The ideal candidate will have a bachelors in in an engineering discipline, and would have worked in eCommerce companies. They would have led the roadmap for key business areas and demonstrated consistent P&L impact through the product features and programs they built. They will possess strong judgement, demonstrate data backed prioritization and conviction of thought. They will be an excellent written and verbal communicator, and have a strong bias for action. They will not hesitate to roll up their sleeves and get into the weeds, and at the same time, will not lose sight of the bigger picture.","In the end, results matter, and the ideal candidate will have delivered results consistently."]}],desired_skills:["Bachelors from a reputed university, in Computer Science, Electronics, Economics, Statistics or a related engineering discipline. Masters and/or MBA is a plus.","10+ years of experience in leading product roadmaps, with a part of this experience being in the eCommerce industry. Must have led product managers and managed critical product roadmaps.","Possess strong bias for action, ability to simplify and iterate fast. Has sound judgement.","Is very detail oriented, and is comfortable with business metrics, UX design, or talking architecture, as needed. Always keeps the big picture in mind while doing this.","Delivers consistent business results.","Has Excellent written and verbal communication skills. Communicates just as easily with product managers as with developers and executives."]}]},{title:"Mobile Apps",jobs:[{title:"Mobile Application Developer – IOS",sub:"Full-Time • Bangalore",description:["FreshMenu is looking out for some awesome Android aficionados who&#39;ve developed the coolest apps on planet earth!  If you&#39;ve had peeps go gaga over your app We&#39;d love to meet you asap!!!"],responsibilities:[{title:"",description:["Design and build advanced applications for the Android platform. - We&#39;d love to sit by and see how you do it!","Collaborate with cross-functional teams to define, design, and ship new features. - innovation is what we utterly love!","Work with outside data sources and API- s. - Our realm is just too big!","Unit-test code for robustness, including edge cases, usability, and general reliability. - We love to taste our app before we serve it!","Work on bug fixing and improving application performance. - We like the app seamless like our food! Wish we could get better!","Continuously discover, evaluate, and implement new technologies to maximize development efficiency. - Madness over our app is what we&#39;d love to see, hear and feel!"]}],desired_skills:["1-3  years experience in the Objective c .","Minimum Bachelors’ in CS or equivalent experience.","Expert in developing on the iOS  platform,","Previous start-up experience is a plus.","Should be good in object oriented design / Java &amp; IOS and custom UI components","Experience  working in Locations based Apps or Ecommerce"]}]},{title:"Backend",jobs:[{title:"Java Developer",sub:"Full-Time • Bangalore",responsibilities:[{title:"",description:["Participate in architectural, design and product sessions","Develop innovative solutions based on product requirements and business challenges in Java.","Ensure all Java code is suitable for automated unit testing and own code coverage","Interact with different stakeholders to gather feedback and clarification","Research and apply new technologies and best practices","Design and create efficient RESTful endpoints for both internal and public consumption","Provide task estimations and deliver quality code on time","Own and manage multiple data sources (MySQL, MongoDB, Elastic search)","Participate in regular bug fixing Intimate knowledge of Git, Github, AWS, CDNs"]}],desired_skills:["Ideally 3 yrs - 6 years of Java experience.","3yrs - 6 yrs+ years professional experience with enterprise architecture and developing highly scalable websites/services.","Proficiency administering large databases (PostgreSQL, MySQL, Mongo DB).","Experience with creating RESTful endpoints.","Working understanding of OOP Javascript and modular design patterns.","Hands-on experience developing, releasing, and maintaining large-scale software applications (web/mobile).","Should be comfortable in using Git, Git branches and Github to manage codebases.","A very high degree of focus on the Customer ","High level conceptual thinking about product and user problems ","The ability to articulate and defend design choices using research / data ","A solid understanding of prevailing trends in UX","Proficiency with Design tools, and an obsession with pixel-perfect detailing"]}]}],$scope.googleMapControlLocation={},$scope.googleMapControlEdit={};var _getHours,_getMinutes,_getMeridian,_handleInitiatePaymentFailure,_getFormattedTime,_getSimplPaymentApproval,_setUTMSourceParamIfExists,_getParameterByName;window.metaData?!window.metaData.isMenuPage&&window.loadExternalScripts():window.loadExternalScripts(),$scope.newAddress="",$scope.kebabCase=function(str){return _.kebabCase(str)},_getParameterByName=function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null},_setUTMSourceParamIfExists=function(){var utmSource=_getParameterByName("utm_source");utmSource&&utmSource.length>0&&Api.setUTMSource(utmSource,function(){})},_getSimplPaymentApproval=function(){var phoneNumber,simplApprovalFn;simplApprovalFn=function(){if($scope.user&&!_.isEmpty($scope.user.mobileNumber)){window.simpleServiceInitiateCalled||(SimplPaymentService.initiate(),window.simpleServiceInitiateCalled=!0),phoneNumber=_getFormattedMobileNumber($scope.user.mobileNumber);try{$window.Simpl.setApprovalConfig({phone_number:phoneNumber,email:$scope.user.email})}catch(e){}}},recursiveSimplCb=function(_recursiveSimplCb){function recursiveSimplCb(){return _recursiveSimplCb.apply(this,arguments)}return recursiveSimplCb.toString=function(){return _recursiveSimplCb.toString()},recursiveSimplCb}(function(){$window.Simpl?simplApprovalFn():$timeout(recursiveSimplCb,500)}),window.isCheckoutPage&&recursiveSimplCb()},$scope.scrollToElement=function(query){$("html, body").animate({scrollTop:$(query).offset().top},1e3)},_handleInitiatePaymentFailure=function($scope,$window){$scope.msg="order_fail",$("html, body").animate({scrollTop:$window.$("#checkout-form").offset().top-95},1e3),$scope.orderInProgress=!1},_getHours=function(time){var hours="";return hours=Math.floor(time/60)<=12?Math.floor(time/60):Math.floor(time/60)-12},_getMinutes=function(time){var minutes="";return time%60<10&&(minutes="0"),minutes+=time%60},_getMeridian=function(time){var meridian="";return meridian=Math.floor(time/60)<12?"AM":"PM"},_getFormattedTime=function(time){var formattedTime="";return formattedTime+=_getHours(time),formattedTime+=":",formattedTime+=_getMinutes(time),formattedTime+=_getMeridian(time)},_getFormattedMobileNumber=function(phoneNumber){var formattedPhoneNumber="";return phoneNumber&&(formattedPhoneNumber=phoneNumber.length>10?phoneNumber.substring(phoneNumber.length-10,phoneNumber.length):phoneNumber),formattedPhoneNumber},$scope.showBanner=!0,$scope.bannerUrl=window.bannerUrl,$scope.user={},$scope.addresses={},$scope.location={},$scope.menu={},$scope.collection={},$scope.cities=[],$scope.validation={},$scope.checkout={},$scope.showLoginContainer=!0,$scope.isFilterButtonClicked=!1,$scope.fmIsFromProductPage=!1,$scope.fmCategoryHeader="Today's Menu",$scope.cart={items:[],totalAmount:0,finalAmount:0,offer:null},$scope.forms={register:{},login:{},address:{},checkout:{},update:{},mobileVerification:{}},$scope.menuExpVariation=window.menuExpVariation&&" "!=window.menuExpVariation?window.menuExpVariation:"DEFAULT",$scope.productCTA=window.productCTA&&" "!=window.productCTA?window.productCTA:"DEFAULT",$scope.offerCode="",$scope.cartItemsCount=0,$scope.payment_method="PAYU",$scope.outer_payment_method="online_payment",$scope.highlightSearch=!1,$scope.clearAutocomplete=!1,$scope.cartAction=!1,$scope.registerLoading=!1,$scope.loginLoading=!1,$scope.fmNewFilterList=[],$scope.initialProductDetailLoadingDone=!1,$scope.cartScreen="cart",$scope.showCorporateSuccessMessage=!1,$scope.showCorporateFailMessage=!1,$scope.isUserCallDone=!1,$scope.corporateResponseCode="",$scope.showCorpLoginMessage=!1,$scope.corpCompanyPerUserLimit=0,$scope.openCouponScreen=function(){$scope.forms.offer||($scope.forms.offer={offerCode:""}),$scope.cartScreen="coupon"},$scope.fmshowToastMessage=!1,$scope.fmShownBmsmMessage=!1,$scope.toastMessage=window.fmConfig&&window.fmConfig.bmsm?window.fmConfig.bmsm:"Prices have dropped! Buy more & save!",$scope.corporateOrderingEndTime=null,$scope.corporateDeliveryEndTime=null,$scope.applyFreshmoney=!0,$scope.fmToggleApplyFreshmoney=function(){$scope.applyFreshmoney=!$scope.applyFreshmoney,Api.fmUpdateApplyFreshmoney({applyFreshmoney:$scope.applyFreshmoney},function(){$scope.getCart()})},$scope.openDeliverySlots=function(){$scope.cartScreen="delivery"},$scope.removeCoupon=function($event){$event.stopPropagation(),$scope.addOfferCode(null)},$scope.fmForgotPassowrdScreen="1",$scope.otpInput={size:5,type:"tel",onDone:function(value){$scope.forms.forgotPassword.user.mobileOTP=value},onChange:function(value){$scope.forms.forgotPassword.user.mobileOTP=value}},$scope.Koramangala=function(){$scope.setUserLocation({addressLine2:"Koramangala",lat:12.9279232,lon:77.62710779999998,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Whitefield=function(){$scope.setUserLocation({addressLine2:"Whitefield",lat:12.9697999,lon:77.74994670000001,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Marathahalli=function(){$scope.setUserLocation({addressLine2:"Marathahalli",lat:12.9591722,lon:77.69741899999997,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.JPNagar=function(){$scope.setUserLocation({addressLine2:"J P Nagar",lat:12.910491,lon:77.5857168,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.HSRLayout=function(){$scope.setUserLocation({addressLine2:"HSR Layout",lat:12.9718915,lon:77.64115449999997,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Domlur=function(){$scope.setUserLocation({addressLine2:"Domlur",lat:12.9609857,lon:77.63873160000003,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Sarjapur=function(){$scope.setUserLocation({addressLine2:"Sarjapur",lat:12.8614,lon:77.7863,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Indiranagar=function(){$scope.setUserLocation({addressLine2:"Indiranagar",lat:12.9718915,lon:77.64115449999997,locality:{city:{id:1,name:"Bengaluru",state:{id:1,name:"Karnataka"},serviceableBoundary:"[[[13.033993517307401,77.49618530273438],[12.873392428201718,77.44400024414062],[12.763589068501464,77.59506225585938],[12.860004340637055,77.82577514648438],[13.042020847922622,77.79006958007812],[13.106230102044576,77.62252807617188]]]",displayBoundary:"[[[13.075465253049048,77.46940612792969],[13.14367777049247,77.61772155761719],[13.084828874547332,77.79212951660156],[12.95772091215835,77.89237976074219],[12.830548034893313,77.83744812011719],[12.715367628772123,77.58270263671875],[12.860004340637055,77.39044189453125]]]",reasonCode:null,reasonDescription:null,northEastPoint:"13.07863533,77.71403902",southWestPoint:"12.91137032,77.47783296",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Wroli=function(){$scope.setUserLocation({addressLine2:"Worli, Mumbai, Maharashtra, India",lat:18.9872015,lon:72.82904559999997,locality:{city:{id:2,name:"Mumbai",state:{id:2,name:"Maharashtra"},serviceableBoundary:"[[[19.13227542422099,72.87008285522461],[19.132356513983105,72.87076950073242],[19.12854525212789,72.89231300354004],[19.132924141203095,72.89935111999512],[19.142086996349256,72.9151439666748],[19.136978564607336,72.9217529296875],[19.129275075035242,72.92295455932617],[19.121327940907662,72.92973518371582],[19.102512794185664,72.92544364929199],[19.09277998188002,72.90630340576172],[19.091482230326,72.8844165802002],[19.099998539180277,72.8789234161377],[19.10210727176913,72.86561965942383]],[[19.10299941977337,72.92407035827637],[19.103891562966407,72.92346954345703],[19.102593898549678,72.92561531066895]],[[19.08288436934017,72.86149978637695],[19.081748769421086,72.894287109375],[19.08986002657664,72.90699005126953],[19.08629112237768,72.92261123657227],[19.05173366503917,72.90081024169922],[19.048001677744303,72.85720825195312],[19.0543297806049,72.84055709838867],[19.07509724212452,72.84381866455078]],[[19.01684442346227,72.81944274902344],[19.004834338576998,72.8506851196289],[18.96766250302333,72.83060073852539],[18.95727238490848,72.82476425170898],[18.958733534384553,72.80021667480469],[19.01830505029429,72.81635284423828]]]",displayBoundary:"[[[19.28003579627976,72.77618408203125],[19.307255233641797,72.95883178710938],[19.264479800497103,73.125],[19.12440952808487,73.12774658203125],[18.977727312447804,73.07830810546875],[18.856909551426863,72.8118896484375],[19.114029215761995,72.66082763671875]]]",
reasonCode:null,reasonDescription:null,northEastPoint:"19.2744397,73.0225381",southWestPoint:"18.89028347,72.77465907",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.LowerParel=function(){$scope.setUserLocation({addressLine2:"Lower Parel, Mumbai, Maharashtra, India",lat:18.9927476,lon:72.8310679,locality:{city:{id:2,name:"Mumbai",state:{id:2,name:"Maharashtra"},serviceableBoundary:"[[[19.13227542422099,72.87008285522461],[19.132356513983105,72.87076950073242],[19.12854525212789,72.89231300354004],[19.132924141203095,72.89935111999512],[19.142086996349256,72.9151439666748],[19.136978564607336,72.9217529296875],[19.129275075035242,72.92295455932617],[19.121327940907662,72.92973518371582],[19.102512794185664,72.92544364929199],[19.09277998188002,72.90630340576172],[19.091482230326,72.8844165802002],[19.099998539180277,72.8789234161377],[19.10210727176913,72.86561965942383]],[[19.10299941977337,72.92407035827637],[19.103891562966407,72.92346954345703],[19.102593898549678,72.92561531066895]],[[19.08288436934017,72.86149978637695],[19.081748769421086,72.894287109375],[19.08986002657664,72.90699005126953],[19.08629112237768,72.92261123657227],[19.05173366503917,72.90081024169922],[19.048001677744303,72.85720825195312],[19.0543297806049,72.84055709838867],[19.07509724212452,72.84381866455078]],[[19.01684442346227,72.81944274902344],[19.004834338576998,72.8506851196289],[18.96766250302333,72.83060073852539],[18.95727238490848,72.82476425170898],[18.958733534384553,72.80021667480469],[19.01830505029429,72.81635284423828]]]",displayBoundary:"[[[19.28003579627976,72.77618408203125],[19.307255233641797,72.95883178710938],[19.264479800497103,73.125],[19.12440952808487,73.12774658203125],[18.977727312447804,73.07830810546875],[18.856909551426863,72.8118896484375],[19.114029215761995,72.66082763671875]]]",reasonCode:null,reasonDescription:null,northEastPoint:"19.2744397,73.0225381",southWestPoint:"18.89028347,72.77465907",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.BKC=function(){$scope.setUserLocation({addressLine2:"Bandra Kurla Complex, Bandra East, Mumbai, Maharashtra, India",lat:19.0687893,lon:72.8702647,locality:{city:{id:2,name:"Mumbai",state:{id:2,name:"Maharashtra"},serviceableBoundary:"[[[19.13227542422099,72.87008285522461],[19.132356513983105,72.87076950073242],[19.12854525212789,72.89231300354004],[19.132924141203095,72.89935111999512],[19.142086996349256,72.9151439666748],[19.136978564607336,72.9217529296875],[19.129275075035242,72.92295455932617],[19.121327940907662,72.92973518371582],[19.102512794185664,72.92544364929199],[19.09277998188002,72.90630340576172],[19.091482230326,72.8844165802002],[19.099998539180277,72.8789234161377],[19.10210727176913,72.86561965942383]],[[19.10299941977337,72.92407035827637],[19.103891562966407,72.92346954345703],[19.102593898549678,72.92561531066895]],[[19.08288436934017,72.86149978637695],[19.081748769421086,72.894287109375],[19.08986002657664,72.90699005126953],[19.08629112237768,72.92261123657227],[19.05173366503917,72.90081024169922],[19.048001677744303,72.85720825195312],[19.0543297806049,72.84055709838867],[19.07509724212452,72.84381866455078]],[[19.01684442346227,72.81944274902344],[19.004834338576998,72.8506851196289],[18.96766250302333,72.83060073852539],[18.95727238490848,72.82476425170898],[18.958733534384553,72.80021667480469],[19.01830505029429,72.81635284423828]]]",displayBoundary:"[[[19.28003579627976,72.77618408203125],[19.307255233641797,72.95883178710938],[19.264479800497103,73.125],[19.12440952808487,73.12774658203125],[18.977727312447804,73.07830810546875],[18.856909551426863,72.8118896484375],[19.114029215761995,72.66082763671875]]]",reasonCode:null,reasonDescription:null,northEastPoint:"19.2744397,73.0225381",southWestPoint:"18.89028347,72.77465907",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Powai=function(){$scope.setUserLocation({addressLine2:"Powai, Mumbai, Maharashtra, India",lat:19.1196773,lon:72.90508090000003,locality:{city:{id:2,name:"Mumbai",state:{id:2,name:"Maharashtra"},serviceableBoundary:"[[[19.13227542422099,72.87008285522461],[19.132356513983105,72.87076950073242],[19.12854525212789,72.89231300354004],[19.132924141203095,72.89935111999512],[19.142086996349256,72.9151439666748],[19.136978564607336,72.9217529296875],[19.129275075035242,72.92295455932617],[19.121327940907662,72.92973518371582],[19.102512794185664,72.92544364929199],[19.09277998188002,72.90630340576172],[19.091482230326,72.8844165802002],[19.099998539180277,72.8789234161377],[19.10210727176913,72.86561965942383]],[[19.10299941977337,72.92407035827637],[19.103891562966407,72.92346954345703],[19.102593898549678,72.92561531066895]],[[19.08288436934017,72.86149978637695],[19.081748769421086,72.894287109375],[19.08986002657664,72.90699005126953],[19.08629112237768,72.92261123657227],[19.05173366503917,72.90081024169922],[19.048001677744303,72.85720825195312],[19.0543297806049,72.84055709838867],[19.07509724212452,72.84381866455078]],[[19.01684442346227,72.81944274902344],[19.004834338576998,72.8506851196289],[18.96766250302333,72.83060073852539],[18.95727238490848,72.82476425170898],[18.958733534384553,72.80021667480469],[19.01830505029429,72.81635284423828]]]",displayBoundary:"[[[19.28003579627976,72.77618408203125],[19.307255233641797,72.95883178710938],[19.264479800497103,73.125],[19.12440952808487,73.12774658203125],[18.977727312447804,73.07830810546875],[18.856909551426863,72.8118896484375],[19.114029215761995,72.66082763671875]]]",reasonCode:null,reasonDescription:null,northEastPoint:"19.2744397,73.0225381",southWestPoint:"18.89028347,72.77465907",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.Hiranandani=function(){$scope.setUserLocation({addressLine2:"Hiranandani Gardens, Powai, Mumbai, Maharashtra 400076, India",lat:19.1153798,lon:72.9091436,locality:{city:{id:2,name:"Mumbai",state:{id:2,name:"Maharashtra"},serviceableBoundary:"[[[19.13227542422099,72.87008285522461],[19.132356513983105,72.87076950073242],[19.12854525212789,72.89231300354004],[19.132924141203095,72.89935111999512],[19.142086996349256,72.9151439666748],[19.136978564607336,72.9217529296875],[19.129275075035242,72.92295455932617],[19.121327940907662,72.92973518371582],[19.102512794185664,72.92544364929199],[19.09277998188002,72.90630340576172],[19.091482230326,72.8844165802002],[19.099998539180277,72.8789234161377],[19.10210727176913,72.86561965942383]],[[19.10299941977337,72.92407035827637],[19.103891562966407,72.92346954345703],[19.102593898549678,72.92561531066895]],[[19.08288436934017,72.86149978637695],[19.081748769421086,72.894287109375],[19.08986002657664,72.90699005126953],[19.08629112237768,72.92261123657227],[19.05173366503917,72.90081024169922],[19.048001677744303,72.85720825195312],[19.0543297806049,72.84055709838867],[19.07509724212452,72.84381866455078]],[[19.01684442346227,72.81944274902344],[19.004834338576998,72.8506851196289],[18.96766250302333,72.83060073852539],[18.95727238490848,72.82476425170898],[18.958733534384553,72.80021667480469],[19.01830505029429,72.81635284423828]]]",displayBoundary:"[[[19.28003579627976,72.77618408203125],[19.307255233641797,72.95883178710938],[19.264479800497103,73.125],[19.12440952808487,73.12774658203125],[18.977727312447804,73.07830810546875],[18.856909551426863,72.8118896484375],[19.114029215761995,72.66082763671875]]]",reasonCode:null,reasonDescription:null,northEastPoint:"19.2744397,73.0225381",southWestPoint:"18.89028347,72.77465907",serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.CyberHub=function(){$scope.setUserLocation({addressLine2:"DLF Cyber Hub",zipCode:"122002",lat:28.4962055,lon:77.09163999999998,locality:{city:{id:4,name:"Gurgaon",state:{id:4,name:"Haryana"},serviceableBoundary:"[[[28.536274512989912,77.00798034667969],[28.522399349415434,77.09793090820312],[28.481668217800326,77.16110229492188],[28.44122325682835,77.1902847290039],[28.366933295392897,77.13947296142578],[28.346086516705547,77.00763702392578],[28.37327715450343,76.91631317138672],[28.436392973656965,76.87545776367188],[28.519986091042362,76.90052032470703]]]",displayBoundary:"[[[28.54230662300966,77.01828002929688],[28.519382767818374,77.13363647460938],[28.437902460838288,77.21122741699219],[28.36300595443888,77.15904235839844],[28.33943885710451,76.99081420898438],[28.38113093068206,76.86790466308594],[28.476537997933363,76.86790466308594],[28.541100228636033,76.90086364746094]]]",reasonCode:null,reasonDescription:null,northEastPoint:null,southWestPoint:null,serviceable:!0}}},function(){$scope.getMenu(function(){window.location.href="/"})})},$scope.hideBanner=function(){$scope.showBanner=!1},$scope.processGoogleAutocomplete=function(result){var obj={addressLine2:"",locality:{city:{name:""}}};if(_.isEmpty(obj.addressLine2)){obj.addressLine2="",result&&result.types&&result.types.indexOf("establishment")>=0&&(obj.addressLine2=result.name);for(var i=0;i<result.address_components.length;i++){var component=result.address_components[i];component.types.indexOf("postal_code")>=0&&(obj.zipCode=component.long_name),component.types.indexOf("sublocality_level_1")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("sublocality_level_2")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("sublocality_level_3")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("neighborhood")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("route")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("premise")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("sublocality")>=0?(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.addressLine2+=component.long_name):component.types.indexOf("locality")>=0&&(obj.addressLine2.length>0&&(obj.addressLine2+=", "),obj.locality.city.name=component.long_name,obj.addressLine2+=component.long_name)}}return obj.lat=result.geometry.location.lat(),obj.lon=result.geometry.location.lng(),obj},$scope.hasOnlyDigits=function(text){return/^\d+$/.test(text)},$scope.fmGenerateMobileOTP=function(details){TrackingService.postEvent("Clicked",{action:"send otp",mode:$scope.hasOnlyDigits($scope.forms.forgotPassword.user.userData)?"Phone":"Email"}),$scope.sendingMobileOTP=!0,details=details||{},Api.fmGenerateMobileOTP(details,function(response){$scope.sendingMobileOTP=!1,$scope.forms.forgotPassword=$scope.forms.forgotPassword||{},$scope.forms.forgotPassword.success=!0,$scope.forms.forgotPassword.iSError=!1,$scope.forms.forgotPassword.errors=response&&response.data&&response.data.message?response.data.message:"",$scope.fmForgotPassowrdScreen="2",$scope.fmShowOtpTimer=!0,$scope.fmResendOtpTimerLimit=15,$timeout($scope.fmResendOtpTimer,1e3)},function(response){$scope.sendingMobileOTP=!1,$scope.forms.forgotPassword=$scope.forms.forgotPassword||{},$scope.forms.forgotPassword.success=!1,$scope.forms.forgotPassword.iSError=!0,$scope.forms.forgotPassword.errors=response})},$scope.fmAuthenticateMobile=function(details){details&&details.mobileOTP&&details.mobileOTP.length?($scope.fmAuthenticatingMobileOTP=!0,Api.fmAuthenticateMobile(details,function(data){$scope.fmAuthenticatingMobileOTP=!1,$scope.forms.forgotPassword=$scope.forms.forgotPassword||{},$scope.forms.forgotPassword.OTPsuccess=!0,$scope.forms.forgotPassword.isOTPError=!1,$scope.forms.forgotPassword.OTPerrors=data&&data.data&&data.data.message?data.data.message:"",$scope.fmForgotPassowrdScreen="3",$scope.fromLoginSuccess=!0,$localstorage.removeItem("lastUsedAddressId"),$scope.user=data,Cookie.set({cookieName:"fmAlternativeEmailId",cookieValue:data.email,expireTime:720}),_getSimplPaymentApproval(),$scope.setDividerText(),$scope.forms.checkout.user=data,$scope.getUserAddresses(),$scope.getMenu(),$scope.businessPage&&$scope.getLastOrder(),$scope.isPage(["/order-created"])&&$scope.getOrders();var userData="";$scope.forms.forgotPassword&&$scope.forms.forgotPassword.user&&$scope.forms.forgotPassword.user.userData&&(userData=$scope.forms.forgotPassword.user.userData),TrackingService.postEvent("User identified",{type:"Forgot password",Mode:userData.length?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(userData)?"Email":"Phone":"",Status:"Success",Email:data.email?data.email:"",phoneNumber:data.mobileNumber?data.mobileNumber:"","source screen":"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)},data),$scope.callAfterAnyLogin()},function(response){var userData="";$scope.forms.forgotPassword&&$scope.forms.forgotPassword.user&&$scope.forms.forgotPassword.user.userData&&(userData=$scope.forms.forgotPassword.user.userData),TrackingService.postEvent("User identified",{type:"Forgot password",Mode:userData.length?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(userData)?"Email":"Phone":"",Status:"Failure",Email:userData.length&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(userData)?userData:"",SourceScreen:"",phoneNumber:userData.length?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(userData)?"":userData:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)}),$scope.fmAuthenticatingMobileOTP=!1,$scope.forms.forgotPassword=$scope.forms.forgotPassword||{},$scope.forms.forgotPassword.OTPsuccess=!1,$scope.forms.forgotPassword.isOTPError=!0,$scope.forms.forgotPassword.OTPerrors=response&&response.data&&response.data.message?response.data.message:""})):($scope.fmAuthenticatingMobileOTP=!1,$scope.forms.forgotPassword=$scope.forms.forgotPassword||{},$scope.forms.forgotPassword.OTPsuccess=!1,$scope.forms.forgotPassword.isOTPError=!0,$scope.forms.forgotPassword.OTPerrors="Please enter valid OTP")},$scope.fmResendOtpTimer=function(){$scope.fmResendOtpTimerLimit>0?($scope.fmResendOtpTimerLimit-=1,$scope.fmShowOtpTimer=!0,$timeout($scope.fmResendOtpTimer,1e3)):$scope.fmShowOtpTimer=!1},$scope.fmResettingPassword=!1,$scope.resetPassword=function(token,data){data&&data.password&&data.password.length>=4?($scope.fmResettingPassword=!0,Api.resetPassword({password:data.password,token:token},function(response){$scope.fmResettingPassword=!1,$scope.forms.resetPassword={success:!0,errors:{}},MODAL_FORGOT_PASSWORD.hide(),TrackingService.postEvent("Reset password",{Status:"Success",Email:$scope.user&&$scope.user.email?$scope.user.email:"",Phone:$scope.user&&$scope.user.mobileNumber?$scope.user.mobileNumber:""})},function(data){$scope.fmResettingPassword=!1,$scope.forms.resetPassword={success:!1,errors:data.data},TrackingService.postEvent("Reset password",{Status:"Failure",Error:data.data&&data.data.message?data.data.message:"",Email:$scope.user&&$scope.user.email?$scope.user.email:"",Phone:$scope.user&&$scope.user.mobileNumber?$scope.user.mobileNumber:""})})):$scope.forms.resetPassword={success:!1,errors:{message:"Enter atleast 4 character"}}},$(".modal").on("show.bs.modal",function(){$timeout(function(){$scope.forms=_.extend($scope.forms,{register:{},forgotPassword:{},login:{},address:{address:_.pick($scope.location,"locality","lat","lon","addressLine2","zipCode")}}),$scope.registerForm={},$scope.loginForm={}})}),$("#address-list").on("show.bs.modal",function(){$timeout(function(){$scope.getUserAddresses()})}),$scope.$watch("focused",function(newValue,oldValue){}),$scope.$watch("location",function(newValue,oldValue){$scope.forms.checkout.address=newValue,$scope.getCheckoutData()}),$scope.getParameterByName=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},$scope.runLanding=function(){$scope.getMobileOperatingSystem(),$scope.getUserLocation(function(loc){$scope.getCities(function(data){_.isEmpty($scope.location)?$scope.location={locality:{city:data[0]}}:($scope.getMenu(),$scope.searchInput=$scope.getAddressLine2FormattedAddress(loc))})})},$scope.formatDefaultMenu=function(data,callback){$scope.menu=data,$scope.defaultMenu=!0,$scope.menu.collections&&$scope.mapMenu(),_.isUndefined(callback)||callback(data)},$scope.getDefaultMenu=function(cb){$scope.loading=!0,Api.getDefaultMenu(function(data){$scope.loading=!1,data.bannerUrl&&data.bannerUrl.bannerUrl?data.bannerUrl.bannerUrl!=$scope.bannerUrl&&($scope.bannerUrl=data.bannerUrl.bannerUrl,$("#hero").carousel($scope.bannerUrl,7e3)):data.bannerUrl&&data.bannerUrl.length>0&&data.bannerUrl!=$scope.bannerUrl&&($scope.bannerUrl=data.bannerUrl,$("#hero").carousel($scope.bannerUrl,7e3)),$scope.formatDefaultMenu(data,cb)})},$scope.$watch("addresses",function(newValue,oldValue){}),$scope.getAddressLine2FormattedAddress=function(add){var st="";return add&&(add.addressLine2&&(st=add.addressLine2),add.locality&&!_.isEmpty(add.locality.name)&&(st=st+" "+add.locality.name),add.locality&&add.locality.city&&!_.isEmpty(add.locality.city.name)&&(st=st&&st.length>1?st+", "+add.locality.city.name:add.locality.city.name)),st},$scope.getSearchInput=function(){return $scope.searchInput||""},$scope.initMenuPage=function(metadata){for(var key in metadata)$scope[key]=metadata[key];$scope.menu&&$scope.menu.collections&&$scope.segregateMenu($scope.menu.collections),$scope.isUserCallDone=!0,$scope.loading=!1,$scope.formatCartInfo($scope.cartInfo),_.isEmpty($scope.location)?$scope.formatDefaultMenu($scope.menu):($scope.formatMenu($scope.menu),$scope.newAddress=$scope.getAddressLine2FormattedAddress($scope.location)),_.isEmpty($scope.user)||$scope.formatUserAddressess(metadata.addresses),$scope.setDividerText()},$scope.changeQty=function(item,oldVal,newVal,$index){if("bulk"==newVal)return MENU_CART.hide(),MODAL_BULK.show(),void $scope.addToCart(item,15-oldVal,$index);if("0"==newVal)return void $scope.removeFromCart(item,oldVal,!0,oldVal);var qty=parseInt(oldVal)-parseInt(newVal);$scope["checkoutCartLoading"+$index]=!0,qty<0?$scope.addToCart(item,Math.abs(qty),$index):$scope.removeFromCart(item,Math.abs(qty),!0,item.quantity,$index)},$scope.removeFromCartChangeQty=function(item,quantity,$index){item.fromIncrement=!0,$scope.removeFromCart(item,quantity,$index)},$scope.addToCartChangeQty=function(item,quantity,$index){item.fromIncrement=!0,$scope.addToCart(item,quantity,$index)},$scope.$watch("addresses.addresses",function(newValue,oldValue){_.isEmpty(newValue)&&!_.isEmpty(oldValue)&&($scope.addresses.addresses=oldValue)}),$scope.loadedMetaData=!1,$scope.setDefaultMenu=function(){$scope.citySelected=_.find($scope.cities,function(item){return _get($scope.validation,"serviceability.addressDTO.locality.city.id")==item.id}),$scope.cityName=$scope.citySelected&&$scope.citySelected.name?$scope.citySelected.name:"",console.log("##################3"),$scope.searchInput=_.isUndefined($scope.location)?"":$scope.getAddressLine2FormattedAddress($scope.location),$scope.menu.s&&($scope.menu.serviceability=$scope.menu.s),0!=$scope.menu.serviceability.serviceable&&GTM_log_funnel_step({action:"Checkout",ecommerce:{checkout:{actionField:{step:1}}}},function(){console.log("########################## FUNNEL STEP 1")}),$scope.citySelected?$scope.cityName=$scope.citySelected.name:$scope.cityname=$scope.formattedAddress,$scope.searchInput=_.isUndefined($scope.location)?"":$scope.location.addressLine2,$scope.city=_.find($scope.cities,function(item){return $scope.location&&$scope.location.locality&&$scope.location.locality.city?$scope.location.locality.city.id==item.id:!$scope.location||!$scope.location.addressLine2||$scope.location.addressLine2.indexOf(item.name)>-1}),$scope.citySelected=angular.copy($scope.city)},$scope.setCitySelector=function(){$scope.citySelectorOptions=[{address:{locality:{city:{id:1,name:"Bengaluru"}},pos:{lat:12.971599,lng:77.594563}}},{address:{locality:{city:{id:2,name:"Mumbai"}},pos:{lat:19.075984,lng:72.877656}}},{address:{locality:{city:{id:3,name:"New Delhi"}},pos:{lat:28.613939,lng:77.209021}}},{address:{locality:{city:{id:4,name:"Gurgaon"}},pos:{lat:28.459497,lng:77.026638}}}]},$scope.clearLocation=function(){$scope.newAddress=""},$scope.handleUrlPrams=function(){$scope.msg=$scope.getParameterByName("msg")},$scope.storeCheckoutData=function(){if(("undefined"!=typeof Storage||_.isUndefined($scope.user)||_.isUndefined($scope.user.id))&&localStorage)try{localStorage.setItem("guestUser",JSON.stringify($scope.forms.checkout.user)),localStorage.setItem("guestAddress",JSON.stringify($scope.forms.checkout.address))}catch(e){}},$scope.clearGuestAddress=function(){("undefined"!=typeof Storage||_.isUndefined($scope.user)||_.isUndefined($scope.user.id))&&localStorage&&localStorage.removeItem("guestAddress")},$scope.getCheckoutData=function(){if("undefined"!=typeof Storage&&_.isUndefined($scope.user.id)&&localStorage){var guestUser=localStorage.getItem("guestUser"),guestAddress=localStorage.getItem("guestAddress");null==guestUser||"undefined"==guestUser||_.isUndefined($scope.forms)||_.isUndefined($scope.forms.checkout)||($scope.forms.checkout.user=JSON.parse(guestUser)),null==guestAddress||_.isUndefined($scope.forms)||_.isUndefined($scope.forms.checkout)||($scope.forms.checkout.address=JSON.parse(guestAddress))}},$scope.runCheckout=function(){$scope.checkoutPage=!0,$scope.loading=!0,$scope.handleUrlPrams(),$scope.getCities(),$scope.getUser(function(data){_.isEmpty(data)||($scope.forms.checkout.user=data,$scope.isUserCallDone=!0,$window.user=data,$scope.getUserAddresses())}),$scope.getUserLocation(),$scope.getCart(function(){$scope.loading=!1})},$scope.$watch("$window.simplPaymentApproved",function(newEmail,oldEmail){$scope.simplPaymentApproved=$window.simplPaymentApproved}),$scope.$watch("cart.finalAmount",function(newCart,oldCart){$window.Simpl&&$window.Simpl.setTransactionAmount(100*$scope.cart.finalAmount)}),$scope.selectAddress=function(address){$scope.forms.checkout.address=address,$scope.location=address,$scope.forms.checkout.user=_.extend($scope.forms.checkout.user,_.pick(address,"firstName","lastName","mobileNumber")),$scope.setUserLocation(_.omit(address,"firstName","lastName","mobileNumber"),function(){$scope.getCart(),$scope.getMenu()})},$scope.formatUserAddressess=function(data,select){var addressList=[];addressList.push.apply(addressList,$scope.user.corporateAddresses),addressList.push.apply(addressList,$scope.user.userAddresses);var list=_.map(addressList,function(address){return _.isEmpty(address.mobileNumber)||(address.mobileNumber=address.mobileNumber.substring(address.mobileNumber.length-10,address.mobileNumber.length)),address});if(data.addresses=list,$scope.addresses=data,data.lastUsedAddressId){var address=_.find(data.addresses,function(address){return address.id==data.lastUsedAddressId});$scope.lastUsedAddress=address}if(select){var addressId=$localstorage.get("lastUsedAddressId",!1);if(addressId){var address=_.find(data.addresses,function(address){return address.id==addressId});if(_.isUndefined(address)){if(data.lastUsedAddressId){var address=_.find(data.addresses,function(address){return address.id==data.lastUsedAddressId});$scope.selectAddress(address)}}else $scope.selectAddress(address)}else if(data.lastUsedAddressId){var address=_.find(data.addresses,function(address){return address.id==data.lastUsedAddressId});$scope.selectAddress(address),$scope.lastUsedAddress=address}}},$scope.getUserAddresses=function(select){Api.getUserAddresses(function(addresses){$scope.formatUserAddressess(addresses,select)})},$scope.validateCheckout=function(){$scope.checkout.errors={},$scope.checkout.invalid=!1;var user=$scope.forms.checkout.user,address=$scope.forms.checkout.address,emailRegx=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return _.isUndefined(user)||_.isEmpty(user)?$scope.checkout.errors={firstName:!0,mobileNumber:!0,email:!0}:((_.isUndefined(user.firstName)||_.isEmpty(user.firstName.trim()))&&($scope.checkout.errors.firstName=!0),_.isUndefined(user.mobileNumber)?$scope.checkout.errors.mobileNumber=!0:_.isEmpty(user.mobileNumber.toString())&&($scope.checkout.errors.mobileNumber=!0),(_.isUndefined(user.email)||_.isEmpty(user.email.trim())||!user.email.match(emailRegx))&&($scope.checkout.errors.email=!0)),_.isUndefined(address)||_.isEmpty(address)?($scope.checkout.errors={label:!0,addressLine1:!0,zipCode:!0},$scope.checkout.invalid=!0,!1):($scope.user.id&&!$scope.forms.checkout.address.id&&(_.isUndefined(address.label)||_.isEmpty(address.label.trim()))&&($scope.checkout.errors.label=!0),(_.isUndefined(address.addressLine1)||_.isEmpty(address.addressLine1.trim()))&&($scope.checkout.errors.addressLine1=!0),_.isUndefined(address.zipCode)?$scope.checkout.errors.zipCode=!0:_.isEmpty(address.zipCode.toString())?$scope.checkout.errors.zipCode=!0:6!=address.zipCode.toString().length&&($scope.checkout.errors.zipCode=!0),$scope.checkout.invalid=!_.isEmpty($scope.checkout.errors),_.isEmpty($scope.checkout.errors))},$scope.createCODOrder=function(){$scope.user.id?$scope.getCart(function(cartResp){null==cartResp||null==cartResp.cart||null==cartResp.cart.items||0==cartResp.cart.items.length?alert("Please select atleast one item"):Api.createBusinessOrder($scope.user,$scope.location,function(data){window.location.replace("/order-created")},function(data){})}):($("#confirm").modal("hide"),$("#login").modal("show"),$scope.confirmInProgress=!0)},$scope.setCreateOrderInfo=function(user,address,note){$scope.checkoutUser=user,$scope.checkoutAddress=address,$scope.checkoutNote=note},$scope.createOrder=function(user,address,note,transactionToken){0==$scope.cart.items.length?window.location.href="/":$scope.validateCheckout()?$scope.getCart(function(){$scope.validation&&$scope.validation.serviceability&&$scope.validation.serviceability.serviceable&&_.isEmpty($scope.validation.error)&&(address.firstName=user.firstName,address.lastName=user.lastName,address.mobileNumber=user.mobileNumber,$scope.user.id?address.id?($scope.updateUserAddress(address),$scope.sendOrder(user,address,note,transactionToken)):($scope.addUserAddress(address),$scope.sendOrder(user,address,note,transactionToken)):$scope.sendOrder(user,address,note,transactionToken))}):$("html, body").animate({scrollTop:$window.$("#checkout-form").offset().top-20},1e3)},$window.createOrderForSimpl=function(transactionToken){$scope.createOrder($scope.forms.checkout.user,$scope.forms.checkout.address,$scope.forms.checkout.note,transactionToken)},$scope.sendOrder=function(user,address,note,transactionToken){if($scope.msg="",!$scope.orderInProgress)if($scope.orderInProgress=!0,"COD"==$scope.payment_method||"SIMPL"==$scope.payment_method){$scope.storeCheckoutData(),$scope.verifyCartTimings($scope.cart.deliveryTimes);var postCreateData={cartTimingCheck:$scope.cartTimingCheck.show?$scope.cartTimingCheck.display:void 0,transactionToken:transactionToken?transactionToken:void 0,user:user,address:address,note:note,payment_method:$scope.payment_method};Api.createOrder(postCreateData,function(data){window.location.replace("/order-created")},function(data){_handleInitiatePaymentFailure($scope,$window)})}else if("CITRUS_WALLET"==$scope.payment_method){var url,postData,cb;$scope.orderInProgress=!0,url="/api/payment/initialize?gateway="+$scope.payment_method,postData={user:user,address:address,note:note},cb=function(result){if(result&&result.data){delete result.data.params.isCitrusPaymentFlow;var config={walletUrl:result.data.notifyUrl,walletLaunchHandler:function(cbObj){"walletClosed"==cbObj.event&&($scope.orderInProgress=!1,$scope.handleInitiatePaymentFailure($scope,$window,"transaction_fail"))}};window.citrusWallet.launchWallet(result.data.params,config)}else $scope.handleInitiatePaymentFailure($scope,$window)},Api.initiatePayment(url,postData,cb)}else{var action="/api/payment/initialize?gateway="+$scope.payment_method;transactionToken&&transactionToken.length>0&&(action=action+"&transactionToken="+transactionToken),$scope.storeCheckoutData(),$("form#checkout-form").attr("enctype","application/json").attr("action",action).attr("method","POST"),form.submit()}},$scope.addNewItem=function(){$scope.checkoutPage&&(window.location.href="/"),MENU_CART.hide(),$("#menu").goTo(150)},$scope.getMobileOperatingSystem=function(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)||userAgent.match(/iPod/i)?$scope.OS={type:"iOS",app_url:"https://itunes.apple.com/app/id957179182"}:userAgent.match(/Android/i)?$scope.OS={type:"Android",app_url:"https://play.google.com/store/apps/details?id=com.freshmenu"}:$scope.OS={type:"unknown"}},$scope.getUserLocation=function(callback){Api.getUserLocation(function(data){$scope.location=data,callback&&callback(data)})},$scope.setCityForNewAddress=function(object){$scope.forms.address.address.locality={city:object}},$scope.clear=function(){$scope.clearAutocomplete=!0},$scope.setCity=function(object){$scope.setUserLocation({locality:{city:object}},function(){$scope.getCart(function(){$scope.getMenu()})})},$scope.checkIfMains=function(value){return"mains"==value.toLowerCase(name)},$scope.handleAuthSuccess=function(user){$localstorage.removeItem("lastUsedAddressId"),MODAL_REGISTER_EMAIL.hide(),MODAL_LOGIN.hide(),MODAL_REGISTER_CHOISE.hide(),window.MODAL_REGISTER_JOIN&&window.MODAL_REGISTER_JOIN.hide(),user.email&&($scope.user=user,_getSimplPaymentApproval(),$scope.setDividerText(),$scope.forms.checkout.user=user,$scope.getUserAddresses(),$scope.getMenu(),$scope.user&&!$scope.user.mobileNumberVerified&&$scope.displayDigitsPopup(),$scope.confirmInProgress&&($("#confirm").modal("show"),$scope.confirmInProgress=!1),$scope.loginLoading=!1,$scope.businessPage&&$scope.getLastOrder())},$scope.redirectToBlog=function(){window.open("https://blog.freshmenu.com","_blank")},$scope.handleAuthError=function(data){$scope.forms.login.errors=data,$scope.loginLoading=!1,$scope.socialAuthError=!0},$scope.FB_auth=function(){$scope.socialAuthError=!1,FB.login(function(response){response.authResponse&&Api.socialAuth(response.authResponse.accessToken,"facebook",function(data){$scope.fromLoginSuccess=!0,$scope.handleAuthSuccess(data),dataLayer.push({event:"loginRequest",action:"Facebook",label:"Success"}),TrackingService.postEvent("User identified",{type:"Login",Mode:"Facebook",Status:"Success",Email:data.email?data.email:"",phoneNumber:data.mobileNumber?data.mobileNumber:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)},data),$scope.callAfterAnyLogin()},function(data){$scope.handleAuthSuccess(data),dataLayer.push({event:"loginRequest",action:"Facebook",label:"Fail"}),TrackingService.postEvent("User identified",{type:"Login",Mode:"Facebook",Status:"Failure",Email:data.email?data.email:"",phoneNumber:data.mobileNumber?data.mobileNumber:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)})})},{scope:"email"})},$scope.gp_auth_key=window.gp_auth_key&&""!=window.gp_auth_key?window.gp_auth_key:"",$scope.GP_auth=function(){$scope.socialAuthError=!1,gapi.auth2.authorize({client_id:$scope.gp_auth_key,scope:"email"},function(profile){Api.socialAuth(profile.access_token,"google",function(data){$scope.fromLoginSuccess=!0,$scope.handleAuthSuccess(data),dataLayer.push({event:"loginRequest",action:"Google",label:"Success"}),TrackingService.postEvent("User identified",{type:"Login",Mode:"Google plus",Status:"Success",Email:data.email?data.email:"",phoneNumber:data.mobileNumber?data.mobileNumber:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)},data),$scope.callAfterAnyLogin()},function(data){$scope.handleAuthSuccess(data),dataLayer.push({event:"loginRequest",action:"Google",
label:"Fail"}),TrackingService.postEvent("User identified",{type:"Login",Mode:"Google plus",Status:"Failure",Email:data.email?data.email:"",phoneNumber:data.mobileNumber?data.mobileNumber:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)})})})},$scope.confirmRegEmail=function(){$scope.confirmRegisterEmail=!0},$scope.openSignUpModal=function(){$("#login").modal("hide"),$timeout(function(){$("#register").modal("show")},400)},$scope.openLoginModal=function(){$("#register").modal("hide"),$timeout(function(){$("#login").modal("show")},400)},$scope.checkIfBetweenHours=function(first,second){var hours=(new Date).getHours(),minutes=(new Date).getMinutes(),ok=!0;return(hours<first||second<hours)&&(ok=!1),hours==second&&minutes>0&&(ok=!1),ok},$scope.getCollectionIcon=function(name){switch(name.toLowerCase(name)){case"mains":return"main-course";case"sides/salads":return"salads";case"desserts":return"desserts";default:return"main-course"}},$scope.$watch("cart.deliveryTimes",function(newVal,oldVal){$scope.verifyCartTimings(newVal)}),$scope.removeOutTimedItems=function(){if($scope.outTimedProducts.length>0){var item=$scope.outTimedProducts[0];$scope.predictCart(item.productDTO,item.quantity,!1),Api.removeFromCart({product:item.productDTO,quantity:item.quantity},function(data){$scope.cart=_.extend($scope.cart,_.omit(data.cart,"items")),$scope.outTimedProducts.shift(),$scope.validation=data.validation,$scope.cartAction=!1,$scope.setCartItemCount(),$scope.removeOutTimedItems()})}else $scope.cartTimingCheck={show:!1}},$scope.isDeliveryNowPresent=!0,$scope.verifyCartTimings=function(timings){if($scope.cart.deliveryEstimate?$scope.cartTimingCheck={show:!0,display:_getFormattedTime($scope.cart.deliveryEstimate)}:$scope.cartTimingCheck={show:!1},timings){$scope.isDeliveryNowPresent=!1,$scope.displayTimings=[];var copy=$scope.selected_delivered_time?$scope.selected_delivered_time.id:0;$scope.selected_delivered_time={id:0};for(var i=0;i<timings.length;i++)if("Delivery Later"===timings[i].action)for(var j=0;j<timings[i].timeSlots.length;j++)copy===timings[i].timeSlots[j].id&&($scope.selected_delivered_time=timings[i].timeSlots[j]),$scope.displayTimings.push(timings[i].timeSlots[j]);else"Delivery Now"===timings[i].action&&($scope.isDeliveryNowPresent=!0)}$scope.selected_delivered_time&&$scope.selected_delivered_time.id?$scope.shouldDeliveryNow=!1:$scope.isDeliveryNowPresent?$scope.shouldDeliveryNow=!0:($scope.shouldDeliveryNow=!1,$scope.selected_delivered_time=$scope.displayTimings[0])},$scope.offerCodeApplying=!1,$scope.selectDeliverySlot=function(timing){timing.id?($scope.shouldDeliveryNow=!1,$scope.selected_delivered_time=timing):($scope.shouldDeliveryNow=!0,$scope.selected_delivered_time={id:0}),$scope.goback()},$scope.getNextAvailableTime=function(timings){var day=new Date,minutes=60*day.getHours()+day.getMinutes(),time=0,sortedTimings=_.sortBy(timings,"startTime");if(minutes<=1350){for(var i=0;i<sortedTimings.length;i++)if(minutes<sortedTimings[i].startTime){time=sortedTimings[i].startTime;break}}else sortedTimings.length>0&&(time=sortedTimings[0].startTime);return _getFormattedTime(time)},$scope.checkTimings=function(timings){var ok=!1;if(_.isEmpty(timings))return!0;for(var day=new Date,minutes=60*day.getHours()+day.getMinutes(),i=0;i<timings.length;i++)timings[i].startTime<=minutes&&minutes<=timings[i].endTime&&(ok=!0);return ok},$scope.getAvailableTime=function(timings){for(var day=new Date,minutes=60*day.getHours()+day.getMinutes(),i=0;i<timings.length;i++)if(timings[i].startTime>minutes)return Math.floor(timings[i].startTime/60)+":"+timings[i].startTime%60},$scope.getCategoryImg=function(name){switch(name.toLowerCase(name)){case"veg":return"veg-icon";case"non veg":return"nonveg-icon";case"contains egg":return"egg-icon";default:return!1}},$scope.getFoodTagDetail=function(name){switch(name.toLowerCase(name)){case"m_s":return{icon:"medium-spicy-icon",name:"Medium Spicy"};case"s_f":return{icon:"sugar-free-icon",name:"Sugar Free"};case"c_d":return{icon:"contains-dairy-icon",name:"Contains Dairy"};case"v_s":return{icon:"very-spicy-icon",name:"Very Spicy"};case"c_n":return{icon:"contains-nuts-icon",name:"Contains Nuts"};case"g_f":return{icon:"gluten-free-icon",name:"Gluten Free"};case"c_s":return{icon:"contains-soy-icon",name:"Contains Soy"};default:return!1}},$scope.getLastOrder=function(){$scope.loading=!0,$scope.getUser(function(data){_.isEmpty(data)?window.location.href="/":Api.getUserLastOrder(function(data){$scope.lastOrder=data,$scope.loading=!1,$scope.businessPage&&(_.isEmpty(data.latestOrderByUser)||($scope.alreadyOrdered=$scope.checkIfTimestamsInSameDay((new Date).getTime(),data.latestOrderByUser.createdAt)&&"cancelled"!=data.latestOrderByUser.status.name))})})},$scope.checkIfTimestamsInSameDay=function(first,second){var first=Math.floor(first/1e3/60/50/24),second=Math.floor(second/1e3/60/50/24);return first==second},$scope.focusSearch=function($event){$event.preventDefault(),$scope.focusInput=!0,$scope.fail=!0,$("html, body").animate({scrollTop:0},"slow")},$scope.scrollToCarousel=function($event){$event.preventDefault(),$("html, body").animate({scrollTop:$("#tap-to-eat").offset().top},"slow")},$scope.addUserAddress=function(address){$("#add-address").modal("hide"),Api.addUserAddress(address,function(data){$scope.addresses.addresses.push(data.userAddress),$scope.selectAddress(data.userAddress)},function(data){})},$scope.updateUserAddress=function(address,callback){Api.updateUserAddress(address,function(data){callback&&callback()},function(data){})},$scope.selectCity=function(city){$scope.clearAutocomplete=!0,$scope.location={locality:{city:city}}},$scope.showLocationForMobile=function(){$scope.showMobileDropdown=!0},$scope.setGoogleLocationForNewAddress=function(result){$scope.showMobileDropdown=!1;var address=$scope.processGoogleAutocomplete(result);$scope.forms.address.address=_.extend($scope.forms.address.address,address)},$scope.autocompleteAddressDisplay=function(object){return _.isUndefined(object.addressLine1)&&(object.addressLine1=""),_.isUndefined(object.addressLine2)&&(object.addressLine2=""),object.addressLine1?object.addressLine1:" "+object.addressLine2?object.addressLine2:""},$scope.getAddressDisplayName=function(address){if(address){var str=address.addressLine2?address.addressLine2:"";return address.locality&&(address.locality.name&&(str+=", "+address.locality.name),address.locality.city&&address.locality.city.name&&(str+=", "+address.locality.city.name)),str}},$scope.setGoogleLocation=function(result){var address=$scope.processGoogleAutocomplete(result);$scope.newAddress=result.formatted_address,$scope.cityname=address.locality.city.name,address.locality=$scope.location.locality,$scope.setUserLocationAndClearCart(address,function(){$scope.getCart(function(){$scope.getMenu()})})},$scope.encodeURI=function(url){return encodeURIComponent(url)},$scope.FB_share=function(url){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(url),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600"),!1},$scope.TW_share=function(url,text){return _.isUndefined(text)&&(text=""),window.open("http://twitter.com/share?url="+encodeURIComponent(url)+"&text="+encodeURIComponent(text),"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0"),!1},$scope.GP_share=function(url){return window.open("https://plus.google.com/share?url="+url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1},$scope.setLocationAndGetMenu=function(address){$timeout(function(){$scope.showMobileDropdown=!1,$scope.loading=!0,$scope.newAddress=address.addressLine2,$scope.searchInput=address.addressLine2,MODAL_LOCATION_ADDRESS.hide(),console.log(address),$scope.cityname=address.locality&&address.locality.city?address.locality.city.name:"",$scope.setUserLocationAndClearCart(address,function(){$scope.getCart(function(){$scope.getMenu(function(){$scope.defaultMenu=!1,console.log($scope.location)})})})})},$scope.setUserLocation=function(address,callback){$scope.fail=!1;var path=document.location.pathname,page=path.substring(path.indexOf("/"));"/"==page&&(page="/menu"),TrackingService.postEvent("Location selected",{Locality:address&&address.addressLine2?address.addressLine2:"",Source:page,Type:"Custom",Status:"Success"}),Api.setUserLocation(address,function(data){$scope.location=data,$scope.clearGuestAddress(),callback&&callback()})},$scope.setUserLocationAndClearCart=function(address,callback){$scope.fail=!1,Api.setUserLocationAndClearCart(address,function(data){$scope.location=data,$scope.clearGuestAddress(),callback&&callback()})},$scope.scrollToMenu=function(){$scope.isMenuPage||(window.location.href="/"),$timeout(function(){$("html, body").animate({scrollTop:$("#menu").offset().top-70},200)},200)},$scope.openLocationModal=function(){MODAL_LOCATION_ADDRESS.show()},$scope.$watch("location",function(newVal,oldVal){_.isEmpty(newVal)&&$scope.clearActionQueue()}),$scope.actionQueue=[],$scope.clearActionQueue=function(){_.each($scope.actionQueue,function(action){action()})},$scope.pushActionQueue=function(action){$scope.actionQueue.push(action)},$scope.findCity=function(address){_.forEach($scope.citySelectorOptions,function(city){if(address.indexOf(city.address.locality.city.name)>=0)return $scope.defaultCityPosition=city.address.pos,$scope.cityName=city.address.locality.city.name,!1})},$scope.setUserNewLocation=function(address,saveCity){var path=document.location.pathname,page=path.substring(path.indexOf("/"));"/"==page&&(page="/menu"),TrackingService.postEvent("Location selected",{Locality:address&&address.addressLine2?address.addressLine2:"",Source:page,Type:"Custom",Status:"Success"}),$scope.defaultMenu||saveCity||MODAL_LOCATION_ADDRESS.hide();var cityName="";cityName=address.address?address.address.locality.city.name:address.addressLine2,saveCity?($scope.cityName=cityName,$scope.GTM_Custom_Event({category:"Select City",action:"Click",label:cityName,value:1})):$scope.cityName="Choose City",MENU_CITY.hide(!0),$scope.displayOfferDetails&&$scope.displayOfferDetails.message&&!$scope.displayOfferDetailsShownAlready&&($scope.displayOfferDetailsShownAlready=!0,$scope.user&&$scope.user.id||$timeout(function(){$scope.user&&$scope.user.id||MODAL_REGISTER_CHOISE.show()},4e3)),$scope.findCity(cityName),$scope.setUserLocation(address,function(){$scope.getMenu(),$scope.getCart()})},$scope.setUserNewCity=function(city,$event){$scope.citySelected=city,$scope.GTM_Custom_Event({category:"Select City",action:"Click",label:city.name,value:1}),$($event.target).closest(".modal").find("input").focus()},$scope.setUserLocationAndClearCartAndGetMenu=function(address,callback){$scope.fail=!1,Api.setUserLocationAndClearCartAndGetMenu(address,function(results){$scope.location=results.address,$scope.formatCartInfo(results.cart),$scope.formatMenu(results.menu,callback),$scope.segregateMenu($scope.menu.collections),$scope.loading=!1,results.bannerUrl&&results.bannerUrl&&results.bannerUrl.bannerUrl!=$scope.bannerUrl&&($scope.bannerUrl=results.bannerUrl.bannerUrl,$scope.bannerUrl&&$("#hero").carousel($scope.bannerUrl,7e3)),$scope.clearGuestAddress(),callback&&callback()})},$scope.setNewLocationAddress=function(address){$scope.showLocationPopupErrorMessage=!1,$scope.defaultMenu=!1,$scope.noLocation=!1,$scope.setUserNewLocation(address)},$scope.closeAllAccordeons=function($index){angular.forEach($scope.orders,function(value,key){key!=$index&&($scope.orders[key].closeAccordeon=!0)})},$scope.getOrders=function(){Api.getOrders(function(data){$scope.orders=data})},$scope.getLastOrder=function(){Api.getLastOrder(function(data){})},$scope.isOpened=function(order){return $scope.order_id==order.id},$scope.runOrdersPage=function(orders,order_id){for(var i=0;i<orders.length;i++){var order=orders[i];if(order.itemInfoDetails&&order.itemInfoDetails.length&&(order.itemsDetail=order.itemInfoDetails,order.itemsDetail&&order.itemsDetail.length))for(var j=0;j<order.itemsDetail.length;j++)order.itemsDetail[j].pricePerItem=order.itemsDetail[j].p&&(order.itemsDetail[j].p.p||0==order.itemsDetail[j].p.p)?order.itemsDetail[j].p.p:order.itemsDetail[j].pricePerItem,order.itemsDetail[j].quantity=order.itemsDetail[j].q,order.itemsDetail[j].product=order.itemsDetail[j].p,order.itemsDetail[j].product.id=order.itemsDetail[j].product.i,order.itemsDetail[j].product.title=order.itemsDetail[j].product.t,order.itemsDetail[j].product.subTitle=order.itemsDetail[j].product.st,order.itemsDetail[j].product.image=order.itemsDetail[j].product.im,order.itemsDetail[j].product.categories=order.itemsDetail[j].product.c,order.itemsDetail[j].product.medias=[{ORIGINAL:{url:order.itemsDetail[j].product.im}}]}$scope.order_id=order_id,$scope.orders=orders;var orderIdInCookie=Cookie.get("fmOrderIdInOrderPage");$scope.getUser(function(){if($scope.getMobileOperatingSystem(),orders&&orders.length>0&&$scope.isOrderCreatedPage()&&orderIdInCookie!=order_id&&(Cookie.set({cookieName:"fmOrderIdInOrderPage",cookieValue:order_id,expireTime:720}),Cookie.delete("fmOrderIdInOrderPageFeedback")),$scope.orders&&$scope.orders.length&&window.location.pathname.indexOf("order-created")!=-1&&"checkout"===$scope.getParameterByName("from")){if($scope.orders[0].popup&&Cookie.get("fmShownCustomPopup")!==$scope.orders[0].popup.id.toString()&&(Cookie.set({cookieName:"fmShownCustomPopup",cookieValue:$scope.orders[0].popup.id,expireTime:$scope.orders[0].popup.pd||720}),$scope.popup=$scope.orders[0].popup,window.MODAL_CUSTOM_POPUP&&window.fmIsMobileTemplate&&window.MODAL_CUSTOM_POPUP.show()),"undefined"!=typeof Storage&&$localstorage.set("last-order-time",new Date),Cookie.get("fmOrderIdInOrderPageFeedback")&&Cookie.set({cookieName:"fmOrderIdInOrderPageFeedback",cookieValue:!1,expireTime:720}),"undefined"!=typeof Storage&&localStorage.getItem("fmShowTrackOrderWidget")&&localStorage.removeItem("fmShowTrackOrderWidget"),TrackingService.postEvent("Charged",{"Payment mode":window.fmIsMobileTemplate||"true"==window.fmIsMobileTemplate?Cookie.get("fmOuterPaymentMethod"):Cookie.get("fmOutPaymentMethod"),Amount:orders[0].totalAmount,status:"success","order id":orders[0].id,FreshMoney:orders[0].walletAmountUsed,"Saved card":window.fmIsMobileTemplate||"true"==window.fmIsMobileTemplate?"CARDS"==Cookie.get("fmOuterPaymentMethod")&&"newCard"!=Cookie.get("fmInnerPaymentMethod")?"True":"False":"CARDS"==Cookie.get("fmOutPaymentMethod")&&"newCard"!=Cookie.get("fmInnPaymentMethod")?"True":"False","Payment method":window.fmIsMobileTemplate||"true"==window.fmIsMobileTemplate?Cookie.get("fmInnerPaymentMethod"):Cookie.get("fmInnPaymentMethod"),"corporate orders":!!(orders[0].orderAdditionalDetails&&orders[0].orderAdditionalDetails.CORPORATE_DISCOUNT&&Number(orders[0].orderAdditionalDetails.CORPORATE_DISCOUNT)),"NUP Eligible":$scope.user&&$scope.user.newUser,"Club Eligible":$scope.user&&$scope.user.primeStatus&&""!=$scope.user.primeStatus?$scope.user.primeStatus:"",is_previous_method:!!window.is_previous_method,offerDiscount:orders[0].offerAmount>0,"FreshClub added":!(!orders[0].orderAdditionalDetails||!orders[0].orderAdditionalDetails.CLUB_PURCHASE),fm_wallet_applied:orders[0].walletAmountUsed>0?"applied":"not applied"}),!fmIsMobileTemplate&&(orders[0]&&orders[0].utmSource&&"tradetracker"==orders[0].utmSource||window.isUTMForTradeTracker)){var iframe='<iframe src="https://ts.tradetracker.net/?cid=31224&pid=47790&tid='+orders[0].id+"&tam="+(orders[0].amountToBeCollected&&orders[0].amountToBeCollected>0?orders[0].amountToBeCollected:orders[0].onlineAmountPaid)+"&eml=email&descrMerchant=additional&descrAffiliate="+orders[0].id+'" width="1" height="1" border="0" frameborder="0" scrolling="no" alt="" style="visibility:hidden;display:none"></iframe>';$(document.body).append(iframe)}orders[0].orderAdditionalDetails&&orders[0].orderAdditionalDetails.CLUB_PURCHASE&&TrackingService.postEvent("Subscribed",{mode:"cart",status:"successful"});var GTMData={event:"GTM_ECOM",transactionId:orders[0].id,transactionTotal:orders[0].totalAmount,transactionTax:0,transactionShipping:0,transactionProducts:[]};GTM_log_funnel_step({action:"Checkout",ecommerce:{checkout:{actionField:{step:8},products:_.map(_.find(orders,function(order){return order.id==order_id}).itemsDetail,function(item){return{name:item.product.title,id:item.product.id,price:item.pricePerItem,quantity:item.quantity}})}}},function(){console.log("########################## FUNNEL STEP 8")});for(var i=0;i<orders[0].itemsDetail.length;i++)GTMData.transactionProducts.push({sku:orders[0].itemsDetail[i].product.skuId,name:orders[0].itemsDetail[i].product.subTitle,price:orders[0].itemsDetail[i].pricePerItem,quantity:orders[0].itemsDetail[i].quantity});dataLayer.push(GTMData)}})},$scope.areNoOrdersOnPage=function(){var ok=!1;return _.forEach($scope.orders,function(order){if($scope.isPage(["/order-created","/current-orders","/past-orders"])){var orderDate=new Date(order.createdAt),today=new Date;if(!$scope.isDelivered(order.status.name)&&orderDate.setHours(0,0,0,0)==today.setHours(0,0,0,0))return ok=!0,!1;if("/current-orders"==window.location.pathname&&$scope.isDelivered(order.status.name)&&orderDate.setHours(0,0,0,0)==today.setHours(0,0,0,0))return ok=!0,$scope.orders=$scope.orders.slice(0,1),!1}if($scope.isPage(["/past-orders"])&&$scope.isDelivered(order.status.name))return ok=!0,!1}),window.location.href.indexOf("user")>=0&&window.location.href.indexOf("order")>=0||ok},$scope.isDelivered=function(status){return"new"!=status&&"shipped"!=status},$scope.isOrderCreatedPage=function(status){return window.location.href.indexOf("/order-created")!==-1},$scope.isPage=function(trails){return _.indexOf(trails,window.location.href.substr(window.location.href.lastIndexOf("/")))>=0},$scope.isTailTrueForAnyOneOrder=function(){if($scope.orders&&$scope.orders.length){for(var i=0;i<$scope.orders.length;i++)if($scope.isTail($scope.orders[i].status.name,$scope.orders[i].createdAt))return!0;return!1}return!1},$scope.isTail=function(status,date){switch(window.location.href.substr(window.location.href.lastIndexOf("/"))){case"/order-created":var orderDate=new Date(date),today=new Date;return!$scope.isDelivered(status)&&orderDate.setHours(0,0,0,0)==today.setHours(0,0,0,0);case"/current-orders":var orderDate=new Date(date),today=new Date;return 1==$scope.orders.length?orderDate.setHours(0,0,0,0)==today.setHours(0,0,0,0):!$scope.isDelivered(status)&&orderDate.setHours(0,0,0,0)==today.setHours(0,0,0,0);case"/past-orders":return!0}return window.location.href.indexOf("user")>=0&&window.location.href.indexOf("order")>=0},$scope.getMenuProducts=function(productId,limit){var tempProd,tempSuggestedProducts=[];Api.getSuggestedProducts(productId,function(response){if($scope.suggestedProducts=[],response&&response.products&&response.products.length>0){for(var j=0;j<response.products.length;j++)for(var productId=response.products[j],i=0;i<$scope.menu.collections.length;i++){var collection=$scope.menu.collections[i];if(tempProd=_.filter(collection.products,function(prod){return!!productId&&prod.id==productId}),tempProd.length>0){tempSuggestedProducts.push(tempProd[0]);break}}$scope.suggestedProducts=tempSuggestedProducts}else $scope.suggestedProducts=[]},function(){$scope.suggestedProducts=[]})},$scope.segregateMenu=function(collections){var products=_.flatten(_.map(collections,function(collection){return collection.products}));$scope.topProducts=$scope.filterOutMenu(products,"TOP"),$scope.bottomProducts=$scope.filterOutMenu(products,"BOTTOM"),$scope.mainProducts=$scope.filterOutMenuMainProducts(products)},$scope.filterOutMenuMainProducts=function(products){var separatedProducts,separatedProductsName="";return separatedProducts=_.filter(products,function(product){var filterConditionSatisfied=!0;return _.each(product.categories,function(category){filterConditionSatisfied&&category.categoryType&&category.categoryType.length>0&&(filterConditionSatisfied="TOP"!=category.categoryType.toUpperCase()&&"BOTTOM"!=category.categoryType.toUpperCase(),category.name&&category.name.length>0&&filterConditionSatisfied&&(separatedProductsName=category.name))}),filterConditionSatisfied}),separatedProducts.NAME=separatedProductsName,separatedProducts},$scope.filterOutMenu=function(products,categoryType){var separatedProducts,separatedProductsName="";return separatedProducts=_.filter(products,function(product){var filterConditionSatisfied=!1;return _.each(product.categories,function(category){!filterConditionSatisfied&&category.categoryType&&category.categoryType.length>0&&(filterConditionSatisfied=category.categoryType.toUpperCase()==categoryType,category.name&&category.name.length>0&&filterConditionSatisfied&&(separatedProductsName=category.name))}),filterConditionSatisfied}),separatedProducts.NAME=separatedProductsName,separatedProducts},$scope.cartHasSoldOutProducts=function(){return _.size(_.filter($scope.cart.items,function(item){return item.productDTO.soldOut}))>0||$scope.validation.cartErrorDTO&&"421"==$scope.validation.cartErrorDTO.errorCode},$scope.isKitchenClosed=function(){return!$scope.menu.isTodaysMenu},$scope.cityName="Choose City",$scope.getTomorrow=function(){var tomorrow=new Date;return tomorrow.setDate(tomorrow.getDate()+1),tomorrow},$scope.mapMenu=function(){var desserts=[],dessertsColIndex=-1,path=document.location.pathname;path.substring(path.indexOf("/"));$scope.kitchenClosed=$scope.isKitchenClosed();for(var i=0;i<$scope.menu.collections.length;i++){var collection=$scope.menu.collections[i];collection.isMains=$scope.checkIfMains(collection.name),"Desserts"==collection.name&&(dessertsColIndex=i);for(var j=0;j<collection.products.length;j++){var product=collection.products[j];product.timings=product.deliveryTimings,product.timings&&product.timings[0]&&(product.maxDeliveryTime=product.deliveryTimings&&product.deliveryTimings.maxDeliveryTime?product.deliveryTimings.maxDeliveryTime:$scope.defaultDeliveryTime,product.maxDeliveryTime&&product.maxDeliveryTime<$scope.defaultDeliveryTime&&$scope.checkTimings(product.timings)&&($scope.fmShowExpressDeliveryItems=!0,product.isExpressItem=!0)),product.price=product&&product.sellingPrice?product.sellingPrice:"",product.available=product.isAvailable,product.isVeg=$scope.isVeg(product),product.containsEgg=$scope.containsEgg(product),"Desserts"==collection.name&&parseInt(product.price)<200&&desserts.push(product),$scope.menu.imageBasePath&&product.image&&(product.fmImageUrl=$scope.getCloudFrontUrl($scope.menu.imageBasePath+product.image)),collection.isMains?(product.isMains=!0,product.soldOut=!product.isAvailable):product.soldOut=!product.isAvailable}}if(_.isEmpty($scope.location)&&"/faq"!=window.location.pathname&&"/corporate"!=window.location.pathname&&"/download-app"!=window.location.pathname?("undefined"!=typeof MODAL_LOCATION_ADDRESS&&MODAL_LOCATION_ADDRESS.show(),$scope.forceLocateMe=!0,_.isEmpty($("#city-menu-toggle"))?"undefined"!=typeof MENU_CITY&&MENU_CITY.show():$("#city-menu-toggle").click(),$timeout(function(){$("html, body").animate({scrollTop:0},10)},500)):_.has($scope.menu,"serviceability.addressDTO.locality.city.name")&&($scope.cityName=$scope.menu.serviceability.addressDTO.locality.city.name),$scope.businessPage){for(var i=0;i<$scope.menu.collections.length;i++){var collection=$scope.menu.collections[i];if("Sides/Salads"==collection.name)var index=i}$scope.menu.collections[index].products=$scope.menu.collections[index].products.concat(desserts),dessertsColIndex>0&&$scope.menu.collections.splice(dessertsColIndex,1)}},$scope.isEmpty=function(obj){return _isEmpty(obj)},$scope.isVeg=function(product){if(product.ct){for(var i=0;i<product.ct.length;i++)if("Veg"==product.ct[i])return!0}else if(product.categories)for(var i=0;i<product.categories.length;i++)if(product.categories&&26==product.categories[i].id)return!0;return!1};$scope.containsEgg=function(product){if(product.ct){for(var i=0;i<product.ct.length;i++)if("Contains Egg"==product.ct[i])return!0}else if(product.categories&&product.categories.length>0&&product.categories[0].name&&"Contains Egg"==product.categories[0].name)return!0;return!1};$scope.openCollectionDropdown=function(){$scope.collectionDropdownOpened=!$scope.collectionDropdownOpened,$scope.showMobileDropdown=!1},$scope.selectCollection=function(collection){var hashes=$window.location.hash.split("#");(!hashes||hashes.length<=1)&&$("#collection-"+collection.id).goTo(150,0),$scope.collectionDropdownOpened=!1,$scope.showMobileDropdown=!1,$timeout(function(){$scope.collection=collection},100)},$scope.$on("ngRepeatFinished",function(ngRepeatFinishedEvent){var collection,collections,hash,hashes,collectionNames;hashes=$window.location.hash.split("#"),hashes&&hashes.length>1&&$timeout(function(){collections=$scope.menu.collections,hash=hashes[1].toLowerCase(),hash=hash.replace("/","");for(var i=0;i<collections.length;i++){collectionNames=collections[i].name.split("/");for(var j=0;j<collectionNames.length;j++)hash==collectionNames[j].toLowerCase()&&(collection=collections[i])}collection?$("#collection-"+collection.id).goTo(150,0):collection=collections[0],$window.isInitialUrlHased=!0,$window.history.pushState("",$window.document.title,$window.location.pathname),$scope.collectionDropdownOpened=!1,$scope.showMobileDropdown=!1,$scope.collection=collection},0),$scope.isPageRendered||window.loadExternalScripts(),$scope.isPageRendered=!0}),$scope.selectPrevCollection=function(){for(var i=0;i<$scope.menu.collections.length&&$scope.collection.id!=$scope.menu.collections[i].id;)i++;0!=i&&($scope.collection=$scope.menu.collections[i-1])},$scope.checkifFirstCollection=function(){if(_.isUndefined($scope.menu.collections)||_.isEmpty($scope.menu.collections)||_.isNull($scope.menu.collections))return!1;for(var i=0;i<$scope.menu.collections.length&&$scope.collection.id!=$scope.menu.collections[i].id;)i++;return 0==i},$scope.checkIfLastCollection=function(){if(_.isUndefined($scope.menu.collections)||_.isEmpty($scope.menu.collections)||_.isNull($scope.menu.collections))return!1;for(var i=0;i<$scope.menu.collections.length&&$scope.collection.id!=$scope.menu.collections[i].id;)i++;return i==$scope.menu.collections.length-1},$scope.selectNextCollection=function(){for(var i=0;i<$scope.menu.collections.length&&$scope.collection.id!=$scope.menu.collections[i].id;)i++;i!=$scope.menu.collections.length-1&&($scope.collection=$scope.menu.collections[i+1])},$scope.getCities=function(callback){Api.getCities(function(data){$scope.cities=data,_.isUndefined(callback)||callback(data)})},$scope.getCloudFrontUrl=function(s3Url){var lastIndex=s3Url.lastIndexOf("/");return lastIndex>0?"//d3gy1em549lxx2.cloudfront.net/"+s3Url.substring(lastIndex+1):s3Url},$scope.setImgDimensionQueryParams=function(media){var imgUrl;return imgUrl=media.MEDIUM&&media.MEDIUM.url?media.MEDIUM.url:media.LARGE&&media.LARGE.url?media.LARGE.url:media.ORIGINAL&&media.ORIGINAL.url?media.ORIGINAL.url:"",(""==imgUrl||media.MOBILE&&media.MOBILE.url&&$($window).width()<=500)&&(imgUrl=media.MOBILE.url),$scope.getCloudFrontUrl(imgUrl)},$scope.collectionEvents=function(){function isScrolledIntoView(elem){var $elem=$(elem),$window=$(window);if(elem){var docViewTop=$window.scrollTop()+50,elemTop=$elem.offset().top,height=$elem.height();return elemTop<docViewTop&&elemTop+height>docViewTop}return!1}$(window).scroll(function(){if($scope.menu.collections)for(var i=0;i<$scope.menu.collections.length;i++)isScrolledIntoView(document.getElementById("collection-"+$scope.menu.collections[i].name))&&$scope.$apply(function(){$scope.fmCategoryHeader=$scope.menu.collections[i].name})})},$scope.CR_mapItems=function(list){return _.map(list,function(item){return{id:item.i,title:item.t,subTitle:item.st,price:item.p,details:item.d,fmImageUrl:item.im,timings:item.pdt,categories:item.c,isVisible:item.iv,mealType:item.mt,isVeg:$scope.isVeg(item),containsEgg:$scope.containsEgg(item),bsd:item.bsd,bsp:item.bsp}})},$scope.$watch("validation",function(newVal,oldVal){_.isUndefined(newVal)||_.isEmpty(newVal)||newVal&&newVal.cart&&newVal.cart.upsellProducts&&($scope.upsaleProducts=$scope.CR_mapItems(newVal.cart.upsellProducts))}),$scope.formatMenu=function(data,callback){$scope.menu=data,$scope.citySelected=_.find($scope.cities,function(city){if($scope.menu.serviceability&&$scope.menu.serviceability.addressDTO&&$scope.menu.serviceability.addressDTO.locality&&$scope.menu.serviceability.addressDTO.locality.city)return city.id==$scope.menu.serviceability.addressDTO.locality.city.id}),$scope.citySelected=_.find($scope.cities,function(city){if(_.has($scope.menu,"serviceability.addressDTO.locality.city.id"))return city.id==$scope.menu.serviceability.addressDTO.locality.city.id}),!data.collections||data.collections.length<=0?$scope.fmCategoryHeader="Today's menu":$(window).scrollTop($(window).scrollTop()+1),$scope.defaultMenu=!1,$scope.loading=!1,$scope.isProductDetailPage&&$scope.findAndMapProductDetails(data,$scope.product_details,function(product){$scope.product_details=product}),$scope.menu.collections&&$scope.mapMenu(),$scope.storeSavedItem(),_.isUndefined(callback)||callback(data)},$scope.getMenu=function(cb){$scope.loading=!0,Api.getMenu(function(data){if(location.pathname.split("/").includes("filter")&&4==location.pathname.split("/").length){var filteredProducts=[];if(data&&data.collections&&data.collections.length){for(var collections=data.collections,_i=0;_i<collections.length&&collections[_i].products.length;_i++)for(var j=0;j<collections[_i].products.length;j++)collections[_i].products[j].fi.includes(parseInt(location.pathname.split("/")[3]))&&filteredProducts.push(collections[_i].products[j]);data.collections=[{name:location.pathname.split("/")[2],products:filteredProducts}]}}$scope.formatMenu(data,cb),$scope.segregateMenu($scope.menu.collections),$scope.loading=!1,data.bannerUrl&&data.bannerUrl.bannerUrl?data.bannerUrl.bannerUrl!=$scope.bannerUrl&&($scope.bannerUrl=data.bannerUrl.bannerUrl,$("#hero").carousel($scope.bannerUrl,7e3)):data.bannerUrl&&data.bannerUrl.length>0&&data.bannerUrl!=$scope.bannerUrl&&($scope.bannerUrl=data.bannerUrl,$("#hero").carousel($scope.bannerUrl,7e3))})},$scope.storeSavedItem=function(){if(!_.isUndefined($scope.savedItem))for(var i=0;i<$scope.menu.collections.length;i++)for(var j=0;j<$scope.menu.collections[i].products.length;j++)$scope.menu.collections[i].products[j].id==$scope.savedItem.id&&$scope.addToCart($scope.savedItem,1)},$scope.isEmpty=function(obj){return _.isEmpty(obj)},$scope.getDeliveryTimeInterval=function(data){if(null==data.deliveryTimes)return _getFormattedTime(data.deliveryEstimate);for(i=0;i<data.deliveryTimes.length;i++)if("Delivery Later"==data.deliveryTimes[i].action)return _getFormattedTime(data.deliveryTimes[i].timeSlots[0].startTime)+" and "+_getFormattedTime(data.deliveryTimes[i].timeSlots[0].endTime)};var handleShowHideFreshmoney=function(cart,validation){$scope.applyFreshmoney=validation.applyFreshmoney};$scope.formatCartInfo=function(data,callback){$scope.cart=data.cart,$scope.fmDeliveryEstimate=$scope.getDeliveryTimeInterval(data.cart),$scope.createWalletObjFromList(data.cart),handleShowHideFreshmoney(data.cart,data.validation),$scope.showFreebieMessage(data.cart),$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),$scope.setCartItemCount(),_.isUndefined(callback)||callback(data)},$scope.fmShowCartPromoMsg=function(additionalCharge){if(additionalCharge.promo>additionalCharge.value)return!0;if(additionalCharge.additionalCharges&&additionalCharge.additionalCharges.length)for(var i=0;i<additionalCharge.additionalCharges.length;i++)if(additionalCharge.additionalCharges[i].promo>additionalCharge.additionalCharges[i].value)return!0;return!1},$scope.getCart=function(cb){Api.getCart(function(cartInfo){$scope.formatCartInfo(cartInfo,cb)})},$scope.setCartItemCount=function(){if($scope.cartItemsCount=0,$scope.cart&&$scope.cart.items)for(var i=0;i<$scope.cart.items.length;i++)$scope.cartItemsCount+=$scope.cart.items[i].quantity;else $scope.cartItemsCount=0;
0!=$scope.cartItemsCount&&$(".btn-cart").addClass("selected"),0==$scope.cartItemsCount&&$(".btn-cart").removeClass("selected")},$scope.goToCheckout=function(){$scope.cart.items.length>0&&!_.isUndefined($scope.location)&&!_.isEmpty($scope.location)?window.location.href="/checkout":($scope.showLocation=!0,$scope.fail=!0,rightSideMenu.toggleMenu())},$scope.redirectToAmazonAP=function(){TrackingService.postEvent("Clicked",{Source:"Setup Auto reload"}),window.location.href="https://dl.amazon.in/redirect/ref=mm_1_fm_ar/?campaignId=D8hNh9jrIYIX&ignoreCustomerPreferences=0&appInstalled=0&failureMode=MobileWebAlways&url=https%3A%2F%2Fwww.amazon.in%2Fb%3Fnode%3D15431858031"},$scope.checkIfPreparing=function(){var name=$scope.lastOrder.latestOrderByUser.status.name;return"new"==name||"confirmed"==name},$scope.getProductQuantity=function(product){for(var counter=0,i=0;i<$scope.cart.items.length;i++)$scope.cart.items[i].productId==product.id&&(counter+=$scope.cart.items[i].quantity);return counter},$scope.cartQueue=[],$scope.addToCartFirst=function(item,index,collectionId){0==index&&($scope.cartQueue.push({item:item,collectionId:collectionId}),1==$scope.cartQueue.length&&$scope.clearCartQueue())},$scope.clearCartQueue=function(){if(0!=$scope.cartQueue.length){var data=$scope.cartQueue[0];$scope.addToCartPerCollection(data.item,1,data.collectionId,function(){$scope.clearCartQueue(),$scope.cartQueue.shift()})}},$scope.filterBusinessProduct=function(product,collection){var first="Desserts"!=collection.name,second=!(684==product.id||683==product.id||379==product.id||518==product.id||519==product.id||375==product.id||374==product.id||673==product.id||674==product.id||91==product.id||225==product.id);return first&&second},$scope.addToCartPerCollection=function(item,quantity,collectionId,callback){var ok=!0;$scope.businessLoading=!0;for(var i=0;i<$scope.cart.items.length;i++){if(item.id==$scope.cart.items[i].productId){var ok=!1;Api.removeFromCart({product:$scope.cart.items[i].productDTO,quantity:quantity},function(data){$scope.cart=data.cart,$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),$scope.businessLoading=!1});break}if($scope.getProductCollectionId($scope.cart.items[i].productId)==collectionId){ok=!1,Api.removeFromCart({product:$scope.cart.items[i].productDTO,quantity:quantity},function(data){$scope.cart=data.cart,$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),Api.addToCart({product:item,quantity:quantity},function(data){$scope.cart=data.cart,$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),$scope.businessLoading=!1,_.isUndefined(callback)||callback()})});break}}ok&&Api.addToCart({product:item,quantity:quantity},function(data){$scope.cart=data.cart,$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),$scope.businessLoading=!1,_.isUndefined(callback)||callback()})},$scope.getProductCollectionId=function(itemId){for(var i=0;i<$scope.menu.collections.length;i++)for(var j=0;j<$scope.menu.collections[i].products.length;j++)if(itemId==$scope.menu.collections[i].products[j].id)return $scope.menu.collections[i].id},$scope.showDropdown=function(){$scope.showLocation=!0,$scope.showMobileDropdown=!0},$scope.getContactInfo=function(){$scope.contactInfo=window.contactInfo},$scope.showBmsmMessage=function(){$scope.fmshowToastMessage=!0,$scope.fmShownBmsmMessage=!0,$scope.toastMessageTimeout=$timeout(function(){window.document.addEventListener("scroll",clearToast)},3e3)},$scope.updateProduct=function(){$scope.isObjectEmpty($scope.validation.bsl)||Cookie.get("fmShownBmsmMessage")||(Cookie.set({cookieName:"fmShownBmsmMessage",cookieValue:"true",expireTime:.5}),$scope.fmshowFreebieMessage?$timeout(function(){$scope.showBmsmMessage()},3e3):$scope.showBmsmMessage()),$scope.validation.bsl&&$scope.validation.bsl[$scope.product_details.id]?($scope.product_details.bsd=$scope.validation.bsl[$scope.product_details.id].bsd,$scope.product_details.bsp=$scope.validation.bsl[$scope.product_details.id].bsp):($scope.product_details.bsd=0,$scope.product_details.bsp=$scope.product_details.sellingPrice);for(var i=0;i<$scope.suggestedProducts.length;i++)$scope.validation.bsl&&$scope.validation.bsl[$scope.suggestedProducts[i].id]?($scope.suggestedProducts[i].bsd=$scope.validation.bsl[$scope.suggestedProducts[i].id].bsd,$scope.suggestedProducts[i].bsp=$scope.validation.bsl[$scope.suggestedProducts[i].id].bsp):($scope.suggestedProducts[i].bsd=0,$scope.suggestedProducts[i].bsp=$scope.suggestedProducts[i].sellingPrice)},$scope.closeToastmessage=function(){$scope.fmshowToastMessage=!1,window.clearTimeout($scope.toastMessageTimeout),window.document.removeEventListener("scroll",clearToast)},$scope.isObjectEmpty=function(obj){return!obj||0===Object.keys(obj).length};var _getItemQtyInCart=function(itemBeAdded){var itemInCart=_.find($scope.cart.items,function(item){if(item.productId!=itemBeAdded.id||item.addons&&itemBeAdded.addons&&item.addons.length!==itemBeAdded.addons.length)return null;for(var i=0;i<item.addons.length;i++)if(!_.find(itemBeAdded.addons,function(addon){return addon.productId===item.addons[i].productId}))return!1;return i===item.addons.length});return itemInCart?itemInCart.quantity:0};$scope.addToCartFromYouMightAlsoLike=function(item,quantity){item.isYouMightLikeProduct=!0,$scope.addToCart(item,quantity)},$scope.addToCart=function(item,quantity,$index){var itemQtyInCart;if($scope.defaultMenu)$scope.showLocationForMobile(),$scope.fail=!0;else if(item.isCustomizableAddons)$scope.currentAddonItem=item,$scope.fmAddonFlags={},$scope.fmAddonItemsSelected=[],$scope.fmAddonPopupItemPrice=$scope.currentAddonItem.bsd?$scope.currentAddonItem.bsp:$scope.currentAddonItem.sellingPrice,$scope.fmPrevRadioButtonItem=null,$scope.gettingAddonsDetails=!0,TrackingService.postEvent("Screen visited",{Screenname:"Add ons",Id:item.id,Title:item.title,Category:item&&item.categories&&item.categories[0]&&item.categories[0].name?item.categories[0].name:"",Cuisine:item&&item.cuisine&&item.cuisine.name?item.cuisine.name:""}),PRODUCT_DETAILS_ADDONS_POPUP.show(),$scope.addonsProducts=null,Api.getAddonsDetails({productId:item.id},function(data){data.addonsProducts&&data.addonsProducts.length&&($scope.addonsProducts=data.addonsProducts),$scope.gettingAddonsDetails=!1},function(data){$scope.gettingAddonsDetails=!1,console.log("error in fetching addons..")});else{if(itemQtyInCart=_getItemQtyInCart(item),15==itemQtyInCart)return void MODAL_BULK.show();item.addingToCart=!0,$scope.cartAction||$scope.validation.error&&!_.isUndefined($scope.validation.error[item.id])||(item.confirmDelete=void 0,$scope.cartAction=!0,_.isUndefined($scope.location.lat)&&_.isUndefined($scope.location.id)?(MODAL_LOCATION_ADDRESS.show(),$scope["checkoutCartLoading"+$index]=!1,$scope.highlightSearch=!0,item.addingToCart=!1,$scope.cartAction=!1):($scope.highlightSearch=!1,$scope["checkoutCartLoading"+$index]=!0,$scope.predictCart(item,quantity,!0),$scope.fmAddonPopupItemPrice&&$scope.fmAddonPopupItemPrice>item.price&&(item.price=$scope.fmAddonPopupItemPrice),Api.addToCart({product:item,quantity:quantity},function(data){$scope.fmAddonPopupItemPrice=null,$scope["checkoutCartLoading"+$index]=!1,$scope.cart=data.cart,$scope.fmDeliveryEstimate=$scope.getDeliveryTimeInterval(data.cart),$scope.showFreebieMessage(data.cart),$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),$scope.setCartItemCount(),$scope.cartAction=!1,$scope.savedItem=void 0,data.validation.cartErrorDTO&&"421"==data.validation.cartErrorDTO.errorCode&&data.validation.cartErrorDTO.error&&data.validation.cartErrorDTO.error[item.id]?item.soldOut=!0:item.soldOut=!1;var path=document.location.pathname,page=path.substring(path.indexOf("/"));if(page.indexOf("/product")>0&&(page="Product detail"),item.isYouMightLikeProduct&&(page="you may also like"),item){var addingType=item.soldOut||!$scope.checkTimings(item.timings)||$scope.kitchenClosed?"Preorder":"Order now";GTM_log_funnel_step({action:"Checkout",ecommerce:{checkout:{actionField:{step:2}}}},function(){console.log("########################## FUNNEL STEP 2")}),dataLayer.push({event:"fireRemarketingTag",google_tag_params:{dynx_pagetype:"conversionintent",dynx_itemid:item.id}}),TrackingService.postEvent("Product added",{Id:item.id,Title:item.title,Category:item&&item.categories&&item.categories[0]?item.categories[0].name:"",Type:addingType,ScrollDepth:$(window).scrollTop(),Cuisine:item&&item.cuisine&&item.cuisine.name?item.cuisine.name:"",Source:page,Corporate:!(!item||!item.pm||"CORPORATE DISCOUNT"!=item.pm)})}1!=$scope.cartItemsCount||window.fmIsMobileTemplate||openCart(),item.addingToCart=!1})))}},$scope.gettingAddonsDetails=!1,$scope.fmAddonFlags={},$scope.fmAddonItemsSelected=[],$scope.fmPrevRadioButtonItem=null,$scope.fmIsInstaCouponApplied=!1,$scope.fmAddonPopupItemPrice=0,$scope.fmGhost="/pages/menu/images/ghost1.1.svg",$scope.removeAddonFromSelectedList=function(addonId){for(var i=0;i<$scope.fmAddonItemsSelected.length;i++)if($scope.fmAddonItemsSelected[i].id==addonId)return $scope.fmAddonItemsSelected.splice(i,1),i},$scope.fmIsAddonChecked=function(addonGroup,item){return!!$scope.fmAddonFlags[addonGroup.groupName]&&!!$scope.fmAddonFlags[addonGroup.groupName][item.id]},$scope.fmSetAddonFlag=function(groupType,groupName,item){"MULTI"==groupType?($scope.fmAddonFlags[groupName]||($scope.fmAddonFlags[groupName]={}),1==$scope.fmAddonFlags[groupName][item.id]?($scope.fmAddonFlags[groupName][item.id]=!1,$scope.removeAddonFromSelectedList(item.id),$scope.fmAddonPopupItemPrice-=item.sellingPrice):($scope.fmAddonFlags[groupName][item.id]=!0,$scope.fmAddonPopupItemPrice+=item.sellingPrice,$scope.fmAddonItemsSelected.push(item))):($scope.fmAddonFlags[groupName]&&$scope.removeAddonFromSelectedList($scope.fmPrevRadioButtonItem.id),$scope.fmPrevRadioButtonItem&&($scope.fmAddonPopupItemPrice-=$scope.fmPrevRadioButtonItem.sellingPrice),$scope.fmAddonFlags[groupName]={},$scope.fmAddonFlags[groupName][item.id]=!0,$scope.fmAddonItemsSelected.push(item),$scope.fmAddonPopupItemPrice+=item.sellingPrice,$scope.fmPrevRadioButtonItem=item)},$scope.addonAddToCart=function(){var fmMakeItem=$.extend(!0,{},$scope.currentAddonItem);fmMakeItem.addons=[],fmMakeItem.addons=$scope.fmAddonItemsSelected,fmMakeItem.isCustomizableAddons=!1,$scope.addToCart(fmMakeItem,1),PRODUCT_DETAILS_ADDONS_POPUP.hide()},$scope.addonAddToCartClose=function(){var fmMakeItem=$.extend(!0,{},$scope.currentAddonItem);fmMakeItem.addons=[],fmMakeItem.isCustomizableAddons=!1,$scope.addToCart(fmMakeItem,1),PRODUCT_DETAILS_ADDONS_POPUP.hide()},$scope.cancelRemoveFromCart=function(item){item.confirmDelete=void 0},$scope.emptyCart=function(){Api.resetCart(function(cartInfo){$scope.getCart()})},$scope.isCartContainsAtleastOneVisibleItem=function(){for(var containsAtleastOneVisibleItem=!1,i=0;i<$scope.cart.items.length&&!containsAtleastOneVisibleItem;i++)containsAtleastOneVisibleItem=containsAtleastOneVisibleItem||$scope.cart.items[i].productDTO.isVisible;return containsAtleastOneVisibleItem},$scope.addToCartFromUpsale=function(item,quantity){item.isUpsale=!0,$scope.addToCart(item,quantity)},$scope.removeFromCart=function(item,quantity,$index){$scope.cartAction||(item.addingToCart=!0,$scope.cartAction=!0,$scope.predictCart(item,quantity,!1),item.removingFromCart=!0,$scope["checkoutCartLoading"+$index]=!0,Api.removeFromCart({product:item,quantity:quantity},function(data){item.removingFromCart=!1,$scope["checkoutCartLoading"+$index]=!1,$scope.cart=data.cart,$scope.fmDeliveryEstimate=$scope.getDeliveryTimeInterval(data.cart),$scope.showFreebieMessage(data.cart),$scope.verifyCartTimings(data.cart.deliveryTimes),$scope.validation=data.validation,$scope.updateProduct(),$scope.cartAction=!1,item.addingToCart=!1,$scope.setCartItemCount(),$scope.cart.items&&0==$scope.cart.items.length&&(fmIsMobileTemplate?MENU_CART.hide():(document.body.style.overflow="auto",$scope.closeCart()),$scope.emptyCart());var path=document.location.pathname,page=path.substring(path.indexOf("/"));page.indexOf("/product")>0&&(page="Product detail"),TrackingService.postEvent("Product deleted",{Id:item.id,Title:item.title,Category:item&&item.categories&&item.categories[0]?item.categories[0].name:"",ScrollDepth:$(window).scrollTop(),Cuisine:item&&item.cuisine&&item.cuisine.name?item.cuisine.name:"",Source:page,Corporate:!(!item||!item.pm||"CORPORATE DISCOUNT"!=item.pm)})}))},$scope.inCart=function(productId){var index=_.findIndex($scope.cart.items,{productId:productId});return index},$scope.predictCart=function(item,quantity,isAdded){var index=$scope.inCart(item.id);isAdded?index<0?$scope.cart.items.push({pricePerItem:item.price,productId:item.id,quantity:quantity,totalPrice:item.price*quantity,productDTO:item}):($scope.cart.items[index].quantity+=quantity,$scope.cart.items[index].totalPrice+=quantity*$scope.cart.items[index].pricePerItem):$scope.cart.items[index]&&($scope.cart.items[index].quantity==quantity?$scope.cart.items.splice(index,1):($scope.cart.items[index].quantity-=quantity,$scope.cart.items[index].totalPrice-=quantity*$scope.cart.items[index].pricePerItem))},$scope.retryPayment=function(){$("html, body").animate({scrollTop:$window.$("#payment-options-container").offset().top-95},1e3)},$scope.codPayment=function(){$scope.payment_method="COD",$scope.createOrder($scope.forms.checkout.user,$scope.forms.checkout.address,$scope.forms.checkout.note)};var setCorporateTimings=function(){$scope.user&&$scope.user.corp&&($scope.user.corp.orderByTime&&($scope.corporateOrderingEndTime=_getFormattedTime($scope.user.corp.orderByTime)),$scope.user.corp.deliveryByTime&&($scope.corporateDeliveryEndTime=_getFormattedTime($scope.user.corp.deliveryByTime)))};$scope.handleCorporatePageShowHideLogin=function(){$scope.showCorporateSuccessMessage=window.location.hash.indexOf("corporateActivationSuccess")!=-1,$scope.showCorporateFailMessage=window.location.hash.indexOf("corporateActivationFail")!=-1,window.location.hash.indexOf("corporateActivationSuccess")!=-1&&TrackingService.postEvent("CorporateVerificationEmail",{isSuccess:!0}),window.location.hash.indexOf("corporateActivationFail")!=-1&&TrackingService.postEvent("CorporateVerificationEmail",{isSuccess:!1}),window.location.hash="",$scope.showCorporateSuccessMessage&&($scope.user&&$scope.user.id||MODAL_LOGIN.show()),setCorporateTimings()},$scope.isgetUserCalled=!1,$scope.getUser=function(callback){$scope.isgetUserCalled||($scope.isgetUserCalled=!0,Api.getUser(function(data){if(_.isEmpty(data),1)$scope.appDownload.mobileNumber=data.mobileNumber,$scope.isUserCallDone=!0,$scope.alreadyLogedIn=!(!data||!data.id),$scope.user=data,$scope.getFreshmoneyConfig(),fmIsMobileTemplate&&$scope.getCouponOffers(),window.location.pathname.indexOf("corporate")!=-1&&$scope.handleCorporatePageShowHideLogin(),$scope.forms.update.user=data,_getSimplPaymentApproval(),callback&&callback(data),$scope.setDividerText(),$scope.fmIsFromProductPage&&($scope.getUserAddresses(),setTimeout(function(){var fmEmail=$scope.user&&$scope.user.email?$scope.user.email:Cookie.get("fmAlternativeEmailId")&&Cookie.get("fmAlternativeEmailId").length>0?Cookie.get("fmAlternativeEmailId"):"";window.criteo_q&&(window.criteo_q.push({event:"setAccount",account:39162},{event:"setEmail",email:[fmEmail]},{event:"setSiteType",type:window.fmIsMobileTemplate?"m":"d"},{event:"viewItem",item:$scope.product_details.id}),console.log("CRITEO ---- PDP PAGE"))},0));else if(!$scope.thirdPartyApp||"phonepe"!=$scope.thirdPartyApp||$scope.user.id||$scope.isSSOPopupshown){if($scope.thirdPartyApp&&"flipkart"==$scope.thirdPartyApp&&!$scope.user.id&&!$scope.isSSOPopupshown){var fkPlatform=FKExtension.newPlatformInstance(clientID),scopeReq=[{scope:"user.email",isMandatory:!0,shouldVerify:!1},{scope:"user.mobile",isMandatory:!0,shouldVerify:!1},{scope:"user.name",isMandatory:!1,shouldVerify:!1},{scope:"user.location",isMandatory:!1,shouldVerify:!1}];fkPlatform.getModuleHelper().getPermissionsModule().getToken(scopeReq).then(function(e){console.log("Your grant token is: "+e.grantToken)}).catch(function(e){console.log(e.message)})}}else PhonePe.PhonePe.build(PhonePe.Constants.Species.web).then(function(sdk){sdk.fetchGrantToken().then(function(res){Api.fmPhonepeSSO(res,function(data){$scope.appDownload.mobileNumber=data.mobileNumber,$scope.isUserCallDone=!0,$scope.alreadyLogedIn=!(!data||!data.id),$scope.user=data,$scope.getFreshmoneyConfig(),fmIsMobileTemplate&&$scope.getCouponOffers(),window.location.pathname.indexOf("corporate")!=-1&&$scope.handleCorporatePageShowHideLogin(),$scope.forms.update.user=data,_getSimplPaymentApproval(),callback&&callback(data),$scope.setDividerText(),$scope.fmIsFromProductPage&&($scope.getUserAddresses(),setTimeout(function(){var fmEmail=$scope.user&&$scope.user.email?$scope.user.email:Cookie.get("fmAlternativeEmailId")&&Cookie.get("fmAlternativeEmailId").length>0?Cookie.get("fmAlternativeEmailId"):"";window.criteo_q&&(window.criteo_q.push({event:"setAccount",account:39162},{event:"setEmail",email:[fmEmail]},{event:"setSiteType",type:window.fmIsMobileTemplate?"m":"d"},{event:"viewItem",item:$scope.product_details.id}),console.log("CRITEO ---- PDP PAGE"))},0))})}).catch(function(err){})}).catch(function(err){})}))},$scope.showBusinessMenu=function(){$scope.businessPage=!0,$scope.loading=!0,$scope.getUser(function(){$scope.user.id&&$scope.getLastOrder()}),$scope.setUserLocation({lat:"12.951315",lon:"77.646453",addressLine1:"SWISS RE SHARED SERVICES (INDIA) PRIVATE LTD.",addressLine2:"5th Floor, Torrey Pines, EGL Business Park,Intermediate Ring Road"},function(){$scope.getCart(),$scope.getMenu()})},$scope.fcList=[],$scope.productFilter=function(product,soldOut){return!(!$scope.hasAnyCategories(product,$scope.fcList)&&$scope.filterActive)},$scope.newFilterList=[],$scope.setNewFilter=function(filter){$scope.isFilterButtonClicked=!0,$scope.newFilterList=filter;var index=$scope.fmNewFilterList.indexOf(filter.toString());index!=-1?$scope.fmNewFilterList.splice(index,1):$scope.fmNewFilterList.push(filter.toString()),$scope.newFilterListName=filter.toString(),$(window).scrollTop($(window).scrollTop()+1)},$scope.fmClearAllFilters=function(){$scope.fmNewFilterList=[]},$scope.shouldDisplayTrackerOrder=function(){return!_.isEmpty(Cookie.get("fmOrderIdInOrderPage"))},$scope.shouldDisplayTrackerOrderOnCurrentOrderTab=function(order_id){return!_.isEmpty(Cookie.get("fmOrderIdInOrderPage"))&&""!=order_id&&order_id==Cookie.get("fmOrderIdInOrderPage")},$scope.fmClearOrder=function(){Cookie.delete("fmOrderIdInOrderPage"),window.location.href="/logout"},$scope.checkNewFilter=function(filter){return _.isEqual($scope.newFilterList.sort(),filter.sort())},$scope.hasCollectionAnyCategoryItems=function(collection,fcList){for(var itemCount=0,i=0;i<collection.products.length;i++)_.each(collection.products,function(product){$scope.hasAnyCategories(product,fcList)&&itemCount++});return itemCount>0},$scope.hasAnyCategories=function(product,fcList){if(!_.isUndefined(product.categories)){var map=(product.categories.length,_.map(product.categories,function(item){return item.name}));return!_.isEmpty(_.intersection(map,fcList))}return!1},$scope.toggleFilterDropdown=function(){$scope.dropdownFilterOpen=!$scope.dropdownFilterOpen},$scope.handleClickEventsOnBody=function(event){$scope.dropdownFilterOpen&&($scope.dropdownFilterOpen=!1)},$scope.removeUserAddress=function(address_id){var userId=$scope.user?$scope.user.id:null;userId&&Api.removeUserAddress(address_id,userId,function(data){$scope.getUserAddresses()})},$scope.filterSet=function(cList){_.isEmpty(cList)?($scope.filterActive=!1,$scope.fcList=cList):_.isEqual($scope.fcList.sort(),cList.sort())||($scope.filterActive=!0,$scope.fcList=cList)},$scope.isFilterActive=function(cList){return _.isEqual($scope.fcList.sort(),cList.sort())};_setHideModalAppCookie=function(){var now=new Date,time=now.getTime();time+=6048e5,now.setTime(time),document.cookie="hideModalApp=true; expires="+now.toUTCString()+";"},$scope.getDeviceType=function(isIosMobile){var userAgent=navigator.userAgent||navigator.vendor||window.opera,isIosMobile=userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)||userAgent.match(/iPod/i),deviceType=(userAgent.match(/Android/i),"");return deviceType=isIosMobile?"iPhone":"Andriod"},$scope.handleDisplayOfModalApp=function(){_setHideModalAppCookie()},$scope.setModalAppUrl=function($event){function getMobileOperatingSystem(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;return userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)||userAgent.match(/iPod/i)?"iOS":userAgent.match(/Android/i)?"Android":"unknown"}var os=getMobileOperatingSystem();$scope.appRedirectUrl="http://freshmenu.com",$scope.modalAppRedirectUrl="http://freshmenu.com","Android"==os?($scope.modalAppRedirectUrl="http://play.google.com/store/apps/details?id=com.freshmenu",$scope.appRedirectUrl="https://play.google.com/store/apps/details?id=com.freshmenu&utm_source=website&utm_medium=dlink&utm_campaign=appdownload"):"iOS"==os&&($scope.modalAppRedirectUrl="http://itunes.apple.com/in/app/freshmenu-fresh-meal-delivery/id957179182?mt=8",$scope.appRedirectUrl="https://itunes.apple.com/in/app/freshmenu-fresh-meal-delivery/id957179182?mt=8&utm_source=website&utm_medium=dlink&utm_campaign=appdownload");var utm_pattern=new RegExp("utm_source"),url=$scope.modalAppRedirectUrl;url+=$window.location.search.length>0&&utm_pattern.test($window.location.search)?"&"+$window.location.search.split("?")[1]:"&utm_source=mweb&utm_medium=bottomsheet&utm_campaign=appdownload",$scope.modalAppRedirectUrl=url},$scope.setModalAppUrl(),$scope.setDividerText=function(){$scope.dividerText=$scope.user.id?"SAVED ADDRESS":"TOP LOCATIONS"},$scope.handleInitiatePaymentFailure=function($scope,$window,msg){$scope.msg=msg||"order_fail",$("html, body").animate({scrollTop:$window.$("#checkout-form").offset().top-95},1e3),$scope.orderInProgress=!1,$scope.$digest()},$scope.handleDisplayOfPaymentBtn=function(){simplPaymentOptionApproved?($("#simpl-container").addClass("show"),$("#simpl-container").removeClass("hide")):($("#simpl-container").addClass("hide"),$("#simpl-container").removeClass("show"))},$scope.setLocationsSuggestions=function(){$scope.locationsSuggestions={addresses:[{addressLine2:"Koramangala, Bengaluru",lat:12.9279232,lon:77.62710779999998},{addressLine2:"Whitefield, Bengaluru",lat:12.9697999,lon:77.74994670000001},{addressLine2:"Marathahalli, Bengaluru",lat:12.9591722,lon:77.69741899999997},{addressLine2:"J P Nagar, Bengaluru",lat:12.910491,lon:77.5857168},{addressLine2:"HSR Layout, Bengaluru",lat:12.9081357,lon:77.64760799999999},{addressLine2:"Indiranagar, Bengaluru",lat:12.9718915,lon:77.64115449999997},{addressLine2:"Domlur, Bengaluru",lat:12.9609857,lon:77.63873160000003},{addressLine2:"Sarjapur, Bengaluru",lat:12.8614,lon:77.7863}]}},$scope.setDefaultAddressesList=function(){},$scope.product_details={},$scope.ifProduct=function(product){return!_.isEmpty(product)},$scope.productLoading=!0,$scope.initProductDetailsPage=function(data){$scope.fmIsFromProductPage=!0,$scope.initialProductDetailLoadingDone=!0,$scope.pdpMenuCallDone=!1,dataLayer.push({event:"GTM_ECOM_PV",ecommerce:{detail:{actionField:{list:"Menu"},products:[{name:data.product_details.title,id:data.product_details.id,price:data.product_details.price,category:data.product_details.mealType}]}}});var windowElem=$(window),windowElemScrollTop=windowElem.scrollTop();$(window).scroll(function(){windowElemScrollTop=windowElem.scrollTop(),$scope.showScrollUpArrow=windowElemScrollTop>200,windowElemScrollTop>40?($(".gradient").removeClass("fm-gradient-non-sticky"),$(".gradient").addClass("fm-gradient-sticky")):($(".gradient").removeClass("fm-gradient-sticky"),$(".gradient").addClass("fm-gradient-non-sticky"))}),$scope.productLoading=!0;for(var key in data)$scope[key]=data[key];$scope.formatCartInfo($scope.cartInfo),$scope.getUser(),$scope.getCart(),$scope.setCitySelector(),setTimeout(function(){$(".overlay").removeClass("active")},1e3),_.isEmpty($scope.location)?$scope.getDefaultMenu(function(){$scope.getMenuProducts(data.product_details.id),$scope.citySelected=_.find($scope.cities,function(item){return _get($scope.validation,"serviceability.addressDTO.locality.city.id")==item.id}),$scope.setDefaultMenu(!0),$scope.pdpMenuCallDone=!0}):$scope.getMenu(function(){$scope.searchInput=$scope.getAddressLine2FormattedAddress($scope.location),$scope.getMenuProducts(data.product_details.id),$scope.citySelected=_.find($scope.cities,function(item){return _get($scope.validation,"serviceability.addressDTO.locality.city.id")==item.id}),$scope.setDefaultMenu(!0),$scope.pdpMenuCallDone=!0}),$scope.product_details=data.product_details,$scope.product_details.timings=data.product_details.deliveryTimings,$scope.product_details.price=data.product_details.price||0,$scope.product_details.available=data.product_details.isAvailable,$scope.product_details.soldOut=!data.product_details.available,$scope.product_details.isVeg=$scope.isVeg(data.product_details),$scope.product_details.containsEgg=$scope.containsEgg(data.product_details),$scope.productLoading=!1,$scope.fmInProductDetailsPage=!0},$scope.constructProductDetailPageUrl=function(product){var id=product.id,slug=product.slug;return slug+"/product/"+id},$scope.directToProductDetailsPage=function(product){var path=document.location.pathname,page=path.substring(path.indexOf("/"));page.indexOf("/product")>0&&(page="Product detail"),$scope.GTM_Custom_Event({category:"Item description",action:"Click",label:"Recommended item clicked",value:1}),TrackingService.postEvent("InfoTapped",{Title:product.title,Category:product.categories&&product.categories[0]&&product.categories[0].name?product.categories[0].name:"",Cost:product.price,pos_index:scrollY,Source:page}),window.location.href="/"+$scope.constructProductDetailPageUrl(product)},$scope.setAddress=function(address,location){},$scope.findAndMapProductDetails=function(menu,product,callback){var i,j,productsLength,productFound,productsLength,ok=!0,collectionsLength=menu.collections.length;if(collectionsLength)for(i=0;i<collectionsLength;i++)for(productsLength=menu.collections[i].products.length,j=0;j<productsLength;j++)product.id==menu.collections[i].products[j].id&&(ok=!1,productFound=menu.collections[i].products[j],productFound.timings=menu.collections[i].products[j].deliveryTimings,productFound.price=menu.collections[i].products[j].sellingPrice,productFound.available=menu.collections[i].products[j].isAvailable,productFound.soldOut=!menu.collections[i].products[j].isAvailable,product&&product.foodTags&&product.foodTags.length&&(productFound.foodTags=product.foodTags),product&&product.gc&&!_.isEmpty(product.gc)&&(productFound.gc=product.gc),callback(productFound));ok&&(product.timings=void 0,product.price=void 0,product.available=!1,product.soldOut=!product.available,callback(product))},$scope.getParameterByName=function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)","i"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null},$window.handleInitiatePaymentFailure=function(errorMsg){$scope.handleInitiatePaymentFailure($scope,$window,errorMsg)},$window.handleInitiatePaymentFailureForSimpl=function(){$scope.checkout.invalid=!0,$scope.handleInitiatePaymentFailure($scope,$window)},$window.validateCheckout=function(){return $scope.validateCheckout()},$scope.$watch("outer_payment_method",function(){"pay_later"==$scope.outer_payment_method&&"SIMPL"==$scope.payment_method?($("#simpl-container").addClass("show"),$("#simpl-container").removeClass("hide")):($("#simpl-container").addClass("hide"),$("#simpl-container").removeClass("show"))}),$scope.$watch("payment_method",function(){"pay_later"==$scope.outer_payment_method&&"SIMPL"==$scope.payment_method?($("#simpl-container").addClass("show"),$("#simpl-container").removeClass("hide")):($("#simpl-container").addClass("hide"),$("#simpl-container").removeClass("show"))}),_getSimplPaymentApproval(),$scope.displayLoginContainer=function(){$scope.showLoginContainer=!0,$scope.showSignUpContainer=!1},$scope.displaySignupContainer=function(){$scope.showLoginContainer=!1,$scope.showSignUpContainer=!0},$scope.displayUserProfileEdit=function(){$scope.displayUserProfileEditInfo=!0},$scope.checkoutSelectAddress=function(address){$scope.isAddressSelected=!0,$scope.forms.checkout.address=address,$scope.location=address,$scope.address=address,$scope.forms.checkout.user=_.extend($scope.forms.checkout.user,_.pick(address,"firstName","lastName","mobileNumber")),$scope.setUserLocation(_.omit(address,"firstName","lastName","mobileNumber"),function(){$scope.getCart(),$scope.getMenu()})},$scope.checkoutAddressSubmit=function(){$("#checkout-address-button").addClass("collapsed"),$("#checkout-address-section").collapse("hide"),$("#checkout-payment-button").removeClass("collapsed"),$("#checkout-payment-section").collapse("show")},$scope.validateUpdateForm=function(user){$scope.userUpdateForm={};var emailRegx=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,phoneRegex=/^\d{10}$/;return _.isUndefined(user)||_.isEmpty(user)?($scope.userUpdateForm={firstName:!0,mobileNumber:!0,email:!0,newPassword:!0},!1):((_.isUndefined(user.firstName)||_.isEmpty(user.firstName))&&($scope.userUpdateForm.firstName=!0),(_.isUndefined(user.mobileNumber)||_.isEmpty(user.mobileNumber)||!user.mobileNumber.match(phoneRegex))&&($scope.userUpdateForm.mobileNumber=!0),(_.isUndefined(user.email)||_.isEmpty(user.email)||!user.email.match(emailRegx))&&($scope.userUpdateForm.email=!0),!_.isEmpty(user.password)&&user.password.length<=3&&($scope.userUpdateForm.newPassword=!0),user.password!=user.confirmPassword&&($scope.userUpdateForm.passwordMismatch=!0),_.isEmpty($scope.userUpdateForm))},$scope.updateUserInformation=function(user){$scope.validateUpdateForm(user)&&($scope.updatingUserProfile||($scope.forms.register.errors={},$scope.updatingUserProfile=!0,Api.updateUserInfo(user,function(data){$scope.updatingUserProfile=!1,$scope.displayUserProfileEditInfo=!1},function(data){$scope.forms.register.errors=data,$scope.updatingUserProfile=!1})))},$scope.validateUserEmail=function(user,formOject){if($scope[formOject]){var emailRegx=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;_.isUndefined(user.email)||_.isEmpty(user.email)||!user.email.match(emailRegx)?$scope[formOject].email=!0:$scope[formOject].email=!1}},$scope.validateLoginForm=function(user,loginFormObject){$scope[loginFormObject]={},user?((!user.email||0==user.email.length)&&$("#modal-login form input[name='email']").val().length>0&&(user.email=$("#modal-login form input[name='email']").val()),(!user.password||0==user.password.length)&&$("#modal-login form input[name='password']").val().length>0&&(user.password=$("#modal-login form input[name='password']").val())):(user={},$("#modal-login form input[name='email']").val().length>0&&(user.email=$("#modal-login form input[name='email']").val()),$("#modal-login form input[name='password']").val().length>0&&(user.password=$("#modal-login form input[name='password']").val()));var emailRegx=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return!$scope.businessPage||_.isUndefined(user)||_.isEmpty(user)||"swissre.com"==user.email.split("@")[1]?_.isUndefined(user)||_.isEmpty(user)?($scope[loginFormObject]={email:!0,password:!0},!1):((_.isUndefined(user.email)||_.isEmpty(user.email)||!user.email.match(emailRegx))&&($scope[loginFormObject].email=!0),(_.isUndefined(user.password)||_.isEmpty(user.password)||user.password.length<=3)&&($scope[loginFormObject].password=!0),_.isEmpty($scope[loginFormObject])):($scope[loginFormObject].email=!0,!1)},$scope.login=function(user,callback){$scope.validateLoginForm(user,"loginForm")&&($scope.loginLoading||($scope.loginLoading=!0,
Api.login(user,function(data){$scope.fromLoginSuccess=!0,$localstorage.removeItem("lastUsedAddressId"),$scope.user=data,Cookie.set({cookieName:"fmAlternativeEmailId",cookieValue:data.email,expireTime:720}),_getSimplPaymentApproval(),$scope.setDividerText(),$scope.forms.checkout.user=data,$scope.getUserAddresses(),$scope.getMenu(),MODAL_LOGIN.hide(),$scope.confirmInProgress&&($("#confirm").modal("show"),$scope.confirmInProgress=!1),$scope.loginLoading=!1,$scope.businessPage&&$scope.getLastOrder(),$scope.isPage(["/order-created"])&&$scope.getOrders(),callback&&callback(data),dataLayer.push({event:"loginRequest",action:"Email",label:"Success"}),TrackingService.postEvent("User identified",{type:"Login",Mode:"Email",Status:"Success",Email:data.email?data.email:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)},data),$scope.callAfterAnyLogin()},function(data){500==data.status?$scope.forms.login.errors={data:{message:"Something went wrong. Try again"}}:$scope.forms.login.errors=data,$scope.loginLoading=!1,dataLayer.push({event:"loginRequest",action:"Email",label:"Fail"}),TrackingService.postEvent("User identified",{type:"Login",Mode:"Email",Status:"Failure",Email:data.email?data.email:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)})})))},$scope.validateUserPassword=function(user,formOject){$scope[formOject]&&(_.isUndefined(user)||_.isEmpty(user)||_.isUndefined(user.password)||_.isEmpty(user.password)||user.password.length<=3?$scope[formOject].password=!0:$scope[formOject].password=!1)};var _verifyMobileNumber=function(mobileVerificationForm){var successCb,errorCb;successCb=function(response){$scope.verifyingMobileNumber=!1,TrackingService.postEvent("Mobile verified",{"Mobile number":mobileVerificationForm.mobileNumber,Mode:"SMS",status:"Success"}),response.data?(MODAL_MOBILE_VERIFICATION.hide(),$scope.forms.mobileVerification.OTPerror=!1,$scope.user=response.data,"/order-created"==window.location.pathname&&(window.location="/"),$scope.directToAddressSection(),$scope.openAddressSection()):(TrackingService.postEvent("Mobile verified",{"Mobile number":mobileVerificationForm.mobileNumber,Mode:"SMS",status:"Failure"}),$scope.forms.mobileVerification.OTPerror=!0)},errorCb=function(response){TrackingService.postEvent("Mobile verified",{"Mobile number":mobileVerificationForm.mobileNumber,Mode:"SMS",status:"Failure"}),$scope.verifyingMobileNumber=!1,$scope.forms.mobileVerification.errors=response.errors},$scope.verifyingMobileNumber=!0,Api.verifyMobileNumberWithoutDigits(mobileVerificationForm,successCb,errorCb)};$scope.verifyMobileNumber=function(mobileVerificationForm){_.isEmpty(mobileVerificationForm.OTPToken)?$scope.forms.mobileVerification.isOTPEmpty=!0:(_verifyMobileNumber(mobileVerificationForm),$scope.forms.mobileVerification.isOTPEmpty=!1)};var _getOTP=function(mobileNumber,isResending){var successCb,errorCb;$scope.showSendOTPAgainMsg=!1,$scope.showSendOTPFailedAgainMsg=!1,successCb=function(response){response.data?($scope.fetchingOTP=!1,$scope.fetchingOTPDone=!0,$scope.forms.mobileVerification.error=!1,$scope.showSendOTPAgainMsg=isResending):($scope.fetchingOTP=!1,$scope.forms.mobileVerification.error=!0,$scope.showSendOTPAgainMsg=!1,$scope.showSendOTPFailedAgainMsg=isResending)},errorCb=function(){$scope.showSendOTPAgainMsg=!1,$scope.showSendOTPFailedAgainMsg=isResending,$scope.fetchingOTP=!1,$scope.forms.mobileVerification.error=!0,$scope.forms.mobileVerification.error=!0},Api.getOTP(mobileNumber,$scope.user,successCb,errorCb)};$scope.validateUserMobileNumber=function(user,formOject){var phoneRegex=/^\d{10}$/;$scope[formOject]&&(_.isUndefined(user)||_.isEmpty(user)||_.isUndefined(user.mobileNumber)||_.isEmpty(user.mobileNumber)||!user.mobileNumber.match(phoneRegex)?$scope[formOject].mobileNumber=!0:$scope[formOject].mobileNumber=!1)},$scope.getOTPForMobileNumber=function(mobileVerificationForm,isResending){if($scope.validateUserMobileNumber(mobileVerificationForm,"mobileVerification"),_.isEmpty($scope.mobileVerification)){$scope.fetchingOTP=!0;var currentPath=window.location.pathname.split("/")[1];currentPath=""!=currentPath?currentPath:"menu",TrackingService.postEvent("Mobile verified initialised",{"Mobile number":mobileVerificationForm.mobileNumber,"Source screen":currentPath}),_getOTP(mobileVerificationForm.mobileNumber,isResending)}},$scope.displayDigitsPopup=function(){$scope.user&&$scope.user.mobileNumber&&($scope.forms.mobileVerification.mobileNumber=$scope.user.mobileNumber),MODAL_MOBILE_VERIFICATION.show()},$scope.register=function(user){if($scope.validateRegisterForm(user,"registerForm")&&!$scope.registerLoading){var currentPath=window.location.pathname.split("/")[1];currentPath=""!=currentPath?currentPath:"menu",$scope.forms.register.errors=null,$scope.registerLoading=!0,Api.register(user,function(data){$scope.fromLoginSuccess=!0,$scope.registerLoading=!1,$scope.user=data,Cookie.set({cookieName:"fmAlternativeEmailId",cookieValue:data.email,expireTime:720}),$scope.displayDigitsPopup(),_getSimplPaymentApproval(),$scope.setDividerText(),$scope.forms.checkout.user=data,$scope.getUserAddresses(),$scope.getMenu(),MODAL_LOGIN.hide(),$scope.confirmInProgress&&($("#confirm").modal("show"),$scope.confirmInProgress=!1),$scope.loginLoading=!1,$scope.businessPage&&$scope.getLastOrder(),$scope.isPage(["/order-created"])&&$scope.getOrders(),MODAL_REGISTER_EMAIL.hide(),dataLayer.push({event:"signUpRequest",action:"Email",label:"Success"}),TrackingService.postEvent("User identified",{type:"Sign up",Mode:"Email",Status:"Success",Email:user.email?user.email:"",SourceScreen:currentPath,phoneNumber:user.mobileNumber?user.mobileNumber:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)},user),$scope.callAfterAnyLogin()},function(response){$scope.forms.register.errors=response.data,$scope.registerLoading=!1,dataLayer.push({event:"signUpRequest",action:"Email",label:"Fail"}),TrackingService.postEvent("User identified",{type:"Sign up",Mode:"Email",Status:"Failure",Email:user.email?user.email:"",SourceScreen:currentPath,phoneNumber:user.mobileNumber?user.mobileNumber:"","NUP Eligible":!(!$scope.menu||!$scope.menu.psd||"NEW_USER"!==$scope.menu.psd.wt)})})}},$scope.scriptsCheck=function(s){var div=document.createElement("div");div.innerHTML=s;var scripts=div.getElementsByTagName("script"),i=scripts.length;return!!i},$scope.validateRegisterForm=function(user,registerFormType){$scope[registerFormType]={};var emailRegx=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,phoneRegex=/^\d{10}$/;return user||(user={}),(!user.firstName||0==user.firstName.length)&&$("#modal-register-email form input[name='firstName']").val().length>0&&(user.firstName=$("#modal-register-email form input[name='firstName']").val()),(!user.lastName||0==user.lastName.length)&&$("#modal-register-email form input[name='lastName']").val().length>0&&(user.lastName=$("#modal-register-email form input[name='lastName']").val()),(!user.email||0==user.email.length)&&$("#modal-register-email form input[name='email']").val().length>0&&(user.email=$("#modal-register-email form input[name='email']").val()),(!user.password||0==user.password.length)&&$("#modal-register-email form input[name='password']").val().length>0&&(user.password=$("#modal-register-email form input[name='password']").val()),_.isUndefined(user)||_.isEmpty(user)?($scope.registerForm={firstName:!0,mobileNumber:!0,email:!0,password:!0},!1):((_.isUndefined(user.firstName)||_.isEmpty(user.firstName)||$scope.scriptsCheck(user.firstName))&&($scope.registerForm.firstName=!0),$scope.scriptsCheck(user.lastName)&&($scope.registerForm.lastName=!0),(_.isUndefined(user.mobileNumber)||_.isEmpty(user.mobileNumber)||!user.mobileNumber.match(phoneRegex))&&($scope.registerForm.mobileNumber=!0),(_.isUndefined(user.email)||_.isEmpty(user.email)||!user.email.match(emailRegx))&&($scope.registerForm.email=!0),(_.isUndefined(user.password)||_.isEmpty(user.password)||user.password.length<=3)&&($scope.registerForm.password=!0),_.isEmpty($scope.registerForm))},$scope.validateUserFirstName=function(user,formOject){$scope[formOject]&&(_.isUndefined(user)||_.isEmpty(user)||_.isUndefined(user.firstName)||_.isEmpty(user.firstName)||$scope.scriptsCheck(user.firstName)?$scope[formOject].firstName=!0:$scope[formOject].firstName=!1)},$scope.validateUserlastName=function(user,formOject){$scope[formOject]&&($scope.scriptsCheck(user.lastName)?$scope[formOject].lastName=!0:$scope[formOject].lastName=!1)},$scope.validateUserMobileNumber=function(user,formOject){var phoneRegex=/^\d{10}$/;$scope[formOject]&&(_.isUndefined(user)||_.isEmpty(user)||_.isUndefined(user.mobileNumber)||_.isEmpty(user.mobileNumber)||!user.mobileNumber.match(phoneRegex)?$scope[formOject].mobileNumber=!0:$scope[formOject].mobileNumber=!1)},$scope.getPreorderProductsFromCart=function(){return _.filter($scope.cart.items,function(item){return!$scope.checkTimings(item.productDTO.timings,!0)})},$scope.redirectToCheckout=function(){$scope.fireEventsAndRedirect()},$scope.removeAllPreorderFromCart=function(){Api.removeBulkFromCart($scope.getPreorderProductsFromCart(),function(data){$scope.fireEventsAndRedirect()})},$scope.fireEventsAndRedirect=function(){GTM_log_funnel_step({action:"Checkout",ecommerce:{checkout:{actionField:{step:4},products:GTM_map_cart_products($scope.cart)}}},function(){console.log("########################## FUNNEL STEP 4")});var amount=($scope.cart&&$scope.cart.finalAmount?$scope.cart.finalAmount:0).toString(),path=document.location.pathname,page=path.substring(path.indexOf("/"));page.indexOf("/product")>0&&(page="Product detail"),TrackingService.postEvent("Checkout clicked",{Kitchen:$scope.menu.fulfillmentCenter.name,Amount:amount,Source:page}),window.location.href="/checkout"},$scope.redirectToCheck=function(){return"C"===$scope.cart.dst?(fmIsMobileTemplate?MENU_CART.hide():$scope.closeCart(),void $timeout(function(){MODAL_DELIVER_NOW_LATER.show()},200)):($scope.redirectingToCheckout=!0,void $scope.fireEventsAndRedirect())},$scope.redirectToCheckMobile=function(){if("C"===$scope.cart.dst)return MENU_CART.hide(),void $timeout(function(){MODAL_DELIVER_NOW_LATER.show()},200);$scope.redirectingToCheckout=!0;var amount=$scope.cart&&$scope.cart.totalAmount&&$scope.cart.paymentDetails.totalAmount?$scope.cart.paymentDetails.totalAmount.toString():"0";console.log("clevertap event for Checkout clicked getting triggered"),TrackingService.postEvent("Checkout clicked",{Kitchen:$scope.menu.fulfillmentCenter.name,Amount:amount,Source:"Product detail"}),Api.setDsi({dsi:$scope.selected_delivered_time.id},function(res){res&&res.validation&&res.validation.error&&_.keys(res.validation.error).length?($scope.getCart(),cb&&cb(!1)):window.location.href="/checkout"})},$scope.initFreeFood=function(){var successCb,errorCb;successCb=function(response){response&&response.data&&response.data.shareurl&&($scope.referralCode=response.data.shareurl.split("/")[response.data.shareurl.split("/").length-1])},errorCb=function(data){};var freeFoodCb=function(user){Api.fetchRefferalLink(user,successCb,errorCb)};$scope.getUser(freeFoodCb)},$scope.copyToClickBoard=function($event){var elem=document.getElementById("free-food-referral-link"),target=document.createElement("textarea");target.style.position="absolute",target.style.left="-9999px",target.style.top="0",target.id="_hiddenCopyText_",document.body.appendChild(target),target.textContent=elem.textContent;document.activeElement;target.focus(),target.setSelectionRange(0,target.value.length);try{succeed=document.execCommand("copy")}catch(e){succeed=!1}},$scope.fmOfferDisplayModalLink=function(link){window.location.href=link},$scope.hasCollectionAnyCategoryItems=function(collection,fcList){for(var itemCount=0,i=0;i<collection.products.length;i++)_.each(collection.products,function(product){$scope.hasAnyCategories(product,fcList)&&itemCount++});return itemCount>0},$scope.triggerFBEvents=function(){var FBEventIntervalFn,FBEventIntervalId,duration=100,counter=1;1!=window.isNewOrder&&"true"!=window.isNewOrder||(FBEventIntervalFn=function(){$window.fbq&&($window.clearInterval(FBEventIntervalId),$window.fbq("track","Purchase",{value:$window.finalAmount,currency:"INR"})),counter++,counter>10&&$window.clearInterval(FBEventIntervalId)},FBEventIntervalId=$window.setInterval(FBEventIntervalFn,duration))},$scope.GTM_Custom_Event=function(customEvent){dataLayer.push(_.assign(customEvent,{event:"customEvent"}))},$scope.cleverTapMenuCartEvent=function(){var amount=($scope.cart&&$scope.cart.finalAmount?$scope.cart.finalAmount:0).toString(),path=document.location.pathname,page=path.substring(path.indexOf("/"));page.indexOf("/product")>0&&(page="Product detail"),GTM_log_funnel_step({action:"Checkout",ecommerce:{checkout:{actionField:{step:3},products:GTM_map_cart_products($scope.cart)}}},function(){console.log("########################## FUNNEL STEP 3")}),TrackingService.postEvent("Cart clicked",{Amount:amount,Source:page}),$scope.showCart?$scope.closeCart():openCart()},$scope.closeCart=function(){$scope.hideCart=!0,$scope.showCart=!1},$scope.fmSubscribeEmail=null,$scope.fmSubscribeEmailError=!1,$scope.fmSubscribeError=!1,$scope.fmSubscribeSuccess=!1,$scope.validateSubscribeEmail=function(){$scope.fmSubscribeError=!1,$scope.fmSubscribeSuccess=!1,$scope.fmSubscribeEmail&&$scope.fmSubscribeEmail.length>0&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test($scope.fmSubscribeEmail)?$scope.fmSubscribeEmailError=!1:$scope.fmSubscribeEmailError=!0},$scope.fmSubscribeToEmail=function(){$scope.validateSubscribeEmail(),$scope.fmSubscribeEmail&&$scope.fmSubscribeEmail.length>0&&!$scope.fmSubscribeEmailError&&Api.fmSubscribeToEmail($scope.fmSubscribeEmail,function(data){data.data?($scope.fmSubscribeSuccess=!0,$scope.fireFooterGAEvent("click","subscribe_newletter_success")):($scope.fireFooterGAEvent("click","subscribe_newletter_failure"),$scope.fmSubscribeError=!0)})},$scope.appDownload={},$scope.appDownloadSuccess=!1,$scope.errors={appDownload:{}},$scope.sendAppDownloadUrl=function(type){$scope.errors.appDownload={};var phoneRegex=/^\d{10}$/,mobileNumber=$scope.appDownload.mobileNumber;return _.isUndefined(mobileNumber)||_.isEmpty(mobileNumber)||!mobileNumber.match(phoneRegex)?void($scope.errors.appDownload.mobileNumber="Please enter a valid mobile number."):(type&&($scope.appDownload.type=type),$scope.appDownloadloading=!0,TrackingService.postEvent("Clicked",{action:"send",source:"Download app"}),void $http.post("/api/sms/applink",$scope.appDownload).then(function(){$scope.appDownloadLoading=!1,$scope.appDownloadSuccess=!0,$scope.appDownload={}},function(){$scope.errors.appDownload.msg="Please enter a valid mobile number.",$scope.appDownloadLoading=!1}))},$scope.openLoginModalFormHeader=function(){$scope.loginSourceScreen="",!fmIsMobileTemplate||1!=fmIsMobileTemplate&&"true"!=fmIsMobileTemplate||("corporate"==window.location.pathname.split("/")[window.location.pathname.split("/").length-1]?(BURGER_MENU.hide(),MODAL_LOGIN.show()):window.location.href="/signin")},$scope.openSignupModalFormHeader=function(){$scope.loginSourceScreen="",!fmIsMobileTemplate||1!=fmIsMobileTemplate&&"true"!=fmIsMobileTemplate||MODAL_REGISTER_EMAIL.show()},$scope.fmfreebieMessageShown=!1,$scope.fmshowFreebieMessage=!1,$scope.showFreebieMessage=function(data){data.fi&&data.fi.length>0?$scope.fmfreebieMessageShown||($scope.fmfreebieMessageShown=!0,$scope.fmshowFreebieMessage=!0,$scope.freebietimeout=setTimeout(function(){$scope.fmshowFreebieMessage=!1},5e3)):($scope.fmshowFreebieMessage=!1,$scope.fmfreebieMessageShown=!1)},$scope.closefreebiemessage=function(){$scope.fmfreebieMessageShown=!0,$scope.fmshowFreebieMessage=!1},$scope.favoriteInProcess=!1,$scope.favoriteProductId="",$scope.favoriteTriggeredEvent={},$scope.loginSourceScreen="",$scope.fromLoginSuccess=!1,$scope.fmAddFavorite=function(){"favourite"==$scope.loginSourceScreen&&$scope.fromLoginSuccess?($scope.fromLoginSuccess=!1,$scope.product_details.isLiked||$scope.favoriteLike($scope.favoriteTriggeredEvent,$scope.product_details.id,"product detail")):$scope.fromLoginSuccess&&($scope.fromLoginSuccess=!1,!fmIsMobileTemplate||1!=fmIsMobileTemplate&&"true"!=fmIsMobileTemplate||location.reload())},$scope.favorite=function(event,collectionIndex,productIndex,productId){if($scope.user&&$scope.user.id){var screenName="";$scope.favoriteInProcess||(screenName="product detail",$scope.favoriteInProcess=!0,$scope.product_details&&!$scope.product_details.isLiked?$scope.favoriteLike(event,$scope.product_details.id,screenName):$scope.product_details&&$scope.product_details.isLiked&&$scope.favoriteUnlike(event,$scope.product_details.id,screenName))}else $scope.favoriteTriggeredEvent=event,$scope.favoriteProductId=productId,$scope.loginSourceScreen="favourite",MODAL_LOGIN.show()},$scope.pushState=function(){window.history.pushState({},"",window.location.pathname)},$scope.goback=function(){"coupon-offers"!==$scope.cartScreen||$scope.cart&&$scope.cart.offer&&$scope.cart.offer.status||$scope.addOfferCode(null),window.history.back()},window.addEventListener("popstate",function(){"coupon"==$scope.cartScreen||"delivery"==$scope.cartScreen||"coupon-offers"==$scope.cartScreen?("coupon-offers"==$scope.cartScreen&&$scope.toggleBankOfferDesc?$scope.toggleBankOfferDesc=!1:$scope.cartScreen="cart",$scope.$apply()):$scope.isCorporatePage||MENU_CART.hide()}),$scope.favoriteLike=function(event,productId,screenName){Api.favoriteLike({productIds:[productId]},function(response){response.data.success&&($scope.product_details.isLiked=!$scope.product_details.isLiked.isLiked,$scope.product_details.likesCount+=1,TrackingService.postEvent("Clicked",{action:"mark favourite",screenname:screenName})),$scope.loginSourceScreen="",$scope.favoriteTriggeredEvent={},$scope.favoriteProductId="",$scope.favoriteInProcess=!1})},$scope.favoriteUnlike=function(event,productId,screenName){Api.favoriteUnlike({productIds:[productId]},function(response){response.data.success&&($scope.product_details.isLiked=!$scope.product_details.isLiked,$scope.product_details.likesCount-=1,TrackingService.postEvent("Clicked",{action:"unmark favourite",screenname:screenName})),$scope.favoriteProductId="",$scope.favoriteInProcess=!1})},$scope.goToMenu=function(){window.location.href="/"},$scope.directToShare=function(account,product){var path=document.location.pathname,page=path.substring(path.indexOf("/"));switch("/"==page&&(page="/menu"),TrackingService.postEvent("product shared",{Id:product.id,"Product title":product.p,Category:product&&product.categories&&product.categories[0]&&product.categories[0].name?product.categories[0].name:"","Scroll depth":$(window).scrollTop(),Source:page,Mode:account}),account){case"fb":return $scope.FB_share(product.su);case"tw":return $scope.TW_share(product.su);case"gp":return $scope.GP_share(product.su);default:return!1}},$scope.fmCurrentPageName=window.fmCurrentPageName&&""!=window.fmCurrentPageName?window.fmCurrentPageName:"",$scope.fireGAEvent=function(category,action,label,value,source){""!=$scope.fmCurrentPageName&&"PDP"==$scope.fmCurrentPageName&&("Cart"!=category?category="PDP":source="PDP");var data={event:"customEvent",category:category,action:action};label&&(data.label=label),value&&(data.value=value),source&&(data.source=source),dataLayer.push(data),"Cart"==category&&"browse_food"==label&&(window.location.href="/")},$scope.fireFooterGAEvent=function(action,label,value,source){$scope.fireGAEvent(getPageFromUrl(),action,label,value,source||getPageFromUrl())},$scope.fireHeaderGAEvent=function(action,label,value,source){$scope.fireGAEvent(getPageFromUrl(),action,label,value,source||getPageFromUrl())},"undefined"!=typeof MODAL_LOCATION_ADDRESS&&(MODAL_LOCATION_ADDRESS.openCallbacks.push(function(){$scope.fireGAEvent("","load","location_popup")}),MODAL_LOCATION_ADDRESS.closeCallbacks.push(function(){$scope.fireGAEvent("","click","close_change_location")})),$scope.fmCorporateRedirect=function(){"/corporate"!=$scope.locationPathname&&setTimeout(function(){TrackingService.postEvent("Clicked",{action:"Corporate ordering"}),window.location.href="/corporate"})},$scope.freshMoneyConfig={},$scope.freshMoneyConfigFetching=!1,$scope.getFreshmoneyConfig=function(){$scope.freshMoneyConfigFetching=!0,Api.getFreshMoneyConfig(function(response){$scope.freshMoneyConfigFetching=!1,$scope.freshMoneyConfig=response})},$scope.fetchingClubPDP=!0,$scope.fmFreshClubInitialize=function(data){$scope.getContactInfo(),$scope.getUser(function(data){$scope.getClubPDP()})},$scope.freshClubPDP={},$scope.getClubPDP=function(){$scope.fetchingClubPDP=!0,Api.getClubPDP(function(response){$scope.fetchingClubPDP=!1,$scope.updatefreshClubPDP(response)})},$scope.updatefreshClubPDP=function(response){if(response&&response.data&&!_.isEmpty(response.data)){if(response.data.ppd&&response.data.ppd.length>1)for(var i=0;i<response.data.ppd.length;i++)response.data.ppd[i].id=i,response.data.ppd[i].promoted&&$scope.updateCurrentPlan(response.data.ppd[i]);else response.data.ppd&&1==response.data.ppd&&(response.data.ppd[0].id=0,response.data.ppd[0].promoted&&$scope.updateCurrentPlan(response.data.ppd[0]));if($scope.freshClubPDP=response.data,response.data.ppd&&response.data.ppd.length&&($scope.freshClubPDP.c=$scope.selectedPlan.cta),response.data&&response.data.wfd&&response.data.wfd.length){var detailHTML="";for(var index in response.data.wfd)detailHTML+="<div class='detail'>"+response.data.wfd[index]+"</div>";document.getElementById("detail")&&(document.getElementById("detail").innerHTML=detailHTML)}response.data&&response.data.wi&&response.data.wi.subTitle&&""!=response.data.wi.subTitle&&document.getElementById("freshClubSubTitle")&&(document.getElementById("freshClubSubTitle").innerHTML=response.data.wi.subTitle)}},$scope.fmClubCoupon="",$scope.fmCheckingClubCode=!1,$scope.fmClubCodeStatus={},$scope.fmCheckClubCode=function(){$scope.fmClubCodeStatus={},$scope.fmClubCoupon&&$scope.fmClubCoupon.length?($scope.fmCheckingClubCode=!0,Api.fmCheckClubCode({code:$scope.fmClubCoupon,days:$scope.selectedPlan&&$scope.selectedPlan.days?$scope.selectedPlan.days:0,clubAmount:$scope.selectedPlan&&$scope.selectedPlan.amount?$scope.selectedPlan.amount:0},function(response){response&&response.data?($scope.fmClubCodeStatus=response.data,$scope.fmCheckingClubCode=!1,response.data&&response.data.status?$scope.addCleverTapEvent("FreshClub coupon",{applied:"successful","offer code":$scope.fmClubCoupon,success:response.data&&response.data.message?response.data.message:""}):$scope.addCleverTapEvent("FreshClub coupon",{applied:"failure","offer code":$scope.fmClubCoupon,error:response.data&&response.data.message?response.data.message:""})):($scope.addCleverTapEvent("FreshClub coupon",{}),$scope.fmCheckingClubCode=!1,$scope.fmClubCodeStatus={status:!1,message:"Something went wrong. Please try again later."},$scope.addCleverTapEvent("FreshClub coupon",{applied:"failure","offer code":$scope.fmClubCoupon,error:$scope.fmClubCodeStatus}))})):$scope.fmClubCodeStatus={status:!1,message:"Please enter Referral code"}},$scope.fmRemoveClubCode=function(){$scope.fmClubCoupon="",$scope.fmClubCodeStatus={}},$scope.fromJoinClub=!1,$scope.joinFreshClub=function(){$scope.user&&$scope.user.id&&""!=$scope.user.id?$scope.subscribeToClub():($scope.fromJoinClub=!0,MODAL_LOGIN.show())},$scope.callAfterAnyLogin=function(){$scope.fmAddFavorite(),$scope.fromJoinClub&&$scope.getClubPDP(),$scope.fromJoinClub=!1,$scope.$broadcast("mealPassLogin")},$scope.subscribeToClub=function(){TrackingService.postEvent("Clicked",{action:"Subscribe Club",mode:"pdp"}),$scope.fmClubCodeStatus&&$scope.fmClubCodeStatus.status&&($scope.selectedPlan.code=$scope.fmClubCodeStatus.code,$scope.fmClubCodeStatus.amount&&($scope.selectedPlan.codeAmount=$scope.fmClubCodeStatus.amount)),"undefined"!=typeof Storage&&localStorage.setItem("subscribeClubCta",JSON.stringify({ctaText:$scope.selectedPlan.cta})),Api.subscribeToClub($scope.selectedPlan,function(response){if(response.data&&response.data.paymentLink){var genCartObj={};genCartObj.type="freshclub",genCartObj.details={paymentData:response.data,selectedPlan:$scope.selectedPlan},Api.updateGenCart(genCartObj,function(response){window.location.href="/freshmenu-checkout"})}else response.data&&"SUCCESS"==response.data.transactionStatus?window.location.href="/#/clubActivated":(response.data&&response.data.message&&""!=response.data.message&&($scope.freshClubPDP.message=response.data.message),$scope.fmTriggerClubSubscribeEvent($scope.freshClubPDP&&""!=$scope.freshClubPDP.c?$scope.freshClubPDP.c:"Join Free Trail"))})},$scope.selectedPlan={},$scope.updateCurrentPlan=function(plan){$scope.freshClubPDP.c=plan.cta,$scope.selectedPlan=plan,$scope.fmClubCoupon&&$scope.fmClubCoupon.length&&$scope.fmCheckClubCode()},$scope.goToPrimeScreen=function(pageId){16==pageId&&(window.location.href="/fresh-club"),window.location.href="/fresh-club"},$scope.showFmStickyMsg=!0,$scope.freshClubChargeFailmessage="",$scope.callBeforeMainRender=function(hash){hash&&"#/chargefail"==hash?($scope.freshClubChargeFailmessage="Something went wrong please try again later",$scope.fmTriggerClubSubscribeEvent($scope.freshClubPDP&&""!=$scope.freshClubPDP.c?$scope.freshClubPDP.c:"Join FreshClub"),TrackingService.postEvent("FreshClub Payment failure",{type:"undefined"!=typeof Storage?localStorage.getItem("fmInnerPaymentM"):"",mode:"undefined"!=typeof Storage?localStorage.getItem("fmOuterPaymentM"):""})):$scope.freshClubChargeFailmessage=""},$scope.fmTriggerClubSubscribeEvent=function(mode){TrackingService.postEvent("Subscribed",{mode:mode,status:"failed"})},$scope.$watch(function(){return window.location.hash},function(hash){switch(hash){case"#/chargefail":$scope.callBeforeMainRender("#/chargefail");break;default:$scope.callBeforeMainRender("")}}),$scope.couponOffers=[],$scope.getCouponOffers=function(){Api.getCouponOffers().then(function(response){$scope.couponOffers=response.data},function(response){})},$scope.openCouponOffersScreen=function(){$scope.cart&&$scope.cart.offer&&$scope.cart.offer.status||($scope.cartScreen="coupon-offers",$scope.pushState())},$scope.toggleBankOfferDesc=!1,$scope.selectedBankOffer={},$scope.bankOfferDescClose=function(offer,show){show?($scope.selectedBankOffer=offer,$scope.pushState(),$scope.toggleBankOfferDesc=show):($scope.selectedBankOffer={},$scope.goback())},$scope.setOfferCodeBeforeRequest=function(code){$scope.forms.offer={offerCode:code},$scope.cart.offer={code:code}},$scope.createWalletObjFromList=function(cart){if($scope.walletObj={},cart.paymentDetails.walletMessage&&cart.paymentDetails.walletMessage.walletMessages&&cart.paymentDetails.walletMessage.walletMessages.length){var _i2=void 0;for(_i2=0;_i2<cart.paymentDetails.walletMessage.walletMessages.length;_i2++)$scope.walletObj[cart.paymentDetails.walletMessage.walletMessages[_i2].walletEntryType]=cart.paymentDetails.walletMessage.walletMessages[_i2]}},$scope.showMobileTopMenu=!1,$scope.toggleMobileTopMenu=function(){if($scope.showMobileTopMenu=!$scope.showMobileTopMenu,$scope.thirdPartyApp&&""!==$scope.thirdPartyApp){if(_.isEmpty($scope.user))return $scope.showMobileTopMenu=!1,void(location.href="/");$scope.showMobileTopMenu?document.body.setAttribute("style","position: fixed;width: 100%;height: 100%;"):document.body.setAttribute("style","")}else $scope.showMobileTopMenu?document.body.setAttribute("style","position: fixed;width: 100%;height: 100%;"):document.body.setAttribute("style","")},$scope.isTodaysMenu=!0,$scope.filterTitle="",$scope.initFilterPage=function(data){$scope.loading=!0,data.menu=MenuLiteService.format(data.menu);for(var key in data)$scope[key]=data[key];$scope.filterTitle=$scope.menu.collections[0].name,$scope.formatCartInfo($scope.cartInfo),$scope.mapMenu(),$scope.getUser(),$scope.getCart(),$scope.setCitySelector(),setTimeout(function(){$(".overlay").removeClass("active")},1e3),$scope.loading=!1,_.isEmpty($scope.location)?($scope.citySelected=_.find($scope.cities,function(item){return _get($scope.validation,"serviceability.addressDTO.locality.city.id")==item.id}),$scope.setDefaultMenu(!0)):($scope.searchInput=$scope.getAddressLine2FormattedAddress($scope.location),$scope.citySelected=_.find($scope.cities,function(item){return _get($scope.validation,"serviceability.addressDTO.locality.city.id")==item.id}),$scope.setDefaultMenu(!0)),$scope.product_details={},$scope.productLoading=!1},$scope.getBsp=function(id){for(var i=0;i<$scope.menu.collections.length;i++)for(var j=0;j<$scope.menu.collections[i].products.length;j++)if($scope.menu.collections[i].products[j].id===id)return $scope.menu.collections[i].products[j].bsp},$scope.getBsd=function(id){for(var i=0;i<$scope.menu.collections.length;i++)for(var j=0;j<$scope.menu.collections[i].products.length;j++)if($scope.menu.collections[i].products[j].id===id)return $scope.menu.collections[i].products[j].bsd},$scope.getNup=function(id){for(var i=0;i<$scope.menu.collections.length;i++)for(var j=0;j<$scope.menu.collections[i].products.length;j++)if($scope.menu.collections[i].products[j].id===id)return $scope.menu.collections[i].products[j].nup}}]),app.controller("CommonHeader",["$scope","$timeout","$sce","$window","Api","TrackingService",function($scope,$timeout,$sce,$window,Api,TrackingService){$scope.currentPathname=window.location.pathname.split("/"),$scope.currentPathname.length&&$scope.currentPathname.length>2&&($scope.currentPathname[1]=$scope.currentPathname[2]),$scope.fmShowElems=window.fmShowElems}]);